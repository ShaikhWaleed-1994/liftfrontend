(self.webpackChunkPhysic=self.webpackChunkPhysic||[]).push([[13761],{13761:function(t,e,i){"use strict";i.r(e),i.d(e,{ExerciseCategoryModule:function(){return D}});var a=i(46700),o=i(55679),n=i(10135),s=i(99046),c=i(83845),r=i(73756),l=i(56410),d=i(31041),u=i(2996),g=i(11520),p=i(44019),m=i(43835),h=i(44689),Z=i(8183),b=i(40878),f=i(35366),A=i(67652),v=i(23733),x=i(17647),y=i(61116),T=i(1663),L=i(55e3),q=i(99416);const C=["tagInput"];function w(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"sw-attachment",34),f.NdJ("ngModelChange",function(e){return f.CHM(t),f.oxw().row.attachmentId=e}),f.qZA()}if(2&t){const t=f.oxw().row;f.Q6J("isThumbnail",!0)("ngModel",t.attachmentId)("readonly",!0)}}function M(t,e){if(1&t&&(f.TgZ(0,"span",32),f.YNc(1,w,1,3,"sw-attachment",33),f.qZA()),2&t){const t=e.row;f.xp6(1),f.Q6J("ngIf",t.attachmentId)}}function U(t,e){if(1&t&&(f.TgZ(0,"div",35),f._uU(1),f.ALo(2,"abpLocalization"),f.qZA(),f.TgZ(3,"span",36),f._UZ(4,"is-empty",37),f.qZA(),f.TgZ(5,"span",38),f._UZ(6,"is-empty",37),f.qZA()),2&t){const t=e.row;f.xp6(1),f.Oqu(f.lcZ(2,3,"::ExerciseCategoryName")),f.xp6(3),f.Q6J("value",t.exerciseCategoryName),f.xp6(2),f.Q6J("value",t.exerciseCategoryNameEn)}}function N(t,e){if(1&t&&(f.TgZ(0,"div",35),f._uU(1),f.ALo(2,"abpLocalization"),f.qZA(),f.TgZ(3,"span",39),f._UZ(4,"is-empty",37),f.qZA()),2&t){const t=e.row;f.xp6(1),f.Oqu(f.lcZ(2,2,"::Description")),f.xp6(3),f.Q6J("value",t.description)}}function k(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"div",44),f.NdJ("click",function(){f.CHM(t);const e=f.oxw().row;return f.oxw().update(e)}),f._UZ(1,"i",45),f.TgZ(2,"div"),f._uU(3),f.ALo(4,"abpLocalization"),f.qZA(),f.qZA()}2&t&&(f.xp6(3),f.hij(" ",f.lcZ(4,1,"AbpUi::Edit")," "))}function J(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"div",46),f.NdJ("click",function(){f.CHM(t);const e=f.oxw().row;return f.oxw().activate(e)}),f.ALo(1,"abpLocalization"),f._UZ(2,"i",47),f.TgZ(3,"span"),f._uU(4),f.ALo(5,"abpLocalization"),f.qZA(),f.qZA()}2&t&&(f.Q6J("ngbTooltip",f.lcZ(1,2,"::Activate")),f.xp6(4),f.hij(" ",f.lcZ(5,4,"::StatusGeneralLookup")," "))}function _(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"div",48),f.NdJ("click",function(){f.CHM(t);const e=f.oxw().row;return f.oxw().deactivate(e)}),f.ALo(1,"abpLocalization"),f._UZ(2,"i",49),f.TgZ(3,"span"),f._uU(4),f.ALo(5,"abpLocalization"),f.qZA(),f.qZA()}2&t&&(f.Q6J("ngbTooltip",f.lcZ(1,2,"::Deactivate")),f.xp6(4),f.hij(" ",f.lcZ(5,4,"::StatusGeneralLookup")," "))}function F(t,e){if(1&t&&(f.TgZ(0,"div",40),f.YNc(1,k,5,3,"div",41),f.YNc(2,J,6,6,"div",42),f.YNc(3,_,6,6,"div",43),f.qZA()),2&t){const t=e.row,i=f.oxw();f.xp6(1),f.Q6J("abpPermission","Physic.ExerciseCategories.Edit"),f.xp6(1),f.Q6J("ngIf",t.statusGeneralLookupId==i.ItemStatus.Deactivated),f.xp6(1),f.Q6J("ngIf",t.statusGeneralLookupId==i.ItemStatus.Activated)}}function I(t,e){if(1&t&&(f.TgZ(0,"h3"),f._uU(1),f.ALo(2,"abpLocalization"),f.qZA()),2&t){const t=f.oxw();f.xp6(1),f.hij(" ",f.lcZ(2,1,t.selected?t.isReadOnly?"::View":"AbpUi::Edit":"::NewExerciseCategory")," ")}}const z=function(){return[32]};function S(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"form",50),f.NdJ("ngSubmit",function(){return f.CHM(t),f.oxw().submitForm()}),f.TgZ(1,"div",51),f.TgZ(2,"div",52),f.TgZ(3,"label",53),f._uU(4),f.ALo(5,"abpLocalization"),f.qZA(),f._UZ(6,"input",54),f.qZA(),f.TgZ(7,"div",52),f.TgZ(8,"label",55),f._uU(9),f.ALo(10,"abpLocalization"),f.qZA(),f._UZ(11,"input",56),f.qZA(),f.TgZ(12,"div",57),f.TgZ(13,"label",58),f._uU(14),f.ALo(15,"abpLocalization"),f.TgZ(16,"span",59),f._uU(17),f.ALo(18,"abpLocalization"),f.qZA(),f.qZA(),f._UZ(19,"tag-input",60,61),f.ALo(21,"abpLocalization"),f.ALo(22,"abpLocalization"),f.qZA(),f.TgZ(23,"div",52),f.TgZ(24,"label",62),f._uU(25),f.ALo(26,"abpLocalization"),f.TgZ(27,"span",59),f._uU(28),f.ALo(29,"abpLocalization"),f.qZA(),f.qZA(),f.TgZ(30,"sw-attachment",63),f.NdJ("attachmentUpdated",function(e){return f.CHM(t),f.oxw().attachmentUpdated(e)}),f.qZA(),f.qZA(),f.TgZ(31,"div",64),f.TgZ(32,"button",65,66),f._uU(34),f.ALo(35,"abpLocalization"),f.qZA(),f.TgZ(36,"button",67),f._UZ(37,"i",68),f._uU(38),f.ALo(39,"abpLocalization"),f.qZA(),f.qZA(),f.qZA(),f.qZA()}if(2&t){const t=f.oxw();f.Q6J("formGroup",t.form),f.xp6(4),f.hij(" ",f.lcZ(5,15,"::ExerciseCategoryName")," "),f.xp6(5),f.hij(" ",f.lcZ(10,17,"::ExerciseCategoryNameEn")," "),f.xp6(5),f.hij(" ",f.lcZ(15,19,"::Tags")," "),f.xp6(3),f.Oqu(f.lcZ(18,21,"::Optional")),f.xp6(2),f.s9C("secondaryPlaceholder",f.lcZ(21,23,"::Tags")),f.s9C("placeholder",f.lcZ(22,25,"::AddTag")),f.Q6J("onAdding",t.onAdding)("separatorKeyCodes",f.DdM(35,z)),f.xp6(6),f.hij(" ",f.lcZ(26,27,"::AttachmentId")," "),f.xp6(3),f.Oqu(f.lcZ(29,29,"::Optional")),f.xp6(2),f.Q6J("maxFilesCount",1)("readonly",t.isReadOnly),f.xp6(4),f.hij(" ",f.lcZ(35,31,"AbpUi::Cancel")," "),f.xp6(4),f.hij(" ",f.lcZ(39,33,"AbpUi::Save")," ")}}const E=function(){return{standalone:!0}},O=function(t){return{emptyMessage:t}},Y=[{path:"",component:(()=>{class t{constructor(t,e,i,a,o,n,s){this.list=t,this.track=e,this.service=i,this.confirmation=a,this.dateService=o,this.toast=n,this.fb=s,this.data={items:[],totalCount:0},this.isReadOnly=!1,this.filters={},this.isFiltersHidden=!0,this.isModalBusy=!1,this.isModalOpen=!1,this.isLoading=!0,this.preventSubmit=!1,this.ItemStatus=Z.M}get showFilter(){return this._showFilter}set showFilter(t){this._showFilter=t,this.isFiltersHidden=!t}ngOnInit(){this.list.hookToQuery(t=>{let e=Object.assign({},this.filters);return this.service.getList(Object.assign(Object.assign({},t),e)).pipe((0,g.x)(()=>this.isLoading=!1))}).subscribe(t=>this.data=t)}clearFilters(){this.filters={},this.list.get()}buildForm(){const{exerciseCategoryName:t,exerciseCategoryNameEn:e,description:i,attachmentId:a}=this.selected||{};let o=i;o=(o||"").trim();let n=[];o.length>0&&o.split(",").forEach(t=>{n.push({value:t,display:t})}),this.form=this.fb.group({exerciseCategoryName:[null!=t?t:null,[d.kI.required,d.kI.minLength(1),d.kI.maxLength(250)]],exerciseCategoryNameEn:[null!=e?e:null,[d.kI.required,d.kI.minLength(1),d.kI.maxLength(250)]],description:[null!=i?i:null,[]],tags:[null!=o?o:null,[]],tagsList:[n,[]],attachmentId:[null!=a?a:null,[]],attachmentFiles:[void 0]})}hideForm(){this.isModalOpen=!1,this.form.reset()}showForm(){this.buildForm(),this.isModalOpen=!0}onAdding(t){return this.preventSubmit=!0,setTimeout(()=>{this.preventSubmit=!1},500),(0,b.of)(t)}submitForm(){if(this.tagInput.preventSubmit)return;if(this.form.invalid)return;let t=this.form.value,e=[...t.tagsList||[]].map(t=>t.value);t.tagsList=void 0,t.tags=e.toString(),t.description=t.tags;const i=this.selected?this.service.update(this.selected.id,t):this.service.create(t);this.isModalBusy=!0,i.pipe((0,g.x)(()=>this.isModalBusy=!1),(0,p.b)(()=>this.hideForm())).subscribe(this.list.get)}create(){this.selected=void 0,this.showForm()}update(t){this.selected=t,this.showForm()}delete(t){this.confirmation.warn("::DeleteConfirmationMessage","::AreYouSure",{messageLocalizationParams:[]}).pipe((0,m.h)(t=>t===o.Tv.Status.confirm),(0,h.w)(()=>this.service.delete(t.id))).subscribe(this.list.get)}activate(t){this.confirmation.warn("::ActivateExcerciseCategoryConfirmationMessage","::AreYouSure",{messageLocalizationParams:[]}).pipe((0,m.h)(t=>t===o.Tv.Status.confirm),(0,h.w)(()=>(this.service.enableCategoryById(t.id).subscribe(t=>{this.toast.success("::ActivatedSuccessfully"),this.list.get()}),null))).subscribe(()=>{})}deactivate(t){this.confirmation.warn("::DeactivateExcerciseCategoryConfirmationMessage","::AreYouSure",{messageLocalizationParams:[]}).pipe((0,m.h)(t=>t===o.Tv.Status.confirm),(0,h.w)(()=>(this.service.disableCategoryById(t.id).subscribe(t=>{this.toast.success("::DeactivatedSuccessfully"),this.list.get()}),null))).subscribe(()=>{})}attachmentUpdated(t){this.form.get("attachmentFiles").setValue(t.files.toString())}}return t.\u0275fac=function(e){return new(e||t)(f.Y36(a.XNV),f.Y36(a.vR3),f.Y36(A._),f.Y36(o.YP),f.Y36(u.R),f.Y36(o.MJ),f.Y36(d.qu))},t.\u0275cmp=f.Xpm({type:t,selectors:[["app-exercise-category"]],viewQuery:function(t,e){if(1&t&&f.Gf(C,5),2&t){let t;f.iGM(t=f.CRH())&&(e.tagInput=t.first)}},features:[f._Bn([a.XNV,u.R])],decls:54,vars:43,consts:[[1,"row","entry-row","align-items-center"],[1,"col-12","col-sm-auto","content-header-container"],[1,"col-lg-auto","pl-lg-0"],[1,"col-lg"],[1,"text-lg-right","pt-2"],[1,"custom-control","custom-switch"],["type","checkbox","id","customSwitch1",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","customSwitch1",1,"custom-control-label"],["id","advanced-content-filters",3,"ngbCollapse"],[1,"card","mb-4"],[1,"card-body"],[3,"keyup.enter"],["filterForm",""],[1,"row"],[1,"col-md-12","col-sm-auto"],[1,"form-group"],["for","filterTextFilter"],["id","filterTextFilter","maxlength","100",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col-md-12","align-self-end","mb-3"],[1,"col"],[1,"col-auto"],["type","button",1,"btn","btn-outline-primary","btn-block",3,"click"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],["default","",1,"app-dataview",3,"messages","rows","count","list"],["prop","attachmentId",3,"name","maxWidth","width"],["ngx-datatable-cell-template",""],["prop","exerciseCategoryName",3,"name"],["prop","description",3,"name"],[3,"name","maxWidth","width","sortable"],["size","md",3,"busy","visible","suppressUnsavedChangesWarning","visibleChange"],["abpHeader",""],["abpBody",""],[1,"dv-details"],["Entity","ExerciseCategory",3,"isThumbnail","ngModel","readonly","ngModelChange",4,"ngIf"],["Entity","ExerciseCategory",3,"isThumbnail","ngModel","readonly","ngModelChange"],[1,"custom-gray","custom-600"],[1,"custom-black","custom-600","view-rtl"],[3,"value"],[1,"custom-black","custom-600","view-ltr"],[1,"custom-black","custom-600"],[1,"action-items"],["class","action-item",3,"click",4,"abpPermission"],["class","action-item action-deactivate",3,"ngbTooltip","click",4,"ngIf"],["class","action-item action-activate",3,"ngbTooltip","click",4,"ngIf"],[1,"action-item",3,"click"],[1,"fa","fa-pen","custom-green"],[1,"action-item","action-deactivate",3,"ngbTooltip","click"],[1,"fa","fa-toggle-off"],[1,"action-item","action-activate",3,"ngbTooltip","click"],[1,"fas","fa-toggle-on","custom-green","action-boarder","text-success"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"mt-2","fade-in-top","row"],[1,"form-group","col-md-12"],["for","exercise-category-exercise-category-name"],["readonly","","id","exercise-category-exercise-category-name","formControlName","exerciseCategoryName","maxlength","250","minlength","1","autofocus","",1,"form-control"],["for","exercise-category-exercise-category-name-en"],["readonly","","id","exercise-category-exercise-category-name-en","formControlName","exerciseCategoryNameEn","maxlength","250","minlength","1",1,"form-control"],[1,"form-group","col-12"],["for","exercise-tags"],[1,"optional-input","badge","badge-info"],["id","exercise-tags","formControlName","tagsList",3,"onAdding","separatorKeyCodes","secondaryPlaceholder","placeholder"],["tagInput",""],["for","exercise-category-attachment-id"],["id","exercise-category-attachment-id","formControlName","attachmentId","acceptTypes",".png,.jpg,.jpeg","Entity","ExerciseCategory","name","attachmentId",3,"maxFilesCount","readonly","attachmentUpdated"],[1,"col-sm-12","modal-footer"],["type","button",1,"btn","btn-secondary","btn-cancel"],["abpClose",""],["type","submit",1,"btn","btn-success","btn-save"],[1,"fa","fa-check"]],template:function(t,e){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f._UZ(2,"abp-breadcrumb"),f.qZA(),f._UZ(3,"div",2),f.TgZ(4,"div",3),f.TgZ(5,"div",4),f.TgZ(6,"div",5),f.TgZ(7,"input",6),f.NdJ("ngModelChange",function(t){return e.showFilter=t}),f.qZA(),f.TgZ(8,"label",7),f._uU(9),f.ALo(10,"abpLocalization"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(11,"div",8),f.TgZ(12,"div",9),f.TgZ(13,"div",10),f.TgZ(14,"form",11,12),f.NdJ("keyup.enter",function(){return e.list.get()}),f.TgZ(16,"div",13),f.TgZ(17,"div",14),f.TgZ(18,"div",15),f.TgZ(19,"label",16),f._uU(20),f.ALo(21,"abpLocalization"),f.qZA(),f.TgZ(22,"input",17),f.NdJ("ngModelChange",function(t){return e.filters.filterText=t}),f.qZA(),f.qZA(),f.qZA(),f.TgZ(23,"div",18),f.TgZ(24,"div",13),f._UZ(25,"div",19),f.TgZ(26,"div",20),f.TgZ(27,"button",21),f.NdJ("click",function(){return e.clearFilters()}),f.TgZ(28,"span"),f._uU(29),f.ALo(30,"abpLocalization"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(31,"div",20),f.TgZ(32,"button",22),f.NdJ("click",function(){return e.list.get()}),f.TgZ(33,"span"),f._uU(34),f.ALo(35,"abpLocalization"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(36,"ngx-datatable",23),f.TgZ(37,"ngx-datatable-column",24),f.ALo(38,"abpLocalization"),f.YNc(39,M,2,1,"ng-template",25),f.qZA(),f.TgZ(40,"ngx-datatable-column",26),f.ALo(41,"abpLocalization"),f.YNc(42,U,7,5,"ng-template",25),f.qZA(),f.TgZ(43,"ngx-datatable-column",27),f.ALo(44,"abpLocalization"),f.YNc(45,N,5,4,"ng-template",25),f.qZA(),f.TgZ(46,"ngx-datatable-column",28),f.ALo(47,"abpLocalization"),f.YNc(48,F,4,3,"ng-template",25),f.qZA(),f.qZA(),f.TgZ(49,"abp-modal",29),f.NdJ("visibleChange",function(t){return e.isModalOpen=t}),f.YNc(50,I,3,3,"ng-template",null,30,f.W1O),f.YNc(52,S,40,36,"ng-template",null,31,f.W1O),f.qZA()),2&t&&(f.xp6(7),f.Q6J("ngModel",e.showFilter),f.xp6(2),f.Oqu(f.lcZ(10,24,"::SeeAdvancedFilters")),f.xp6(2),f.Q6J("ngbCollapse",e.isFiltersHidden),f.xp6(9),f.hij(" ",f.lcZ(21,26,"::SearchFor")," "),f.xp6(2),f.Q6J("ngModel",e.filters.filterText)("ngModelOptions",f.DdM(40,E)),f.xp6(7),f.Oqu(f.lcZ(30,28,"::Clear")),f.xp6(5),f.Oqu(f.lcZ(35,30,"::Search")),f.xp6(2),f.Q6J("messages",f.VKq(41,O,e.isLoading?"<div class=loader><div></div></div>":"<div class=data-empty></div>"))("rows",e.data.items)("count",e.data.totalCount)("list",e.list),f.xp6(1),f.s9C("name",f.lcZ(38,32,"::AttachmentId")),f.Q6J("maxWidth",100)("width",100),f.xp6(3),f.s9C("name",f.lcZ(41,34,"::ExerciseCategoryName")),f.xp6(3),f.s9C("name",f.lcZ(44,36,"::Description")),f.xp6(3),f.Q6J("name",f.lcZ(47,38,"AbpUi::Actions"))("maxWidth",200)("width",200)("sortable",!1),f.xp6(3),f.Q6J("busy",e.isModalBusy)("visible",e.isModalOpen)("suppressUnsavedChangesWarning",e.isReadOnly))},directives:[o.LI,d.Wl,d.JJ,d.On,v.m,n._D,d._Y,d.JL,d.F,d.Fj,d.nD,x.nE,o.x7,o.j3,x.UC,x.vq,o.zS,y.O5,T.Y,L.K,a.l97,n._L,a.YzZ,d.sg,s.hL,d.u,s.J5,d.wO,a.Uqp,q.m7],pipes:[a.fuE],encapsulation:2}),t})(),canActivate:[a.a1M,a.nG9]}];let Q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=f.oAB({type:t}),t.\u0275inj=f.cJS({imports:[[l.Bz.forChild(Y)],l.Bz]}),t})();var j=i(56137);let D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=f.oAB({type:t}),t.\u0275inj=f.cJS({imports:[[Q,a.IR2,o.e2,r.Ck,c.vv,s.h2,n.lQ,n.M,j.m,q.vO,n.XC]]}),t})()},8183:function(t,e,i){"use strict";i.d(e,{M:function(){return a}});var a=function(t){return t[t.Activated=15]="Activated",t[t.Deactivated=16]="Deactivated",t}({})}}]);