!function(){function t(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return i(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,e=new Array(i);n<i;n++)e[n]=t[n];return e}function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function e(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function o(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}(self.webpackChunkPhysic=self.webpackChunkPhysic||[]).push([[81604],{81604:function(i,e,a){"use strict";a.r(e),a.d(e,{NutritionProgramModule:function(){return Ki}});var r=a(46700),s=a(55679),l=a(10135),u=a(99046),c=a(83845),d=a(73756),p=a(56410),g=a(2996),m=a(67917),f=a(83865),h=a(69244),v=a(35366),b=a(63491),Z=function(){function t(i){n(this,t),this.onDeleted=new v.vpe,this.isEditing=!0,this.isDeleted=!1,this.isSubmitted=!1,this.id=i.id,this.nutrition=i.nutrition,this.nutritionNote=i.nutritionNote,this.optionId=i.optionId,this.quantity=i.quantity}return o(t,[{key:"getCalorie",value:function(){return this.nutrition?this.nutrition.calories*this.quantity:null}},{key:"getCarbs",value:function(){return this.nutrition?this.nutrition.carbs*this.quantity:null}},{key:"getProteins",value:function(){return this.nutrition?this.nutrition.proteins*this.quantity:null}},{key:"getFats",value:function(){return this.nutrition?this.nutrition.fats*this.quantity:null}},{key:"getNutritionTotals",value:function(){var t=new b.C,i=this.quantity||0;return this.nutrition&&(t.calorie=this.nutrition.calories*i,t.carbs=this.nutrition.carbs*i,t.fats=this.nutrition.fats*i,t.proteins=this.nutrition.proteins*i),t}},{key:"getImage",value:function(){var t;return null===(t=this.nutrition)||void 0===t?void 0:t.imageAttachmentId}},{key:"edit",value:function(){this.isSubmitted=!1,this.isEditing=!0,this.backup={nutrition:this.nutrition,quantity:this.quantity}}},{key:"cancel",value:function(){this.backup&&this.backup.nutrition?(this.isEditing=!1,this.nutrition=this.backup.nutrition,this.quantity=this.backup.quantity):this.delete()}},{key:"quantityIsInvalid",value:function(){return!!this.isSubmitted&&(!this.quantity||this.quantity<0)}},{key:"nutritionIsInvalid",value:function(){return!(!this.isSubmitted||this.nutrition&&this.nutrition.id)}},{key:"hasErrors",value:function(){return this.quantityIsInvalid()||this.nutritionIsInvalid()}},{key:"save",value:function(){this.isSubmitted=!0,this.hasErrors()||(this.isEditing=!1)}},{key:"delete",value:function(){this.isDeleted=!0,this.onDeleted.emit()}},{key:"convertToDto",value:function(){var t,i={};return i.id=this.id,i.nutritionId=null===(t=this.nutrition)||void 0===t?void 0:t.id,i.nutritionNote=this.nutritionNote,i.optionId=this.optionId,i.nutrition=this.nutrition,i.quantity=this.quantity||void 0,i}},{key:"NutritionNoteVisible",get:function(){var t;return this._NutritionNoteVisible||(null!==(t=this.nutritionNote)&&void 0!==t?t:"").length>0},set:function(t){this._NutritionNoteVisible=t,t||(this.nutritionNote=void 0)}}]),t}(),y=function(){function t(i){var e=this;n(this,t),this.onDeleted=new v.vpe,this.details=[],this.visibleOption2=!1,this.visibleOption3=!1,this.selectedOptionId=1,this.isDeleted=!1,this.isAddingNewItem=!1,this.id=i.id,this.name=i.mealName,this.mealNotes1=i.mealNotes1,this.mealNotes2=i.mealNotes2,this.mealNotes3=i.mealNotes3,i.nutritionProgramDayItemDetails&&i.nutritionProgramDayItemDetails.length>0?i.nutritionProgramDayItemDetails.forEach(function(t){e.appendGroup(t)}):this.addFakeData()}return o(t,[{key:"detailsUnDeleted",get:function(){return this.details.filter(function(t){return!t.isDeleted})}},{key:"detailsUnDeletedForActiveOption",get:function(){var t=this;return this.details.filter(function(i){return!i.isDeleted&&i.optionId===t.selectedOptionId})}},{key:"GetDetailsUnDeletedForActiveOptionVisible",value:function(t){return!(2!==t||!this.visibleOption2)||!(3!==t||!this.visibleOption3)||this.details.filter(function(i){return!i.isDeleted&&i.optionId==t}).length>0}},{key:"addOption",value:function(){return this.GetDetailsUnDeletedForActiveOptionVisible(2)?this.GetDetailsUnDeletedForActiveOptionVisible(3)?void 0:(this.visibleOption3=!0,void(this.selectedOptionId=3)):(this.visibleOption2=!0,void(this.selectedOptionId=2))}},{key:"addFakeData",value:function(){}},{key:"appendGroup",value:function(t){t.optionId=t.optionId||this.selectedOptionId;var i=new Z(t);return this.details.push(i),this.listenToDelete(i),i}},{key:"listenToDelete",value:function(t){var i=this;t.onDeleted.subscribe(function(t){0==i.detailsUnDeleted.length&&i.delete()})}},{key:"isEditing",value:function(){var t=!1;return this.detailsUnDeleted.forEach(function(i){t=t||i.isEditing}),t}},{key:"delete",value:function(){this.isDeleted=!0,this.onDeleted.emit()}},{key:"addNewDetail",value:function(t){var i=this.selectedOptionId;if(this.detailsUnDeleted.length>0){var n=this.detailsUnDeleted[this.detailsUnDeleted.length-1];if(n.optionId===i&&!n.nutrition)return n.nutrition=t,void(n.quantity=1);if(n.optionId===i&&n.nutrition.id==t.id)return void(n.quantity=(n.quantity||0)+1)}var e={};t&&(e.nutrition=t,e.nutritionId=t.id,e.optionId=i,e.quantity=1),this.appendGroup(e).edit()}},{key:"convertToDto",value:function(){var t={};return t.id=this.id,t.mealName=this.name,t.mealNotes1=this.mealNotes1,t.mealNotes2=this.mealNotes2,t.mealNotes3=this.mealNotes3,t.nutritionProgramDayItemDetails=[],this.detailsUnDeleted.forEach(function(i){t.nutritionProgramDayItemDetails.push(i.convertToDto())}),t}},{key:"isValid",value:function(){var t=!0;return this.detailsUnDeleted.forEach(function(t){t.isSubmitted=!0,t.save()}),this.detailsUnDeleted.forEach(function(i){t&&(t=!i.hasErrors())}),this.detailsUnDeleted.forEach(function(t){t.edit(),t.isSubmitted=!0}),t}},{key:"getCalorie",value:function(){var t=0;return this.detailsUnDeletedForActiveOption.forEach(function(i){t+=i.getCalorie()}),t}},{key:"getCarbs",value:function(){var t=0;return this.detailsUnDeletedForActiveOption.forEach(function(i){t+=i.getCarbs()}),t}},{key:"getProteins",value:function(){var t=0;return this.detailsUnDeletedForActiveOption.forEach(function(i){t+=i.getProteins()}),t}},{key:"getFats",value:function(){var t=0;return this.detailsUnDeletedForActiveOption.forEach(function(i){t+=i.getFats()}),t}},{key:"getNutritionTotals",value:function(){var t=new b.C;return this.detailsUnDeletedForActiveOption.forEach(function(i){t.add(i.getNutritionTotals())}),t}},{key:"mealNotes",get:function(){return 1===this.selectedOptionId?this.mealNotes1:2===this.selectedOptionId?this.mealNotes2:3===this.selectedOptionId?this.mealNotes3:void 0},set:function(t){1===this.selectedOptionId&&(this.mealNotes1=t),2===this.selectedOptionId&&(this.mealNotes2=t),3===this.selectedOptionId&&(this.mealNotes3=t)}}]),t}(),A=function(){function i(t){var e=this;n(this,i),this.onDeleted=new v.vpe,this.nutritionDayItems=[],this.isEditingMealName=!1,t&&(this.totalDayCaloriesMin=t.totalDayCaloriesMin,this.totalDayCaloriesMax=t.totalDayCaloriesMax,this.id=t.id,this.dayNumber=t.dayNumber,this.name=t.name||" ",this.nutritionProgramId=t.nutritionProgramId,t.nutritionProgramDayItems&&t.nutritionProgramDayItems.length>0?t.nutritionProgramDayItems.forEach(function(t){e.add(t)}):this.addFakeData())}return o(i,[{key:"nutritionDayItemsUnDeleted",get:function(){return this.nutritionDayItems.filter(function(t){return!t.isDeleted})}},{key:"addFakeData",value:function(){}},{key:"add",value:function(t){var i=this,n=i.nutritionDayItemsUnDeleted.filter(function(i){return i.name==t.mealName});if(n.length>0)return n[0];var e=new y(t);return e.onDeleted.subscribe(function(t){i.onDeleted.emit(i.nutritionDayItemsUnDeleted.length)}),this.nutritionDayItems.push(e),e}},{key:"addNewDetail",value:function(t){var i={};i.mealName=t,this.add(i).addNewDetail()}},{key:"convertToDto",value:function(){var t={};return t.id=this.id,t.dayNumber=this.dayNumber,t.nutritionProgramId=this.nutritionProgramId,t.totalDayCaloriesMin=this.totalDayCaloriesMin,t.totalDayCaloriesMax=this.totalDayCaloriesMax,t.name=this.name,t.nutritionProgramDayItems=[],this.nutritionDayItemsUnDeleted.forEach(function(i){t.nutritionProgramDayItems.push(i.convertToDto())}),t}},{key:"isAllSuperSetsValid",value:function(){var t=!0;return this.nutritionDayItemsUnDeleted.forEach(function(t){t.isValid()}),this.nutritionDayItemsUnDeleted.forEach(function(i){t&&(t=i.isValid())}),t}},{key:"isEditing",value:function(){var t=!1;return this.nutritionDayItemsUnDeleted.forEach(function(i){t=t||i.isEditing()}),t}},{key:"getCalorie",value:function(){var t=0;return this.nutritionDayItemsUnDeleted.forEach(function(i){t+=i.getCalorie()}),t}},{key:"getCarbs",value:function(){var t=0;return this.nutritionDayItemsUnDeleted.forEach(function(i){t+=i.getCarbs()}),t}},{key:"getFats",value:function(){var t=0;return this.nutritionDayItemsUnDeleted.forEach(function(i){t+=i.getFats()}),t}},{key:"getProteins",value:function(){var t=0;return this.nutritionDayItemsUnDeleted.forEach(function(i){t+=i.getProteins()}),t}},{key:"getNutritionTotals",value:function(){var t=new b.C;return this.nutritionDayItemsUnDeleted.forEach(function(i){t.add(i.getNutritionTotals())}),t}},{key:"up",value:function(i){var n=t(this.nutritionDayItemsUnDeleted),e=n.indexOf(i);(0,h.bA)(n,e,e+1),this.nutritionDayItems=n}},{key:"down",value:function(i){var n=t(this.nutritionDayItemsUnDeleted),e=n.indexOf(i);(0,h.bA)(n,e,e-1),this.nutritionDayItems=n}}]),i}(),x=a(62914),C=a(65122),N=a(56296),M=a(94773),w=a(14160),T=a(73545),I=a(31041),k=a(46140),D=a(30212),q=a(43835),O=a(44689),_=a(11520),P=a(44019),L=a(40878),U=a(17434),J=a(42373),S=a(61116),F=a(23733),E=a(55794),Y=a(99416),Q=a(1254),z=a(28451),j=["tagInput"];function H(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"div",5),v.NdJ("click",function(){return v.CHM(n),v.oxw(2).isAdvanced=!0}),v.ALo(1,"abpLocalization"),v._UZ(2,"i",6),v.TgZ(3,"span"),v._uU(4),v.ALo(5,"abpLocalization"),v.qZA(),v.qZA()}2&t&&(v.Q6J("ngbTooltip",v.lcZ(1,2,"::Activate")),v.xp6(4),v.hij(" ",v.lcZ(5,4,"::isAdvanced")," "))}function V(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"div",5),v.NdJ("click",function(){return v.CHM(n),v.oxw(2).isAdvanced=!1}),v.ALo(1,"abpLocalization"),v._UZ(2,"i",7),v.TgZ(3,"span"),v._uU(4),v.ALo(5,"abpLocalization"),v.qZA(),v.qZA()}2&t&&(v.Q6J("ngbTooltip",v.lcZ(1,2,"::Deactivate")),v.xp6(4),v.hij(" ",v.lcZ(5,4,"::isAdvanced")," "))}function $(t,i){if(1&t&&(v.TgZ(0,"h3"),v._uU(1),v.ALo(2,"abpLocalization"),v.qZA(),v.TgZ(3,"div",3),v.YNc(4,H,6,6,"div",4),v.YNc(5,V,6,6,"div",4),v.qZA()),2&t){var n=v.oxw();v.xp6(1),v.hij(" ",v.lcZ(2,3,n.selected?n.isReadOnly?"::View":"AbpUi::Edit":"::NewNutritionProgram")," "),v.xp6(3),v.Q6J("ngIf",!n.isAdvanced),v.xp6(1),v.Q6J("ngIf",n.isAdvanced)}}function G(t,i){1&t&&(v.TgZ(0,"div",47),v._uU(1),v.ALo(2,"abpLocalization"),v.qZA()),2&t&&(v.xp6(1),v.hij(" ",v.lcZ(2,1,"::InPublicLibrary")," "))}function R(t,i){1&t&&(v.TgZ(0,"label",48),v._uU(1),v.ALo(2,"abpLocalization"),v.qZA()),2&t&&(v.xp6(1),v.hij(" ",v.lcZ(2,1,"::CreatedBy")," "))}function B(t,i){if(1&t&&(v.TgZ(0,"div",13),v.YNc(1,G,3,3,"div",45),v.YNc(2,R,3,3,"label",46),v._uU(3),v.qZA()),2&t){var n=v.oxw(2);v.xp6(1),v.Q6J("ngIf",!n.getAssignedToCoach),v.xp6(1),v.Q6J("ngIf",n.getAssignedToCoach),v.xp6(1),v.hij(" ",n.getAssignedToCoach," ")}}function W(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"button",51),v.NdJ("click",function(t){return v.CHM(n),v.oxw(3).clearAssignedCoach(t)}),v._uU(1),v.ALo(2,"abpLocalization"),v.qZA()}2&t&&(v.xp6(1),v.Oqu(v.lcZ(2,1,"::MoveToPublicLibrary")))}function K(t,i){if(1&t&&(v.TgZ(0,"div",49),v.YNc(1,W,3,3,"button",50),v.qZA()),2&t){var n=v.oxw(2);v.xp6(1),v.Q6J("ngIf",n.isAssignedToCoach)}}function X(t,i){1&t&&(v.TgZ(0,"span",52),v._uU(1),v.ALo(2,"abpLocalization"),v.qZA()),2&t&&(v.xp6(1),v.Oqu(v.lcZ(2,1,"::Optional")))}function tt(t,i){1&t&&(v.TgZ(0,"span",52),v._uU(1),v.ALo(2,"abpLocalization"),v.qZA()),2&t&&(v.xp6(1),v.Oqu(v.lcZ(2,1,"::Optional")))}var it=function(t){return{"d-none":t}};function nt(t,i){if(1&t&&(v.TgZ(0,"div",53),v.TgZ(1,"label",54),v._uU(2),v.ALo(3,"abpLocalization"),v.qZA(),v.TgZ(4,"select",55),v._UZ(5,"option"),v.TgZ(6,"option",56),v._uU(7),v.ALo(8,"abpLocalization"),v.qZA(),v.TgZ(9,"option",56),v._uU(10),v.ALo(11,"abpLocalization"),v.qZA(),v.TgZ(12,"option",56),v._uU(13),v.ALo(14,"abpLocalization"),v.qZA(),v.qZA(),v.qZA()),2&t){var n=v.oxw(2);v.Q6J("ngClass",v.VKq(16,it,!n.isAdvanced)),v.xp6(2),v.Oqu(v.lcZ(3,8,"::ProgramCategory")),v.xp6(4),v.Q6J("ngValue",0),v.xp6(1),v.Oqu(v.lcZ(8,10,"::Normal")),v.xp6(2),v.Q6J("ngValue",1),v.xp6(1),v.Oqu(v.lcZ(11,12,"::SelfTraining")),v.xp6(2),v.Q6J("ngValue",2),v.xp6(1),v.Oqu(v.lcZ(14,14,"::LiftPrime"))}}function et(t,i){1&t&&(v.TgZ(0,"span",52),v._uU(1),v.ALo(2,"abpLocalization"),v.qZA()),2&t&&(v.xp6(1),v.Oqu(v.lcZ(2,1,"::Optional")))}function ot(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"div",59),v.TgZ(1,"span"),v._uU(2),v.TgZ(3,"span",60),v.NdJ("click",function(t){var i=v.CHM(n).$implicit;return v.oxw(3).removeItemCategories(t,i.value)}),v.qZA(),v.qZA(),v.qZA()}if(2&t){var e=i.$implicit,o=v.oxw(3);v.xp6(2),v.hij(" ",o.langService.isRtl?e.name:e.nameEn," ")}}function at(t,i){1&t&&(v.TgZ(0,"span",61),v._uU(1),v.ALo(2,"abpLocalization"),v.qZA()),2&t&&(v.xp6(1),v.hij(" ",v.lcZ(2,1,"::NutritionCategories")," "))}function rt(t,i){if(1&t&&(v.YNc(0,ot,4,1,"div",57),v.YNc(1,at,3,3,"span",58)),2&t){var n=i.$implicit;v.Q6J("ngForOf",n),v.xp6(1),v.Q6J("ngIf",!n||0===n.length)}}function st(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"div",59),v.TgZ(1,"span"),v._uU(2),v.TgZ(3,"span",60),v.NdJ("click",function(t){var i=v.CHM(n).$implicit;return v.oxw(3).removeItemGoals(t,i.value)}),v.qZA(),v.qZA(),v.qZA()}if(2&t){var e=i.$implicit,o=v.oxw(3);v.xp6(2),v.hij(" ",o.langService.isRtl?e.name:e.nameEn," ")}}function lt(t,i){1&t&&(v.TgZ(0,"span",61),v._uU(1),v.ALo(2,"abpLocalization"),v.qZA()),2&t&&(v.xp6(1),v.hij(" ",v.lcZ(2,1,"::Goals")," "))}function ut(t,i){if(1&t&&(v.YNc(0,st,4,1,"div",57),v.YNc(1,lt,3,3,"span",58)),2&t){var n=i.$implicit;v.Q6J("ngForOf",n),v.xp6(1),v.Q6J("ngIf",!n||0===n.length)}}var ct=function(){return[32]};function dt(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"form",8,9),v.NdJ("ngSubmit",function(){return v.CHM(n),v.oxw().submitForm()}),v.TgZ(2,"div",10),v.YNc(3,B,4,3,"div",11),v.YNc(4,K,2,1,"div",12),v.TgZ(5,"div",13),v.TgZ(6,"label",14),v._uU(7),v.ALo(8,"abpLocalization"),v.qZA(),v._UZ(9,"input",15),v.qZA(),v.TgZ(10,"div",16),v.TgZ(11,"label",17),v._uU(12),v.ALo(13,"abpLocalization"),v.YNc(14,X,3,3,"span",18),v.qZA(),v._UZ(15,"input",19),v.qZA(),v.TgZ(16,"div",13),v.TgZ(17,"label",20),v._uU(18),v.ALo(19,"abpLocalization"),v.qZA(),v._UZ(20,"input",21),v.qZA(),v.TgZ(21,"div",16),v.TgZ(22,"label",22),v._uU(23),v.ALo(24,"abpLocalization"),v.YNc(25,tt,3,3,"span",18),v.qZA(),v._UZ(26,"input",23),v.qZA(),v.TgZ(27,"div",13),v.TgZ(28,"label",24),v._uU(29),v.ALo(30,"abpLocalization"),v.qZA(),v._UZ(31,"input",25),v.qZA(),v.TgZ(32,"div",26),v.TgZ(33,"label",27),v._uU(34),v.ALo(35,"abpLocalization"),v.qZA(),v._UZ(36,"input",28),v.qZA(),v.TgZ(37,"div",26),v.TgZ(38,"label",29),v._uU(39),v.ALo(40,"abpLocalization"),v.qZA(),v._UZ(41,"input",30),v.qZA(),v.YNc(42,nt,15,18,"div",31),v.TgZ(43,"div",16),v.TgZ(44,"label",32),v._uU(45),v.ALo(46,"abpLocalization"),v.YNc(47,et,3,3,"span",18),v.qZA(),v._UZ(48,"tag-input",33,34),v.ALo(50,"abpLocalization"),v.ALo(51,"abpLocalization"),v.qZA(),v.TgZ(52,"div",35),v.TgZ(53,"label",36),v._uU(54),v.ALo(55,"abpLocalization"),v.qZA(),v.TgZ(56,"p-multiSelect",37),v.NdJ("onFocus",function(t){return v.CHM(n),v.oxw().onInputFocus(t)}),v.YNc(57,rt,2,2,"ng-template",38),v.qZA(),v.qZA(),v.TgZ(58,"div",35),v.TgZ(59,"label",36),v._uU(60),v.ALo(61,"abpLocalization"),v.qZA(),v.TgZ(62,"p-multiSelect",39),v.NdJ("onFocus",function(t){return v.CHM(n),v.oxw().onInputFocus(t)}),v.YNc(63,ut,2,2,"ng-template",38),v.qZA(),v.qZA(),v.TgZ(64,"div",40),v.TgZ(65,"button",41,42),v._uU(67),v.ALo(68,"abpLocalization"),v.qZA(),v.TgZ(69,"button",43),v._UZ(70,"i",44),v._uU(71),v.ALo(72,"abpLocalization"),v.qZA(),v.qZA(),v.qZA(),v.qZA()}if(2&t){var e=v.oxw();v.Q6J("formGroup",e.form),v.xp6(3),v.Q6J("ngIf",e.isCurrentUserAdmin),v.xp6(1),v.Q6J("ngIf",e.isCurrentUserAdmin),v.xp6(3),v.hij(" ",v.lcZ(8,44,"::NutriitionProgramName")," "),v.xp6(3),v.Q6J("ngClass",v.VKq(72,it,!e.isAdvanced)),v.xp6(2),v.hij(" ",v.lcZ(13,46,"::Description")," "),v.xp6(2),v.Q6J("ngIf",!e.isReadOnly),v.xp6(4),v.hij(" ",v.lcZ(19,48,"::NutriitionProgramNameEn")," "),v.xp6(3),v.Q6J("ngClass",v.VKq(74,it,!e.isAdvanced)),v.xp6(2),v.hij(" ",v.lcZ(24,50,"::DescriptionEn")," "),v.xp6(2),v.Q6J("ngIf",!e.isReadOnly),v.xp6(4),v.hij(" ",v.lcZ(30,52,"::NumberOfMeals")," "),v.xp6(3),v.Q6J("ngClass",v.VKq(76,it,!e.isAdvanced)),v.xp6(2),v.hij(" ",v.lcZ(35,54,"::CaloriesFrom")," "),v.xp6(3),v.Q6J("ngClass",v.VKq(78,it,!e.isAdvanced)),v.xp6(2),v.hij(" ",v.lcZ(40,56,"::CaloriesTo")," "),v.xp6(3),v.Q6J("abpPermission","Physic.SelfTraining"),v.xp6(1),v.Q6J("ngClass",v.VKq(80,it,!e.isAdvanced)),v.xp6(2),v.hij(" ",v.lcZ(46,58,"::Tags")," "),v.xp6(2),v.Q6J("ngIf",!e.isReadOnly),v.xp6(1),v.s9C("secondaryPlaceholder",v.lcZ(50,60,"::Tags")),v.s9C("placeholder",v.lcZ(51,62,"::AddTag")),v.Q6J("onAdding",e.onAdding)("separatorKeyCodes",v.DdM(82,ct)),v.xp6(4),v.Q6J("ngClass",v.VKq(83,it,!e.isAdvanced)),v.xp6(2),v.hij(" ",v.lcZ(55,64,"::NutritionCategories")," "),v.xp6(2),v.Q6J("options",e.categoriesList)("virtualScroll",!0)("optionLabel",e.langService.isRtl?"name":"nameEn")("showHeader",!e.isMobile)("showTransitionOptions","0ms")("hideTransitionOptions","0ms")("maxSelectedLabels",4),v.xp6(2),v.Q6J("ngClass",v.VKq(85,it,!e.isAdvanced)),v.xp6(2),v.hij(" ",v.lcZ(61,66,"::Goals")," "),v.xp6(2),v.Q6J("options",e.goalsList)("virtualScroll",!0)("optionLabel",e.langService.isRtl?"name":"nameEn")("showHeader",!e.isMobile)("showTransitionOptions","0ms")("hideTransitionOptions","0ms")("maxSelectedLabels",4),v.xp6(5),v.hij(" ",v.lcZ(68,68,"AbpUi::Cancel")," "),v.xp6(4),v.hij(" ",v.lcZ(72,70,"AbpUi::Save")," ")}}var pt=function(){var i=function(){function i(t,e,o,a,r,s,l,u,c){n(this,i),this.list=t,this.track=e,this.service=o,this.permissionService=a,this.mobileHelperService=r,this.langService=s,this.confirmation=l,this.dateService=u,this.fb=c,this.dataChanged=new v.vpe,this.isMobile=!1,this.isModalBusy=!1,this.isModalOpen=!1,this.isReadOnly=!1,this.isAdvanced=!1,this.categoriesList=[],this.goalsList=[],this.preventSubmit=!1}return o(i,[{key:"ngOnInit",value:function(){this.isMobile=this.mobileHelperService.GetMobile();var t=this;this.service.getNutritionCategoriesLookup().subscribe(function(i){return t.categoriesList=i.items.map(function(t){return new U.Cf(t)})}),this.service.getGoalsLookup().subscribe(function(i){return t.goalsList=i.items.map(function(t){return new U.Cf(t)})})}},{key:"removeItemCategories",value:function(t,i){t.preventDefault(),t.stopPropagation();var n=this.form.get("categories").value;return n=n.filter(function(t){return t!=i}),this.form.get("categories").setValue(n),!1}},{key:"removeItemGoals",value:function(t,i){t.preventDefault(),t.stopPropagation();var n=this.form.get("goals").value;return n=n.filter(function(t){return t!=i}),this.form.get("goals").setValue(n),!1}},{key:"onInputFocus",value:function(t){setTimeout(function(){},500)}},{key:"buildForm",value:function(){var t,i,n,e,o=this,a=(null===(t=this.selected)||void 0===t?void 0:t.nutritionProgram)||{},r=a.programCategory,s=a.nutriitionProgramName,l=a.nutriitionProgramNameEn,u=a.description,c=a.descriptionEn,d=a.tags,p=a.daysCount,g=a.coachAppUserId,m=a.statusGeneralLookupId,f=a.caloriesTo,h=a.caloriesFrom,v=a.numberOfMeals,b=((null===(i=this.selected)||void 0===i?void 0:i.categories)||[]).map(function(t){return new gt(t)}),Z=((null===(n=this.selected)||void 0===n?void 0:n.goals)||[]).map(function(t){return new mt(t)});v<=1&&(v=1),f||(f=0),h||(h=0),d=(d||"").trim();var y=[];d.length>0&&d.split(",").forEach(function(t){y.push({value:t,display:t})}),null!=p&&void 0!==p&&""!=p||(p=p||"0");var A={};(null===(e=this.selected)||void 0===e?void 0:e.appUser)&&(A.id=this.selected.appUser.id,A.displayName=this.selected.appUser.name),this.form=this.fb.group({programCategory:[null!=r?r:0,[I.kI.required]],nutriitionProgramName:[null!=s?s:null,[I.kI.required,I.kI.minLength(1),I.kI.maxLength(255)]],nutriitionProgramNameEn:[null!=l?l:null,[I.kI.required,I.kI.minLength(1),I.kI.maxLength(255)]],description:[null!=u?u:null,[I.kI.maxLength(255)]],descriptionEn:[null!=c?c:null,[I.kI.maxLength(255)]],tags:[null!=d?d:null,[]],tagsList:[y,[]],daysCount:[null!=p?p:null,[I.kI.required,I.kI.min(0),I.kI.max(365)]],coachAppUserId:[null!=g?g:null,[]],coachAppUserId2:[null!=A?A:null,[]],statusGeneralLookupId:[null!=m?m:null,[]],caloriesTo:[f,[I.kI.required,D.d.isIntegerValidator(),I.kI.max(999999)]],caloriesFrom:[h,[I.kI.required,D.d.isIntegerValidator(),I.kI.max(999999)]],numberOfMeals:[v,[I.kI.required,D.d.isIntegerValidator(),I.kI.max(10)]],categories:[b,[]],goals:[Z,[]]}),this.form.get("caloriesTo").setValidators([I.kI.required,D.d.isIntegerValidator(),D.d.GreaterThanValidator(this.form.get("caloriesFrom")),I.kI.max(999999)]),this.form.get("caloriesFrom").valueChanges.subscribe(function(t){o.form.get("caloriesTo").updateValueAndValidity()}),this.form.get("coachAppUserId2").valueChanges.subscribe(function(t){t&&t.id?o.form.get("coachAppUserId").setValue(t.id):o.form.get("coachAppUserId").reset()})}},{key:"isAssignedToCoach",get:function(){return this.form.get("coachAppUserId2").value&&this.form.get("coachAppUserId2").value.id}},{key:"getAssignedToCoach",get:function(){var t;return null===(t=this.form.get("coachAppUserId2").value)||void 0===t?void 0:t.displayName}},{key:"clearAssignedCoach",value:function(t){t.preventDefault(),t.stopPropagation();var i=this;this.confirmation.warn("::MoveExerciseProgramToPublicLibraryConfirm","::AreYouSure",{messageLocalizationParams:[]}).pipe((0,q.h)(function(t){return t===s.Tv.Status.confirm}),(0,O.w)(function(){return i.form.get("coachAppUserId2").setValue({}),null})).subscribe(function(){})}},{key:"hideForm",value:function(){this.isModalOpen=!1,this.form.reset()}},{key:"showForm",value:function(){this.buildForm(),this.isModalOpen=!0}},{key:"onAdding",value:function(t){var i=this;return this.preventSubmit=!0,setTimeout(function(){i.preventSubmit=!1},500),(0,L.of)(t)}},{key:"submitForm",value:function(){var i=this;if(!this.tagInput.preventSubmit&&!this.form.invalid){var n=this.form.value,e=t(n.tagsList||[]).map(function(t){return t.value});n.tagsList=void 0,n.tags=e.toString(),n.numberOfMeals=(n.numberOfMeals||0).toString(),n.categories=(n.categories||[]).map(function(t){return t.id}),n.goals=(n.goals||[]).map(function(t){return t.id});var o=!!this.selected,a=o?this.service.update(this.selected.nutritionProgram.id,n):this.service.create(n);this.isModalBusy=!0,a.pipe((0,_.x)(function(){return i.isModalBusy=!1}),(0,P.b)(function(){return i.hideForm()})).subscribe(function(t){setTimeout(function(){i.dataChanged.emit({isUpdating:o,nutrition:t})},10)})}}},{key:"create",value:function(){this.selected=void 0,this.showForm()}},{key:"update",value:function(t){var i=this;this.service.getWithNavigationProperties(t.nutritionProgram.id).subscribe(function(t){i.selected=t,i.showForm()})}},{key:"startSearchUser",value:function(t){var i=this,n={};n.filter=t.query,this.service.getAppUserLookup(n).subscribe(function(t){i.AllUsers=t.items})}},{key:"onSelect",value:function(t){}},{key:"onClear",value:function(){}},{key:"searchType",value:function(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)?"text":"search"}},{key:"isCurrentUserAdmin",get:function(){return this.permissionService.getGrantedPolicy("PhysicAdmin")}}]),i}();return i.\u0275fac=function(t){return new(t||i)(v.Y36(r.XNV),v.Y36(r.vR3),v.Y36(N.l),v.Y36(r.$AH),v.Y36(J.k4),v.Y36(T.C),v.Y36(s.YP),v.Y36(g.R),v.Y36(I.qu))},i.\u0275cmp=v.Xpm({type:i,selectors:[["app-nutrition-program-info"]],viewQuery:function(t,i){var n;(1&t&&v.Gf(j,5),2&t)&&(v.iGM(n=v.CRH())&&(i.tagInput=n.first))},outputs:{dataChanged:"dataChanged",create:"create",update:"update"},features:[v._Bn([r.XNV,g.R])],decls:5,vars:3,consts:[["size","lg",3,"busy","visible","suppressUnsavedChangesWarning","visibleChange"],["abpHeader",""],["abpBody",""],[1,"col","mt-1"],["class","action-item cursor pull-left",3,"ngbTooltip","click",4,"ngIf"],[1,"action-item","cursor","pull-left",3,"ngbTooltip","click"],[1,"fa","fa-toggle-off","custom-green","action-boarder"],[1,"fa","fa-toggle-on","custom-green","action-boarder","text-success"],["validateOnSubmit","",3,"formGroup","ngSubmit"],["form1",""],[1,"mt-2","fade-in-top","row"],["class","form-group col-md-4",4,"ngIf"],["class","form-group col-8",4,"ngIf"],[1,"form-group","col-md-4"],["for","nutrition-program-nutrition-program-name"],["id","nutrition-program-nutrition-program-name","formControlName","nutriitionProgramName","maxlength","255","minlength","1","autofocus","",1,"form-control"],[1,"form-group","col-md-8",3,"ngClass"],["for","nutrition-program-description"],["class","optional-input badge badge-info",4,"ngIf"],["id","nutrition-program-description","formControlName","description",1,"form-control"],["for","nutrition-program-nutrition-program-name-en"],["id","nutrition-program-nutrition-program-name-en","formControlName","nutriitionProgramNameEn","maxlength","255","minlength","1",1,"form-control"],["for","nutrition-program-description-en"],["id","nutrition-program-description-en","formControlName","descriptionEn",1,"form-control"],["for","numberOfMeals"],["type","number","id","numberOfMeals","formControlName","numberOfMeals","max","10","min","1","step","1",1,"form-control"],[1,"form-group","col-md-4",3,"ngClass"],["for","caloriesFrom"],["type","number","id","caloriesFrom","formControlName","caloriesFrom","min","0","step","1",1,"form-control"],["for","aloriesTo"],["type","number","id","caloriesTo","formControlName","caloriesTo","min","0","step","1",1,"form-control"],["class","form-group col-4",3,"ngClass",4,"abpPermission"],["for","nutrition-program-tags"],["id","nutrition-program-tags","formControlName","tagsList",3,"onAdding","separatorKeyCodes","secondaryPlaceholder","placeholder"],["tagInput",""],[1,"form-group","col-md-12",3,"ngClass"],["for","app-user-coordinator-app-user-id",2,"display","block"],["name","categories","id","storeCategoryLinks","itemSize","30","formControlName","categories","dataKey","id",1,"sw-tags","form-control",3,"options","virtualScroll","optionLabel","showHeader","showTransitionOptions","hideTransitionOptions","maxSelectedLabels","onFocus"],["pTemplate","selectedItems"],["name","goals","id","storeCategoryLinks","itemSize","30","formControlName","goals","dataKey","id",1,"sw-tags","form-control",3,"options","virtualScroll","optionLabel","showHeader","showTransitionOptions","hideTransitionOptions","maxSelectedLabels","onFocus"],[1,"col-sm-12","modal-footer"],["type","button",1,"btn","btn-secondary","btn-cancel"],["abpClose",""],["type","submit",1,"btn","btn-success","btn-save"],[1,"fa","fa-check"],["class","badge badge-success",4,"ngIf"],["for","app-user-assigned-app-user-id","style","display: block;",4,"ngIf"],[1,"badge","badge-success"],["for","app-user-assigned-app-user-id",2,"display","block"],[1,"form-group","col-8"],["class","btn btn-sm btn-success mt-4",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-success","mt-4",3,"click"],[1,"optional-input","badge","badge-info"],[1,"form-group","col-4",3,"ngClass"],["for","programCategory"],["id","programCategory","name","programCategory","formControlName","programCategory",1,"custom-select","form-control","valid"],[3,"ngValue"],["class","ui-multiselected-item-token ui-corner-all sw-tag",4,"ngFor","ngForOf"],["class","ui-multiselected-empty-token ui-corner-all sw-tag",4,"ngIf"],[1,"ui-multiselected-item-token","ui-corner-all","sw-tag"],[1,"remove-item",3,"click"],[1,"ui-multiselected-empty-token","ui-corner-all","sw-tag"]],template:function(t,i){1&t&&(v.TgZ(0,"abp-modal",0),v.NdJ("visibleChange",function(t){return i.isModalOpen=t}),v.YNc(1,$,6,5,"ng-template",null,1,v.W1O),v.YNc(3,dt,73,87,"ng-template",null,2,v.W1O),v.qZA()),2&t&&v.Q6J("busy",i.isModalBusy)("visible",i.isModalOpen)("suppressUnsavedChangesWarning",i.isReadOnly)},directives:[s.zS,S.O5,l._L,I._Y,I.JL,r.YzZ,I.sg,u.hL,I.Fj,I.JJ,I.u,u.J5,F.m,I.nD,I.wO,r.Uqp,S.mk,I.wV,I.Fd,I.qQ,E.a,r.l97,Y.m7,Q.NU,z.jx,I.EJ,I.YN,I.Kr,S.sg],pipes:[r.fuE],encapsulation:2}),i}(),gt=function t(i){n(this,t),this.id=i.id,this.name=i.nutritionCategoryName,this.nameEn=i.nutritionCategoryNameEn},mt=function t(i){n(this,t),this.id=i.id,this.name=i.goalName,this.nameEn=i.goalNameEn},ft=a(40524),ht=a(43252),vt=a(53181),bt=a(57066),Zt=a(42163),yt=a(9445),At=a(52201);function xt(t,i){1&t&&(v.TgZ(0,"h3"),v._uU(1),v.ALo(2,"abpLocalization"),v.qZA()),2&t&&(v.xp6(1),v.hij(" ",v.lcZ(2,1,"::Meals")," "))}function Ct(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"button",38),v.NdJ("click",function(){return v.CHM(n),v.oxw(2).$implicit.isEditingMealName=!0}),v._UZ(1,"i",39),v.qZA()}}function Nt(t,i){if(1&t&&(v.TgZ(0,"legend",36),v._uU(1),v.YNc(2,Ct,2,0,"button",37),v.qZA()),2&t){var n=v.oxw().$implicit,e=v.oxw(3);v.xp6(1),v.hij(" ",n.name," "),v.xp6(1),v.Q6J("ngIf",e.isEditableGlobalMode)}}function Mt(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"button",44),v.NdJ("click",function(){return v.CHM(n),v.oxw(2).$implicit.isEditingMealName=!1}),v._UZ(1,"i",45),v.qZA()}}function wt(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"legend",36),v.TgZ(1,"div",40),v.TgZ(2,"input",41),v.NdJ("ngModelChange",function(t){return v.CHM(n),v.oxw().$implicit.name=t}),v.qZA(),v.TgZ(3,"div",42),v.YNc(4,Mt,2,0,"button",43),v.qZA(),v.qZA(),v.qZA()}if(2&t){var e=v.oxw().$implicit,o=v.oxw(3);v.xp6(2),v.Q6J("ngModel",e.name),v.xp6(2),v.Q6J("ngIf",o.isEditableGlobalMode)}}function Tt(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"button",46),v.NdJ("click",function(){return v.CHM(n),v.oxw().$implicit.delete()}),v._UZ(1,"i",47),v.qZA()}}function It(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"div",24),v.NdJ("click",function(){return v.CHM(n),v.oxw().$implicit.selectedOptionId=2}),v._uU(1),v.ALo(2,"abpLocalization"),v.qZA()}if(2&t){var e=v.oxw().$implicit;v.ekj("active",2===e.selectedOptionId),v.xp6(1),v.hij(" ",v.lcZ(2,3,"::Option2")," ")}}function kt(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"div",24),v.NdJ("click",function(){return v.CHM(n),v.oxw().$implicit.selectedOptionId=3}),v._uU(1),v.ALo(2,"abpLocalization"),v.qZA()}if(2&t){var e=v.oxw().$implicit;v.ekj("active",3===e.selectedOptionId),v.xp6(1),v.hij(" ",v.lcZ(2,3,"::Option3")," ")}}function Dt(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"div",48),v.NdJ("click",function(){return v.CHM(n),v.oxw().$implicit.addOption()}),v._UZ(1,"i",49),v.qZA()}}function qt(t,i){if(1&t&&(v.TgZ(0,"span",50),v._UZ(1,"app-nutrition-totals",51),v.qZA()),2&t){var n=v.oxw().$implicit;v.xp6(1),v.Q6J("isShowPercent",!1)("defaultCalories",n.getCalorie()||0)("proteins",(null==n?null:n.getNutritionTotals().proteins)||0)("carbs",(null==n?null:n.getNutritionTotals().carbs)||0)("fats",(null==n?null:n.getNutritionTotals().fats)||0)}}function Ot(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"button",21),v.NdJ("click",function(){v.CHM(n);var t=v.oxw(),i=t.$implicit,e=t.index,o=v.oxw().$implicit;return v.oxw(3).down(i,o,e,o.selectedOptionId)}),v._UZ(1,"i",22),v.qZA()}}function _t(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"button",21),v.NdJ("click",function(){v.CHM(n);var t=v.oxw(),i=t.$implicit,e=t.index,o=v.oxw().$implicit;return v.oxw(3).up(i,o,e,o.selectedOptionId)}),v._UZ(1,"i",23),v.qZA()}}var Pt=function(t){return{attachmentId:t,entity:"Nutrition"}};function Lt(t,i){if(1&t&&(v._UZ(0,"img",72),v.ALo(1,"async"),v.ALo(2,"imgdownload")),2&t){var n=v.oxw(2).$implicit;v.Q6J("src",v.lcZ(1,2,v.lcZ(2,4,v.VKq(6,Pt,n.getImage()))),v.LSH)("title",n.getImage())}}function Ut(t,i){if(1&t&&(v.TgZ(0,"div"),v.YNc(1,Lt,3,8,"img",71),v.qZA()),2&t){var n=v.oxw().$implicit;v.xp6(1),v.Q6J("ngIf",n.getImage())}}function Jt(t,i){if(1&t&&(v.TgZ(0,"div",73),v.TgZ(1,"span",74),v._uU(2),v.qZA(),v.TgZ(3,"span",75),v._uU(4),v.qZA(),v.qZA()),2&t){var n=v.oxw().$implicit;v.xp6(2),v.Oqu(null==n||null==n.nutrition?null:n.nutrition.nutritionName),v.xp6(2),v.Oqu(null==n||null==n.nutrition?null:n.nutrition.nutritionNameEn)}}function St(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"p-autoComplete",82),v.NdJ("ngModelChange",function(t){return v.CHM(n),v.oxw(2).$implicit.nutrition=t})("onClear",function(){return v.CHM(n),v.oxw(6).onClear()})("completeMethod",function(t){return v.CHM(n),v.oxw(6).startSearchNutrition(t)})("search",function(t){return v.CHM(n),v.oxw(6).startSearchNutrition(t)}),v.ALo(1,"abpLocalization"),v.qZA()}if(2&t){var e=v.oxw(2).$implicit,o=v.oxw(4);v.s9C("placeholder",v.lcZ(1,6,"::AddNutritionRequiredLabel")),v.Q6J("ngModel",e.nutrition)("suggestions",o.AllNutritions)("type",o.searchType())("dropdown",!0)("field",o.langService.isRtl?"nutritionName":"nutritionNameEn")}}function Ft(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"button",83),v.NdJ("click",function(){v.CHM(n);var t=v.oxw(2).$implicit,i=v.oxw(4),e=v.MAs(6);return i.createNewNutrition(e,t)}),v._uU(1),v.ALo(2,"abpLocalization"),v.qZA()}2&t&&(v.xp6(1),v.Oqu(v.lcZ(2,1,"::AddNutritionIfNotExist")))}function Et(t,i){if(1&t&&(v.TgZ(0,"option",87),v._uU(1),v.qZA()),2&t){var n=i.$implicit,e=v.oxw(7);v.Q6J("ngValue",n),v.xp6(1),v.hij(" ",e.langService.isRtl?n.nutritionName:n.nutritionNameEn," ")}}var Yt=function(){return{standalone:!0}};function Qt(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"div",84),v.TgZ(1,"div",85),v.TgZ(2,"label",77),v._uU(3),v.ALo(4,"abpLocalization"),v.qZA(),v.TgZ(5,"select",86),v.NdJ("ngModelChange",function(t){return v.CHM(n),v.oxw(2).$implicit.nutrition=t}),v._UZ(6,"option",87),v.YNc(7,Et,2,2,"option",88),v.qZA(),v.qZA(),v.qZA()}if(2&t){var e=v.oxw(2).$implicit,o=v.oxw(4);v.xp6(3),v.hij(" ",v.lcZ(4,4,"::AddNutritionRequiredLabel")," "),v.xp6(2),v.Q6J("ngModel",e.nutrition)("ngModelOptions",v.DdM(6,Yt)),v.xp6(2),v.Q6J("ngForOf",o.AllNutritions)}}var zt=function(t){return{"has-error":t}};function jt(t,i){if(1&t&&(v.TgZ(0,"div",76),v.TgZ(1,"label",77),v._uU(2),v.ALo(3,"abpLocalization"),v.qZA(),v.TgZ(4,"div",78),v.YNc(5,St,2,8,"p-autoComplete",79),v.YNc(6,Ft,3,3,"button",80),v.qZA(),v.YNc(7,Qt,8,7,"div",81),v.qZA()),2&t){var n=v.oxw().$implicit,e=v.oxw(4);v.xp6(2),v.Oqu(v.lcZ(3,8,"::AddNutritionRequiredLabel")),v.xp6(2),v.Tol(n.isSubmitted?"isSubmitted":"not-isSubmitted"),v.Q6J("ngClass",v.VKq(10,zt,n.nutritionIsInvalid())),v.xp6(1),v.Q6J("ngIf",!e.isMobile),v.xp6(1),v.Q6J("ngIf",e.isShowAddingNutrition),v.xp6(1),v.Q6J("ngIf",e.isMobile)}}function Ht(t,i){if(1&t&&(v.TgZ(0,"div",73),v._uU(1),v.ALo(2,"number"),v.qZA()),2&t){var n=v.oxw().$implicit;v.xp6(1),v.AsE(" ",v.xi3(2,2,n.quantity,"1.0-1")," ",null==n.nutrition||null==n.nutrition.unit?null:n.nutrition.unit.unitName," ")}}function Vt(t,i){if(1&t&&(v.TgZ(0,"span",74),v._uU(1),v.qZA()),2&t){var n=v.oxw(2).$implicit;v.xp6(1),v.Oqu(null==n.nutrition||null==n.nutrition.unit?null:n.nutrition.unit.unitName)}}function $t(t,i){if(1&t&&(v.TgZ(0,"span",75),v._uU(1),v.qZA()),2&t){var n=v.oxw(2).$implicit;v.xp6(1),v.Oqu(null==n.nutrition||null==n.nutrition.unit?null:n.nutrition.unit.unitNameEn)}}function Gt(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"div",76),v.TgZ(1,"label"),v.YNc(2,Vt,2,1,"span",89),v.YNc(3,$t,2,1,"span",90),v.qZA(),v.TgZ(4,"input",91),v.NdJ("ngModelChange",function(t){return v.CHM(n),v.oxw().$implicit.quantity=t}),v.ALo(5,"abpLocalization"),v.qZA(),v.qZA()}if(2&t){var e=v.oxw().$implicit;v.xp6(2),v.Q6J("ngIf",null==e.nutrition||null==e.nutrition.unit?null:e.nutrition.unit.unitName),v.xp6(1),v.Q6J("ngIf",null==e.nutrition||null==e.nutrition.unit?null:e.nutrition.unit.unitNameEn),v.xp6(1),v.s9C("placeholder",v.lcZ(5,5,"::AddQuantityRequiredLabel")),v.Q6J("ngModel",e.quantity)("ngClass",v.VKq(7,zt,e.quantityIsInvalid()))}}function Rt(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"button",92),v.NdJ("click",function(){v.CHM(n);var t=v.oxw().$implicit;return t.NutritionNoteVisible=!t.NutritionNoteVisible}),v._UZ(1,"i",93),v.qZA()}}function Bt(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"button",94),v.NdJ("click",function(){return v.CHM(n),v.oxw().$implicit.delete()}),v._UZ(1,"i",47),v.TgZ(2,"span",95),v._uU(3),v.ALo(4,"abpLocalization"),v.qZA(),v.qZA()}2&t&&(v.xp6(3),v.Oqu(v.lcZ(4,1,"AbpUi::Delete")))}function Wt(t,i){if(1&t&&(v.TgZ(0,"div",73),v._uU(1),v.qZA()),2&t){var n=v.oxw(2).$implicit;v.xp6(1),v.hij(" ",n.nutritionNote," ")}}function Kt(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"div",76),v.TgZ(1,"input",35),v.NdJ("ngModelChange",function(t){return v.CHM(n),v.oxw(2).$implicit.nutritionNote=t}),v.ALo(2,"abpLocalization"),v.qZA(),v.qZA()}if(2&t){var e=v.oxw(2).$implicit;v.xp6(1),v.s9C("placeholder",v.lcZ(2,2,"::AddNutritionNote")),v.Q6J("ngModel",e.nutritionNote)}}function Xt(t,i){if(1&t&&(v.TgZ(0,"div",96),v.YNc(1,Wt,2,1,"div",61),v.YNc(2,Kt,3,4,"div",62),v.qZA()),2&t){var n=v.oxw().$implicit;v.xp6(1),v.Q6J("ngIf",!n.isEditing),v.xp6(1),v.Q6J("ngIf",n.isEditing)}}function ti(t,i){if(1&t&&(v.TgZ(0,"div",52),v.TgZ(1,"div",9),v.TgZ(2,"div",53),v.TgZ(3,"div"),v.O4$(),v.TgZ(4,"svg",54),v._UZ(5,"path",55),v._UZ(6,"path",56),v.qZA(),v.qZA(),v.kcU(),v.TgZ(7,"div",57),v.YNc(8,Ot,2,0,"button",58),v._UZ(9,"br"),v.YNc(10,_t,2,0,"button",58),v.qZA(),v.YNc(11,Ut,2,1,"div",59),v.qZA(),v.TgZ(12,"div",60),v.TgZ(13,"div",9),v.TgZ(14,"div",60),v.YNc(15,Jt,5,2,"div",61),v.YNc(16,jt,8,12,"div",62),v.qZA(),v.TgZ(17,"div",63),v.YNc(18,Ht,3,5,"div",61),v.YNc(19,Gt,6,9,"div",62),v.qZA(),v.TgZ(20,"div",64),v.TgZ(21,"div",65),v.YNc(22,Rt,2,0,"button",66),v.YNc(23,Bt,5,3,"button",67),v.qZA(),v.qZA(),v.qZA(),v.TgZ(24,"div",9),v.TgZ(25,"div",68),v.TgZ(26,"div",69),v._UZ(27,"app-nutrition-totals",51),v.qZA(),v.qZA(),v.YNc(28,Xt,3,2,"div",70),v.qZA(),v.qZA(),v.qZA(),v.qZA()),2&t){var n=i.$implicit,e=i.index,o=v.oxw().$implicit,a=v.oxw(3);v.xp6(8),v.Q6J("ngIf",e>0),v.xp6(2),v.Q6J("ngIf",e<o.detailsUnDeletedForActiveOption.length-1),v.xp6(1),v.Q6J("ngIf",n.getImage()),v.xp6(4),v.Q6J("ngIf",!n.isEditing),v.xp6(1),v.Q6J("ngIf",n.isEditing),v.xp6(2),v.Q6J("ngIf",!n.isEditing),v.xp6(1),v.Q6J("ngIf",n.isEditing),v.xp6(3),v.Q6J("ngIf",null==n?null:n.nutrition),v.xp6(1),v.Q6J("ngIf",a.isEditableGlobalMode),v.xp6(4),v.Q6J("isShowPercent",!1)("defaultCalories",n.getCalorie()||0)("proteins",(null==n?null:n.getNutritionTotals().proteins)||0)("carbs",(null==n?null:n.getNutritionTotals().carbs)||0)("fats",(null==n?null:n.getNutritionTotals().fats)||0),v.xp6(1),v.Q6J("ngIf",null==n?null:n.NutritionNoteVisible)}}function ii(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"button",97),v.NdJ("click",function(){v.CHM(n);var t=v.oxw().$implicit;return v.oxw(3).addNewNutrition(t)}),v._uU(1),v.ALo(2,"abpLocalization"),v.qZA()}2&t&&(v.xp6(1),v.hij(" ",v.lcZ(2,1,"::AddNutrition")," "))}var ni=function(t){return{"selected-fieldset":t}};function ei(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"fieldset",15),v.YNc(1,Nt,3,2,"legend",16),v.YNc(2,wt,5,2,"legend",16),v.TgZ(3,"div",17),v.YNc(4,Tt,2,0,"button",18),v.qZA(),v.TgZ(5,"div",19),v.TgZ(6,"div",20),v.TgZ(7,"button",21),v.NdJ("click",function(){var t=v.CHM(n).$implicit;return v.oxw(3).nutritionDayModel.down(t)}),v._UZ(8,"i",22),v.qZA(),v.TgZ(9,"button",21),v.NdJ("click",function(){var t=v.CHM(n).$implicit;return v.oxw(3).nutritionDayModel.up(t)}),v._UZ(10,"i",23),v.qZA(),v.TgZ(11,"div",24),v.NdJ("click",function(){return i.$implicit.selectedOptionId=1}),v._uU(12),v.ALo(13,"abpLocalization"),v.qZA(),v.YNc(14,It,3,5,"div",25),v.YNc(15,kt,3,5,"div",25),v.YNc(16,Dt,2,0,"div",26),v.qZA(),v.TgZ(17,"div",27),v.YNc(18,qt,2,5,"span",28),v.qZA(),v.qZA(),v._UZ(19,"div"),v.TgZ(20,"div",29),v.NdJ("cdkDropListDropped",function(t){var i=v.CHM(n).$implicit;return v.oxw(3).drop(t,i,i.selectedOptionId)}),v.YNc(21,ti,29,15,"div",30),v.qZA(),v.TgZ(22,"div",31),v.TgZ(23,"div",32),v.YNc(24,ii,3,3,"button",33),v.qZA(),v.TgZ(25,"div",34),v.TgZ(26,"input",35),v.NdJ("ngModelChange",function(t){return i.$implicit.mealNotes=t}),v.ALo(27,"abpLocalization"),v.qZA(),v.qZA(),v.qZA(),v.qZA()}if(2&t){var e=i.$implicit,o=v.oxw(3);v.Q6J("ngClass",v.VKq(20,ni,!(!o.isHasOneMeal(null)&&e!==o.lastAddedNutritionDayItem))),v.xp6(1),v.Q6J("ngIf",!e.isEditingMealName),v.xp6(1),v.Q6J("ngIf",e.isEditingMealName),v.xp6(2),v.Q6J("ngIf",o.isEditableGlobalMode),v.xp6(7),v.ekj("active",1===e.selectedOptionId),v.xp6(1),v.hij(" ",v.lcZ(13,16,"::Option1")," "),v.xp6(2),v.Q6J("ngIf",e.GetDetailsUnDeletedForActiveOptionVisible(2)),v.xp6(1),v.Q6J("ngIf",e.GetDetailsUnDeletedForActiveOptionVisible(3)),v.xp6(1),v.Q6J("ngIf",!e.GetDetailsUnDeletedForActiveOptionVisible(3)||!e.GetDetailsUnDeletedForActiveOptionVisible(2)),v.xp6(2),v.Q6J("ngIf",e.getCalorie()),v.xp6(3),v.Q6J("ngForOf",e.detailsUnDeletedForActiveOption)("ngForTrackBy",o.trackByNutritionDayItemDetailModel),v.xp6(3),v.Q6J("ngIf",o.isEditableGlobalMode&&!o.isHasOneMeal(e)&&e!==o.lastAddedNutritionDayItem),v.xp6(2),v.s9C("placeholder",v.lcZ(27,18,"::AddMealNote")),v.Q6J("ngModel",e.mealNotes)}}function oi(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"button",101),v.NdJ("click",function(){return v.CHM(n),v.oxw(4).showNutritionForm()}),v._uU(1),v.ALo(2,"abpLocalization"),v.qZA()}2&t&&(v.xp6(1),v.hij(" ",v.lcZ(2,1,"::AddMeal")," "))}function ai(t,i){if(1&t&&(v.TgZ(0,"span",50),v._UZ(1,"app-nutrition-totals",102),v.qZA()),2&t){var n=v.oxw(4);v.xp6(1),v.Q6J("defaultCalories",n.nutritionDayModel.getCalorie()||0)("proteins",n.nutritionDayModel.getNutritionTotals().proteins)("carbs",n.nutritionDayModel.getNutritionTotals().carbs)("fats",n.nutritionDayModel.getNutritionTotals().fats)}}function ri(t,i){if(1&t&&(v.TgZ(0,"div",98),v.TgZ(1,"div",99),v.YNc(2,oi,3,3,"button",100),v.YNc(3,ai,2,4,"span",28),v.qZA(),v.qZA()),2&t){var n=v.oxw(3);v.xp6(2),v.Q6J("ngIf",n.canAddMoreMeals()&&n.isEditableGlobalMode),v.xp6(1),v.Q6J("ngIf",n.nutritionDayModel.getNutritionTotals())}}function si(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"div",103),v.TgZ(1,"div",104),v.TgZ(2,"form",105),v.NdJ("ngSubmit",function(){return v.CHM(n),v.oxw(3).submitForm()}),v.TgZ(3,"div",106),v.TgZ(4,"div",107),v.TgZ(5,"div",108),v.TgZ(6,"div",109),v.TgZ(7,"label",110),v._uU(8),v.ALo(9,"abpLocalization"),v.qZA(),v.TgZ(10,"div",40),v._UZ(11,"input",111),v.TgZ(12,"div",42),v._UZ(13,"input",112),v.ALo(14,"abpLocalization"),v.qZA(),v.qZA(),v.qZA(),v.TgZ(15,"div",113),v._UZ(16,"i",114),v._UZ(17,"br"),v.TgZ(18,"span",115),v._uU(19),v.ALo(20,"abpLocalization"),v.qZA(),v._UZ(21,"br"),v._UZ(22,"br"),v._UZ(23,"br"),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA()}if(2&t){var e=v.oxw(3);v.xp6(2),v.Q6J("formGroup",e.form),v.xp6(6),v.Oqu(v.lcZ(9,4,"::MealName")),v.xp6(5),v.s9C("value",v.lcZ(14,6,"::Save")),v.xp6(6),v.Oqu(v.lcZ(20,8,"::AddMealTip"))}}function li(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"div",103),v.TgZ(1,"h3"),v._uU(2),v.ALo(3,"abpLocalization"),v.qZA(),v.TgZ(4,"app-nutrition-selector",116),v.NdJ("productSelected",function(t){return v.CHM(n),v.oxw(3).productSelected(t,null)}),v.qZA(),v.qZA()}if(2&t){var e=v.oxw(3);v.xp6(2),v.AsE(" ",v.lcZ(3,2,"::AddNutrition")," (",e.lastAddedNutritionDayItem.name,") ")}}function ui(t,i){1&t&&(v.TgZ(0,"div",103),v.TgZ(1,"div",117),v._UZ(2,"i",114),v._UZ(3,"br"),v.TgZ(4,"span",115),v._uU(5),v.ALo(6,"abpLocalization"),v.qZA(),v._UZ(7,"br"),v._UZ(8,"br"),v._UZ(9,"br"),v.qZA(),v.qZA()),2&t&&(v.xp6(5),v.Oqu(v.lcZ(6,1,"::SearchNutrition")))}function ci(t,i){if(1&t&&(v.TgZ(0,"div",8),v.TgZ(1,"div",9),v.TgZ(2,"div",10),v.TgZ(3,"div",9),v.TgZ(4,"div",11),v.YNc(5,ei,28,22,"fieldset",12),v.qZA(),v.YNc(6,ri,4,2,"div",13),v.qZA(),v.qZA(),v.YNc(7,si,24,10,"div",14),v.YNc(8,li,5,4,"div",14),v.YNc(9,ui,10,3,"div",14),v.qZA(),v.qZA()),2&t){var n=v.oxw(2);v.xp6(5),v.Q6J("ngForOf",n.nutritionDayModel.nutritionDayItemsUnDeleted)("ngForTrackBy",n.trackByNutritionDayItemModel),v.xp6(1),v.Q6J("ngIf",!n.isAddingNewExcercise),v.xp6(1),v.Q6J("ngIf",n.isAddingNewExcercise),v.xp6(1),v.Q6J("ngIf",!n.isAddingNewExcercise&&n.lastAddedNutritionDayItem),v.xp6(1),v.Q6J("ngIf",!n.isAddingNewExcercise&&!n.lastAddedNutritionDayItem)}}function di(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"button",122),v.NdJ("click",function(){return v.CHM(n),v.oxw(3).save()}),v._UZ(1,"i",45),v._uU(2),v.ALo(3,"abpLocalization"),v.qZA()}2&t&&(v.xp6(2),v.hij(" ",v.lcZ(3,1,"AbpUi::Save")," "))}function pi(t,i){if(1&t&&(v.TgZ(0,"div",118),v.TgZ(1,"button",119,120),v._uU(3),v.ALo(4,"abpLocalization"),v.qZA(),v.YNc(5,di,4,3,"button",121),v.qZA()),2&t){var n=v.oxw(2);v.xp6(3),v.hij(" ",v.lcZ(4,2,"AbpUi::Cancel")," "),v.xp6(2),v.Q6J("ngIf",!n.isAddingNewExcercise)}}function gi(t,i){if(1&t&&(v.TgZ(0,"div",5),v.YNc(1,ci,10,6,"div",6),v.YNc(2,pi,6,4,"div",7),v.qZA()),2&t){var n=v.oxw();v.xp6(1),v.Q6J("ngIf",n.nutritionDayModel),v.xp6(1),v.Q6J("ngIf",n.isCanSave&&n.isEditableGlobalMode&&!n.isAddingNewExcercise)}}var mi=function(){var i=function(){function i(t,e,o,a,r,s,l,u,c,d,p,g,m){n(this,i),this.list=t,this.track=e,this.service=o,this.localization=a,this._attachmentService=r,this.langService=s,this.nutritionManageService=l,this.mobileHelperService=u,this.confirmation=c,this.dateService=d,this.environment=p,this.analyticsService=g,this.fb=m,this.dataChanged=new v.vpe,this.trackByNutritionDayItemModel=function(t,i){return null==i?void 0:i.id},this.trackByNutritionDayItemDetailModel=function(t,i){return null==i?void 0:i.id},this.trackByNutrition=function(t,i){return null==i?void 0:i.id},this.isModalBusy=!1,this.isModalOpen=!1,this.apiUrl="",this.isMobile=!1,this.isEditableGlobalMode=!0,this.programConstrains=new x.C,this.suppressUnsavedChangesWarning=!1,this.isAddingNewExcercise=!1,this.isCanSave=!1,this.lastSearchedNutrition="",this.isShowAddingNutrition=!1}return o(i,[{key:"ngOnInit",value:function(){this.apiUrl=this.environment.getApiUrl()}},{key:"hideForm",value:function(){this.isModalOpen=!1,this.form&&this.form.reset()}},{key:"showForm",value:function(){this.lastAddedNutritionDayItem=void 0,this.form&&this.form.reset(),this.isShowAddingNutrition=!1,this.isModalOpen=!0,this.isMobile&&this.startSearchNutrition({query:""})}},{key:"create",value:function(t,i,n){var e=this;this.isEditableGlobalMode=!0,this.programConstrains=n,this.isCanSave=!0,this.day=t;var o={};o.dayNumber=t.dayId,o.nutritionProgramId=i,this.nutritionDayModel=new A(o);for(var a=0;a<n.numberOfMeals;a++)this.nutritionDayModel.addNewDetail(this.localization.instant("::AMeal")+" "+(a+1));this.hideNutritionForm(),this.showForm(),this.nutritionDayModel.onDeleted.subscribe(function(t){0===t?e.showNutritionForm():1===t&&(e.lastAddedNutritionDayItem=e.nutritionDayModel.nutritionDayItemsUnDeleted[0])})}},{key:"update",value:function(t,i,n){var e=this;this.isEditableGlobalMode=!0,this.programConstrains=n,this.day=t,this.isCanSave=!0,this.nutritionDayModel=new A(i.convertToDto()),this.hideNutritionForm(),this.showForm(),this.nutritionDayModel.onDeleted.subscribe(function(t){0===t?e.showNutritionForm():1===t&&(e.lastAddedNutritionDayItem=e.nutritionDayModel.nutritionDayItemsUnDeleted[0])}),1===this.nutritionDayModel.nutritionDayItemsUnDeleted.length&&(this.lastAddedNutritionDayItem=this.nutritionDayModel.nutritionDayItemsUnDeleted[0])}},{key:"isHasOneMeal",value:function(t){var i=1===this.nutritionDayModel.nutritionDayItemsUnDeleted.length;return i&&null!=t&&this.addNewNutrition(t),i}},{key:"display",value:function(t,i,n){var e=this;this.isEditableGlobalMode=!1,this.programConstrains=n,this.day=t,this.isCanSave=!0,this.nutritionDayModel=new A(i.convertToDto()),this.hideNutritionForm(),this.showForm(),this.nutritionDayModel.onDeleted.subscribe(function(t){0===t&&e.showNutritionForm()})}},{key:"cancel",value:function(){this.form&&this.form.reset(),this.suppressUnsavedChangesWarning=!0,this.isModalBusy=!1}},{key:"save",value:function(){var t=this;if((!this.nutritionDayModel||this.nutritionDayModel.isAllSuperSetsValid())&&!this.isCaloriesError()){var i=this,n=this.nutritionDayModel.convertToDto();if(i.analyticsService.log(C.O.do_save_Program_planed_nutrition),this.nutritionDayModel.id){var e={};e.dayNumber=n.dayNumber,e.nutritionProgramId=n.nutritionProgramId,e.nutritionProgramDayItems=n.nutritionProgramDayItems,e.name=n.name,this.service.update(this.nutritionDayModel.id,e).subscribe(function(n){i.nutritionDayModel=new A(n);var e=new f.h(n.dayNumber,n.name,t.day,i.nutritionDayModel);i.day.clearItems(),i.day.addItem(e),i.hideForm(),i.dataChanged.emit(t.nutritionDayModel)})}else{var o={};o.dayNumber=n.dayNumber,o.nutritionProgramId=n.nutritionProgramId,o.nutritionProgramDayItems=n.nutritionProgramDayItems,o.name=n.name,this.service.create(o).subscribe(function(n){i.nutritionDayModel=new A(n),i.day.addItem(new f.h(n.id,n.name,t.day,i.nutritionDayModel)),i.hideForm(),i.dataChanged.emit(t.nutritionDayModel)})}}}},{key:"showNutritionForm",value:function(){this.buildForm(),this.isAddingNewExcercise=!0}},{key:"hideNutritionForm",value:function(){this.isAddingNewExcercise=!1}},{key:"canAddMoreMeals",value:function(){return!(this.programConstrains.numberOfMeals&&this.programConstrains.numberOfMeals>0)||this.nutritionDayModel.nutritionDayItemsUnDeleted.length<this.programConstrains.numberOfMeals}},{key:"isCaloriesError",value:function(){return!1}},{key:"buildForm",value:function(){this.form=this.fb.group({mealName:[null,[I.kI.required]]})}},{key:"submitForm",value:function(){if(!this.form.invalid){var t=this.form.get("mealName").value;this.isCanSave=!0,this.hideNutritionForm(),this.nutritionDayModel.addNewDetail(t),this.lastAddedNutritionDayItem=this.nutritionDayModel.nutritionDayItemsUnDeleted[this.nutritionDayModel.nutritionDayItemsUnDeleted.length-1]}}},{key:"startSearchNutrition",value:function(t){var i=this,n={};n.filter=t.query,n.maxResultCount=50,this.lastSearchedNutrition=t.query||"",this.service.getNutritionLookup(n).subscribe(function(t){i.AllNutritions=t.items,i.isShowAddingNutrition=0==t.items.length})}},{key:"onSelect",value:function(t){}},{key:"onClear",value:function(){}},{key:"searchType",value:function(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)?"text":"search"}},{key:"createNewNutrition",value:function(t,i){this.selctedNutritionDayItemGroup=i,t.create(this.lastSearchedNutrition)}},{key:"onCreateNewNutrition",value:function(t){var i=this;this.startSearchNutrition({query:t.nutritionName}),setTimeout(function(){i.selctedNutritionDayItemGroup.nutrition=t},1e3)}},{key:"drop",value:function(i,n,e){var o=t(n.detailsUnDeleted).filter(function(t){return t.optionId!=e}),a=t(n.detailsUnDeletedForActiveOption);(0,h.bA)(a,i.previousIndex,i.currentIndex),n.details=[].concat(t(a),t(o))}},{key:"up",value:function(i,n,e,o){if(e<n.details.length-1){var a=t(n.detailsUnDeleted).filter(function(t){return t.optionId!=o}),r=t(n.detailsUnDeletedForActiveOption);(0,h.bA)(r,e,e+1),n.details=[].concat(t(r),t(a))}}},{key:"down",value:function(i,n,e,o){if(e>0){var a=t(n.detailsUnDeleted).filter(function(t){return t.optionId!=o}),r=t(n.detailsUnDeletedForActiveOption);(0,h.bA)(r,e,e-1),n.details=[].concat(t(r),t(a))}}},{key:"addNewNutrition",value:function(t){t.isAddingNewItem=!t.isAddingNewItem,this.lastAddedNutritionDayItem=t,this.isAddingNewExcercise=!1}},{key:"productSelected",value:function(t,i){null!=i||(i=this.lastAddedNutritionDayItem),i.isAddingNewItem=!1,i&&(i.isAddingNewItem=!1,i.addNewDetail(t))}}]),i}();return i.\u0275fac=function(t){return new(t||i)(v.Y36(r.XNV),v.Y36(r.vR3),v.Y36(ft.o),v.Y36(r.oQ8),v.Y36(ht.L),v.Y36(T.C),v.Y36(M.iJ),v.Y36(J.k4),v.Y36(s.YP),v.Y36(g.R),v.Y36(r.L$R),v.Y36(C.y),v.Y36(I.qu))},i.\u0275cmp=v.Xpm({type:i,selectors:[["app-nutrition-program-modal-day"]],outputs:{dataChanged:"dataChanged"},features:[v._Bn([r.XNV,g.R])],decls:7,vars:4,consts:[["size","xl",3,"busy","visible","suppressUnsavedChangesWarning","visibleChange"],["abpHeader",""],["abpBody",""],[3,"hideList","onSaved"],["appNutrition",""],[1,"program-popup","small-scrollbar"],["class","mt-2 fade-in-top",4,"ngIf"],["class","col-sm-12 modal-footer mt-0 p-1",4,"ngIf"],[1,"mt-2","fade-in-top"],[1,"row"],[1,"col-8"],[1,"col-12",2,"height","calc(100vh - 180px)","overflow-y","auto","min-height","200px"],["class","hiding-container bg-light-2 round-borders",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["class","col",4,"ngIf"],["class","col-4",4,"ngIf"],[1,"hiding-container","bg-light-2","round-borders",3,"ngClass"],["class","set-item text-center",4,"ngIf"],[1,"delete-nutrition-day-item"],["class","btn btn-danger delete-nutrition auto-hide",3,"click",4,"ngIf"],[1,"option-container","row"],[1,"btn-group","col-auto"],[1,"btn","btn-sm",3,"click"],[1,"fa","fa-arrow-up"],[1,"fa","fa-arrow-down"],[1,"btn","btn-secondary",3,"click"],["class","btn btn-secondary",3,"active","click",4,"ngIf"],["class","btn btn-success",3,"click",4,"ngIf"],[1,"col-auto"],["class","totals",4,"ngIf"],["cdkDropList","",1,"nutritions-con",3,"cdkDropListDropped"],["class","nutrition-row","cdkDrag","",4,"ngFor","ngForOf","ngForTrackBy"],[1,"excercise-footer"],[1,"btn-group","d-inline-block","col-auto"],["class","btn-sm btn btn-outline-success auto-hide",3,"click",4,"ngIf"],[1,"d-inline-block","input-containers","input-group","mb-2","col"],[1,"rounded","w-100","form-control",3,"ngModel","placeholder","ngModelChange"],[1,"set-item","text-center"],["class","btn no-shadow btn-sm text-primary m-0 p-0",3,"click",4,"ngIf"],[1,"btn","no-shadow","btn-sm","text-primary","m-0","p-0",3,"click"],[1,"fa","fa-pen"],[1,"input-group"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["class","btn btn-sm text-success m-0 p-0",3,"click",4,"ngIf"],[1,"btn","btn-sm","text-success","m-0","p-0",3,"click"],[1,"fa","fa-check"],[1,"btn","btn-danger","delete-nutrition","auto-hide",3,"click"],[1,"fa","fa-times"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-plus"],[1,"totals"],[3,"isShowPercent","defaultCalories","proteins","carbs","fats"],["cdkDrag","",1,"nutrition-row"],[1,"col-3","my-auto","d-flex"],["cdkDragHandle","","width","24px","fill","currentColor","viewBox","0 0 24 24",1,"holder"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],[2,"display","inline-block","text-align","center"],["class","btn btn-sm",3,"click",4,"ngIf"],[4,"ngIf"],[1,"col","my-auto"],["class","value-containers",4,"ngIf"],["class","d-block input-containers input-group",4,"ngIf"],[1,"col-auto","my-auto"],[1,"col-auto","text-center","text-lg-right","text-sm-center","my-auto"],[1,"action-btns"],["class","btn btn-link",3,"click",4,"ngIf"],["class","btn btn-sm px-1 text-danger",3,"click",4,"ngIf"],[1,"col-6"],[1,"mt-2","text-center"],["class","col-6 mt-1",4,"ngIf"],["class","img-fluid rounded","alt","",3,"src","title",4,"ngIf"],["alt","",1,"img-fluid","rounded",3,"src","title"],[1,"value-containers"],[1,"view-rtl"],[1,"view-ltr"],[1,"d-block","input-containers","input-group"],["for","general-lookup-store-type-general-lookup-id"],[3,"ngClass"],["id","nutritionItem","name","nutritionItem","dataKey","id","class","w-100","forceSelection","true",3,"ngModel","suggestions","type","dropdown","placeholder","field","ngModelChange","onClear","completeMethod","search",4,"ngIf"],["class","btn btn-sm btn-outline-success btn-block",3,"click",4,"ngIf"],["class","form-inline",4,"ngIf"],["id","nutritionItem","name","nutritionItem","dataKey","id","forceSelection","true",1,"w-100",3,"ngModel","suggestions","type","dropdown","placeholder","field","ngModelChange","onClear","completeMethod","search"],[1,"btn","btn-sm","btn-outline-success","btn-block",3,"click"],[1,"form-inline"],[1,"form-group","w-100"],["id","nutritionItem","name","nutritionItem",1,"custom-select","form-control",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","view-rtl",4,"ngIf"],["class","view-ltr",4,"ngIf"],["type","number","min","0","max","1000000",1,"rounded","w-100","form-control",3,"ngModel","placeholder","ngClass","ngModelChange"],[1,"btn","btn-link",3,"click"],[1,"fa","fa-pen","text-primary"],[1,"btn","btn-sm","px-1","text-danger",3,"click"],[1,"d-lg-none","d-inline-block","ml-2"],[1,"col-6","mt-1"],[1,"btn-sm","btn","btn-outline-success","auto-hide",3,"click"],[1,"col"],[1,"nutrition-footer"],["style","position: absolute;right: 0px;","class","mx-3 btn btn-outline-success add-btn",3,"click",4,"ngIf"],[1,"mx-3","btn","btn-outline-success","add-btn",2,"position","absolute","right","0px",3,"click"],[3,"defaultCalories","proteins","carbs","fats"],[1,"col-4"],[1,"text-center","col"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"row","app-bg-gray-light"],[1,"col","mx-auto"],[1,"mt-2","fade-in-top","row"],[1,"form-group","col-md-12"],["for","mealName"],["autofocus","","formControlName","mealName","id","mealName","maxlength","255","minlength","1",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"value"],[1,"col","text-center","mt-5","pt-5"],[1,"fab","fa-nutritionix","text-primary",2,"font-size","48px"],[1,"text-muted"],[3,"productSelected"],[1,"col","text-center","text-center","mt-5","pt-5"],[1,"col-sm-12","modal-footer","mt-0","p-1"],["type","button",1,"btn","btn-secondary","btn-cancel"],["abpClose",""],["Class","btn btn-success btn-save",3,"click",4,"ngIf"],["Class","btn btn-success btn-save",3,"click"]],template:function(t,i){1&t&&(v.TgZ(0,"abp-modal",0),v.NdJ("visibleChange",function(t){return i.isModalOpen=t}),v.YNc(1,xt,3,3,"ng-template",null,1,v.W1O),v.YNc(3,gi,3,2,"ng-template",null,2,v.W1O),v.qZA(),v.TgZ(5,"app-nutrition",3,4),v.NdJ("onSaved",function(t){return i.onCreateNewNutrition(t)}),v.qZA()),2&t&&(v.Q6J("busy",i.isModalBusy)("visible",i.isModalOpen)("suppressUnsavedChangesWarning",i.suppressUnsavedChangesWarning),v.xp6(5),v.Q6J("hideList",!0))},directives:[s.zS,vt.J,S.O5,S.sg,S.mk,h.Wj,I.Fj,I.JJ,I.On,F.m,bt.r,h.Zt,h.Bh,Zt.Qc,I.EJ,I.YN,I.Kr,I.qQ,I.Fd,I.wV,E.a,I._Y,I.JL,r.YzZ,I.sg,u.hL,r.Uqp,I.u,u.J5,I.nD,I.wO,yt.A],pipes:[r.fuE,S.Ov,At.H,S.JJ],styles:[".has-error[_ngcontent-%COMP%]{border:1px solid red}.program-popup[_ngcontent-%COMP%]   .badge-inner[_ngcontent-%COMP%]{background-color:#fff;color:#000;font-size:100%}.program-popup[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{padding:20px 16px;border:1px solid #e5e5e5;border-radius:8px;margin-bottom:0}.program-popup[_ngcontent-%COMP%]   fieldset.selected-fieldset[_ngcontent-%COMP%]{background:#ffc10733!important;border:1px solid #ffc107}.program-popup[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{width:auto;border:1px solid #d5d5d5;border-radius:50px;padding:3px 14px;background:#fff;margin-bottom:0;font-size:14px;position:relative;z-index:2}.program-popup[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .delete-nutrition-day-item[_ngcontent-%COMP%]{text-align:left;transition:all .4s ease-in-out;transform:translateY(-50px);height:24px}.program-popup[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .delete-nutrition-day-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;padding:0;width:24px;height:24px;line-height:24px}.program-popup[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .delete-nutrition-day-item[_ngcontent-%COMP%]   button.auto-hide[_ngcontent-%COMP%]{opacity:0;height:0}.program-popup[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]:hover   .delete-nutrition-day-item[_ngcontent-%COMP%]   .auto-hide[_ngcontent-%COMP%]{opacity:1;height:24px}.program-popup[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .nutritions-con[_ngcontent-%COMP%]   .nutrition-row[_ngcontent-%COMP%]{padding:10px 0;border-bottom:1px solid #e5e5e5}.program-popup[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .nutritions-con[_ngcontent-%COMP%]   .nutrition-row[_ngcontent-%COMP%]:first-of-type{padding-top:0}.program-popup[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .nutritions-con[_ngcontent-%COMP%]   .nutrition-row[_ngcontent-%COMP%]:last-of-type{margin-bottom:20px}.program-popup[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .nutritions-con[_ngcontent-%COMP%]   .nutrition-row[_ngcontent-%COMP%]   .input-containers[_ngcontent-%COMP%]{align-items:center}.program-popup[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .nutritions-con[_ngcontent-%COMP%]   .nutrition-row[_ngcontent-%COMP%]   .input-containers[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]{vertical-align:middle;display:inline-block;margin-right:6px}.program-popup[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .nutritions-con[_ngcontent-%COMP%]   .nutrition-row[_ngcontent-%COMP%]   .action-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#fff}@media screen and (min-width:991px){.program-popup[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .nutritions-con[_ngcontent-%COMP%]   .nutrition-row[_ngcontent-%COMP%]   .action-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;padding:0!important;width:25px;height:25px;line-height:25px}}.program-popup[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .nutritions-con[_ngcontent-%COMP%]   .nutrition-row[_ngcontent-%COMP%]   .action-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-left:10px}.program-popup[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .excercise-footer[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center}.program-popup[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .excercise-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.program-popup[_ngcontent-%COMP%]   .nutrition-footer[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;align-items:center}.program-popup[_ngcontent-%COMP%]   .nutrition-footer[_ngcontent-%COMP%]   .totals[_ngcontent-%COMP%]{margin-top:15px}.program-popup[_ngcontent-%COMP%]   .nutrition-footer[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{transform:translateY(18px)}.program-popup[_ngcontent-%COMP%]   .nutrition-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50px;background:#fff;position:relative;z-index:1}.program-popup[_ngcontent-%COMP%]   .nutrition-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#00824e}.img-fluid[_ngcontent-%COMP%]{max-width:58px}.alert[_ngcontent-%COMP%]{padding:3px}.alert.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da}[_nghost-%COMP%]     .modal{display:block!important}[_nghost-%COMP%]     .modal-header{padding:0 16px}[_nghost-%COMP%]     .modal-dialog{overflow-y:visible!important;overflow-y:initial!important}[_nghost-%COMP%]     .modal-body{height:80vh;overflow-y:auto;padding:0 14px 6px}.badge.badge-inner[_ngcontent-%COMP%]{display:block;margin:3px}.option-container[_ngcontent-%COMP%]{width:100%;text-align:center;margin-top:-26px;margin-bottom:15px}.cdk-drag-preview[_ngcontent-%COMP%]{z-index:10000!important;transform:rotate3d(10,10,10,-2deg);box-shadow:10px 10px 10px rgba(0,0,0,.1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),i}(),fi=a(98462);function hi(t,i){if(1&t&&(v.TgZ(0,"h1",6),v._uU(1),v.qZA()),2&t){var n=v.oxw(2);v.xp6(1),v.hij(" ",n.nutritionDayModel.totalDayCaloriesMin," ")}}var vi=function(t,i,n){return{"text-primary":t,"text-warning":i,"text-danger":n}};function bi(t,i){if(1&t&&(v.TgZ(0,"h3",7),v._uU(1),v.qZA()),2&t){var n=v.oxw(2);v.Q6J("ngClass",v.kEZ(3,vi,!n.isShowAlert(1.05),n.isShowAlert(1.05)&&!n.isShowAlert(1.1),n.isShowAlert(1.1))),v.xp6(1),v.AsE(" ",n.nutritionDayModel.totalDayCaloriesMin," ~ ",n.nutritionDayModel.totalDayCaloriesMax," ")}}function Zi(t,i){if(1&t&&(v.TgZ(0,"div",1),v.TgZ(1,"h5",2),v._uU(2),v.ALo(3,"abpLocalization"),v.qZA(),v.YNc(4,hi,2,1,"h1",3),v.YNc(5,bi,2,7,"h3",4),v.TgZ(6,"div",5),v._uU(7),v.ALo(8,"abpLocalization"),v.qZA(),v.qZA()),2&t){var n=v.oxw();v.xp6(2),v.hij(" ",v.lcZ(3,4,"::NutritionValue")," "),v.xp6(2),v.Q6J("ngIf",n.nutritionDayModel.totalDayCaloriesMin===n.nutritionDayModel.totalDayCaloriesMax),v.xp6(1),v.Q6J("ngIf",n.nutritionDayModel.totalDayCaloriesMin!==n.nutritionDayModel.totalDayCaloriesMax),v.xp6(2),v.hij(" ",v.lcZ(8,6,"::CalorieItem")," ")}}var yi=function(){var t=function(){function t(i,e,o,a,r,s){n(this,t),this.list=i,this.track=e,this.service=o,this.confirmation=a,this.dateService=r,this.fb=s,this.trackByNutritionDayItemModel=function(t,i){return null==i?void 0:i.id},this.trackByNutritionDayItemDetailModel=function(t,i){return null==i?void 0:i.id},this.isEditable=!0,this.isSummary=!0}return o(t,[{key:"ngOnInit",value:function(){}},{key:"isShowAlert",value:function(t){return!!this.nutritionDayModel&&this.nutritionDayModel.totalDayCaloriesMax>this.nutritionDayModel.totalDayCaloriesMin*t}}]),t}();return t.\u0275fac=function(i){return new(i||t)(v.Y36(r.XNV),v.Y36(r.vR3),v.Y36(M.oo),v.Y36(s.YP),v.Y36(g.R),v.Y36(I.qu))},t.\u0275cmp=v.Xpm({type:t,selectors:[["app-nutrition-program-day"]],inputs:{isEditable:"isEditable",nutritionDayModel:"nutritionDayModel",isSummary:"isSummary"},features:[v._Bn([r.XNV,g.R])],decls:1,vars:1,consts:[["class","text-center",4,"ngIf"],[1,"text-center"],[1,"m-0"],["class","text-primary m-0",4,"ngIf"],["class","m-0",3,"ngClass",4,"ngIf"],[1,"text-muted","mb-3"],[1,"text-primary","m-0"],[1,"m-0",3,"ngClass"]],template:function(t,i){1&t&&v.YNc(0,Zi,9,8,"div",0),2&t&&v.Q6J("ngIf",i.nutritionDayModel)},directives:[S.O5,S.mk],pipes:[r.fuE],encapsulation:2}),t}(),Ai=["modal"],xi=["board"],Ci=["multiplay"];function Ni(t,i){}function Mi(t,i){if(1&t&&v._UZ(0,"app-nutrition-program-day",10),2&t){var n=i.extraData,e=v.oxw();v.Q6J("nutritionDayModel",n)("isSummary",e.isSummary)("isEditable",null==e.selected?null:e.selected.editable)}}function wi(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"button",19),v.NdJ("click",function(){v.CHM(n);var t=v.oxw(2);return v.MAs(9).update(t.selected)}),v._UZ(1,"i",20),v._uU(2),v.ALo(3,"abpLocalization"),v.qZA()}2&t&&(v.xp6(2),v.hij(" ",v.lcZ(3,1,"::EditNutritionProgram")," "))}function Ti(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"div",11),v.TgZ(1,"div",12),v.TgZ(2,"h3"),v._uU(3),v.qZA(),v.qZA(),v.TgZ(4,"div",13),v.TgZ(5,"div",14),v.TgZ(6,"div",15),v.TgZ(7,"button",16),v.NdJ("click",function(){v.CHM(n);var t=v.oxw();return t.duplicate(t.selected)}),v._UZ(8,"i",17),v._uU(9),v.ALo(10,"abpLocalization"),v.qZA(),v.YNc(11,wi,4,3,"button",18),v.qZA(),v.qZA(),v.qZA(),v.qZA()}if(2&t){var e=v.oxw();v.xp6(3),v.Oqu(e.langService.isRtl?null==e.selected||null==e.selected.nutritionProgram?null:e.selected.nutritionProgram.nutriitionProgramName:null==e.selected||null==e.selected.nutritionProgram?null:e.selected.nutritionProgram.nutriitionProgramNameEn),v.xp6(6),v.hij(" ",v.lcZ(10,3,"::Duplicate")," "),v.xp6(2),v.Q6J("ngIf",null==e.selected?null:e.selected.editable)}}var Ii=function(){var t=function(){function t(i,e,o,a,r,s,l,u,c,d,p,g,m,f){n(this,t),this.list=i,this.track=e,this.programService=o,this.dayService=a,this.navLoadingService=r,this.confirmation=s,this.dateService=l,this.route=u,this.permissionService=c,this.langService=d,this.router=p,this.toaster=g,this.analyticsService=m,this.fb=f,this.isModalBusy=!1,this.isModalOpen=!1,this.isReadOnly=!1,this.programConstrains=new x.C,this.isSummary=!0,this.randomId=0,this.isShowPastModal=!1}return o(t,[{key:"ngOnInit",value:function(){this.loadProgram(),this.analyticsService.log(C.O.View_Program_planed_nutrition)}},{key:"loadProgram",value:function(){var t=this.route.snapshot.params.id;isNaN(t)?this.router.navigate(["/nutrition-programs"]):(this.programId=Number(t),this.reloadDays(!0))}},{key:"reloadDays",value:function(t){var i=this;this.programService.getWithNavigationProperties(i.programId).subscribe(function(n){i.selected=n,i.programConstrains.numberOfMeals=i.selected.nutritionProgram.numberOfMeals,i.programConstrains.caloriesFrom=i.selected.nutritionProgram.caloriesFrom,i.programConstrains.caloriesTo=i.selected.nutritionProgram.caloriesTo;var e={};e.nutritionProgramId=n.nutritionProgram.id,e.maxResultCount=1e3,i.dayService.getList(e).subscribe(function(n){i.selectedDays=n,i.updateTotals(),t&&i.initialProgram()})})}},{key:"updateTotals",value:function(){}},{key:"initialProgram",value:function(){var t,i,n=this.selectedDays.items.reduce(function(t,i){return i.nutritionProgramDay.dayNumber>t.nutritionProgramDay.dayNumber?i:t},this.selectedDays.items[0]),e=Math.ceil(+this.selected.nutritionProgram.daysCount/7);e<1&&(e=1),n&&(null===(t=n.nutritionProgramDay)||void 0===t?void 0:t.dayNumber)>7&&(e=Math.ceil(+(null===(i=n.nutritionProgramDay)||void 0===i?void 0:i.dayNumber)/7));var o=m.w.TwoWeeks;2==e?o=m.w.TwoWeeks:3==e?o=m.w.ThreeWeeks:e>=4&&(o=m.w.FourWeeks),this.board.setup(e,o,!0,void 0,"planed-nut","0")}},{key:"dataChanged",value:function(t){setTimeout(function(){window.location.reload()},1e3)}},{key:"dayDataChanged",value:function(t){this.reloadDays(!1)}},{key:"weekCreated",value:function(t){var i=this;t.days.forEach(function(t,n){t.InitiateItems();var e=i.selectedDays.items.filter(function(i){return i.nutritionProgramDay.dayNumber==t.dayId});if(e.length>0){var o=e[0].nutritionProgramDay;t.addItem(new f.h(o.id,o.name,t,new A(o)))}})}},{key:"weekDeleted",value:function(t){}},{key:"itemDeleted",value:function(t){var i=this;console.log("itemDeleted"),this.dayService.delete(t.itemId).subscribe(function(n){i.selectedDays.items=i.selectedDays.items.filter(function(i){return i.nutritionProgramDay.id!=t.itemId}),i.updateTotals()})}},{key:"itemViewed",value:function(t){this.modal.display(t.day,t.extraData,this.programConstrains)}},{key:"itemEdited",value:function(t){this.modal.update(t.day,t.extraData,this.programConstrains)}},{key:"itemCreated",value:function(t){this.modal.create(t,this.selected.nutritionProgram.id,this.programConstrains)}},{key:"itemCopiedMoved",value:function(t){var i=this,n=[];console.log(t.data),t.data.forEach(function(t){var e;(e={}).newDayNumber=t.day.dayId,e.oldDayId=t.item.extraData.id,e.oldDayDate=i.dateService.removeUtcDate(t.item.day.startDate).toISOString(),n.push(e)});var e={};e.copy=t.isCopy,e.programId=this.selected.nutritionProgram.id,e.moveData=n,this.pastData=t.data,this.pastDataInput=e,this.isShowPastModal=!0,e.copy&&1===this.pastDataInput.moveData.length?this.multiplay.show(1):(this.pastDataInput.adjustValues=0,this.pastConfimed())}},{key:"onMultiplyConfirm",value:function(t){var i=t-1;i=i<0?0:i,this.pastDataInput.multiplyFactor=i,this.pastConfimed()}},{key:"pastConfimed",value:function(){var t=this,i=this,n=this.pastDataInput;n.programId=i.selected.nutritionProgram.id,i.programService.moveItemByInput(n).subscribe(function(n){t.pastData.forEach(function(t){i.selectedDays.items=i.selectedDays.items.filter(function(i){return i.nutritionProgramDay.id!=t.item.itemId}),i.board.deattachItem(t.item)}),n.items.forEach(function(t){i.selectedDays.items=i.selectedDays.items.filter(function(i){return i.nutritionProgramDay.id!=t.nutritionProgramDay.id}),i.selectedDays.items.push(t);var n=new f.h(t.nutritionProgramDay.id,t.nutritionProgramDay.name,void 0,new A(t.nutritionProgramDay));i.board.attachItem(n,t.nutritionProgramDay.dayNumber)}),i.updateTotals(),i.toaster.success("::Pasted","::ItemsPasteSuccessfully"),i.analyticsService.log(C.O.do_past_Program_planed_nutrition)})}},{key:"isCurrentUserAdmin",get:function(){return this.permissionService.getGrantedPolicy("PhysicAdmin")}},{key:"duplicate",value:function(t){var i=this;this.navLoadingService.setLoader(!0),this.programService.duplicate(t.nutritionProgram.id).subscribe(function(t){i.navLoadingService.setLoader(!1),window.location.href="/nutrition-programs/"+t.id})}}]),t}();return t.\u0275fac=function(i){return new(i||t)(v.Y36(r.XNV),v.Y36(r.vR3),v.Y36(N.l),v.Y36(M.oo),v.Y36(w.a),v.Y36(s.YP),v.Y36(g.R),v.Y36(p.gz),v.Y36(r.$AH),v.Y36(T.C),v.Y36(p.F0),v.Y36(s.MJ),v.Y36(C.y),v.Y36(I.qu))},t.\u0275cmp=v.Xpm({type:t,selectors:[["app-nutrition-program-manage"]],viewQuery:function(t,i){var n;(1&t&&(v.Gf(Ai,5),v.Gf(xi,5),v.Gf(Ci,5)),2&t)&&(v.iGM(n=v.CRH())&&(i.modal=n.first),v.iGM(n=v.CRH())&&(i.board=n.first),v.iGM(n=v.CRH())&&(i.multiplay=n.first))},features:[v._Bn([r.XNV,g.R])],decls:16,vars:9,consts:[[3,"IsEditable","isDayFullHight","itemViewed","weekCreated","weekDeleted","itemDeleted","itemCreated","itemCopiedMoved","itemEdited"],["board",""],["selectionPanelContent",""],["itemContent",""],["navContent",""],[3,"dataChanged"],["info",""],["modal",""],[3,"step","modalTitle","modalLabel","onConfirm"],["multiplay",""],[3,"nutritionDayModel","isSummary","isEditable"],[1,"row"],[1,"col","pt-2"],[1,"col-auto"],[1,"d-flex"],[1,"text-lg-right","pt-2","btn-group"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-copy","mr-1"],["class","btn btn-success btn-sm","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-pen","mr-1"]],template:function(t,i){1&t&&(v.TgZ(0,"app-board-container",0,1),v.NdJ("itemViewed",function(t){return i.itemViewed(t)})("weekCreated",function(t){return i.weekCreated(t)})("weekDeleted",function(t){return i.weekDeleted(t)})("itemDeleted",function(t){return i.itemDeleted(t)})("itemCreated",function(t){return i.itemCreated(t)})("itemCopiedMoved",function(t){return i.itemCopiedMoved(t)})("itemEdited",function(t){return i.itemEdited(t)}),v.YNc(2,Ni,0,0,"ng-template",null,2,v.W1O),v.YNc(4,Mi,1,3,"ng-template",null,3,v.W1O),v.YNc(6,Ti,12,5,"ng-template",null,4,v.W1O),v.qZA(),v.TgZ(8,"app-nutrition-program-info",5,6),v.NdJ("dataChanged",function(t){return i.dataChanged(t)}),v.qZA(),v.TgZ(10,"app-nutrition-program-modal-day",5,7),v.NdJ("dataChanged",function(t){return i.dayDataChanged(t)}),v.qZA(),v.TgZ(12,"past-adjust",8,9),v.NdJ("onConfirm",function(t){return i.onMultiplyConfirm(t)}),v.ALo(14,"abpLocalization"),v.ALo(15,"abpLocalization"),v.qZA()),2&t&&(v.Q6J("IsEditable",null==i.selected?null:i.selected.editable)("isDayFullHight",!1),v.xp6(12),v.s9C("modalTitle",v.lcZ(14,5,"::MultiplyValues")),v.s9C("modalLabel",v.lcZ(15,7,"::Multiply")),v.Q6J("step",1))},directives:[k.U,pt,mi,fi.m,yi,S.O5],pipes:[r.fuE],encapsulation:2}),t}(),ki=a(64569),Di=a(8183),qi=a(17647),Oi=a(55e3);function _i(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"button",42),v.NdJ("click",function(){return v.CHM(n),v.oxw(),v.MAs(80).create()}),v._UZ(1,"i",43),v._uU(2),v.ALo(3,"abpLocalization"),v.qZA()}2&t&&(v.xp6(2),v.hij(" ",v.lcZ(3,1,"::NewNutritionProgram")," "))}var Pi=function(){return{standalone:!0}};function Li(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"div",19),v.TgZ(1,"div",20),v.TgZ(2,"label",44),v._uU(3),v.ALo(4,"abpLocalization"),v.qZA(),v.TgZ(5,"p-autoComplete",45),v.NdJ("ngModelChange",function(t){return v.CHM(n),v.oxw().filters.coachAppUserId=t})("onClear",function(){return v.CHM(n),v.oxw().onClear()})("completeMethod",function(t){return v.CHM(n),v.oxw().startSearchUser(t)})("search",function(t){return v.CHM(n),v.oxw().startSearchUser(t)}),v.ALo(6,"abpLocalization"),v.qZA(),v.qZA(),v.qZA()}if(2&t){var e=v.oxw();v.xp6(3),v.hij(" ",v.lcZ(4,7,"::CoachName")," "),v.xp6(2),v.s9C("placeholder",v.lcZ(6,9,"::CoachName")),v.Q6J("ngModel",e.filters.coachAppUserId)("ngModelOptions",v.DdM(11,Pi))("suggestions",e.AllUsers)("type",e.searchType())("dropdown",!0)}}function Ui(t,i){if(1&t&&(v.TgZ(0,"span",48),v._uU(1),v.qZA()),2&t){var n=i.$implicit;v.xp6(1),v.hij(" ",n," ")}}function Ji(t,i){if(1&t&&(v.TgZ(0,"span",46),v.TgZ(1,"h4"),v._uU(2),v.qZA(),v.YNc(3,Ui,2,1,"span",47),v.qZA()),2&t){var n=i.row,e=v.oxw();v.xp6(2),v.Oqu(e.langService.isRtl?n.nutritionProgram.nutriitionProgramName:n.nutritionProgram.nutriitionProgramNameEn),v.xp6(1),v.Q6J("ngForOf",e.getTags(n.nutritionProgram.tags))}}function Si(t,i){if(1&t&&(v.TgZ(0,"div",49),v._uU(1),v.ALo(2,"abpLocalization"),v.qZA(),v.TgZ(3,"span",46),v._UZ(4,"is-empty",50),v.qZA()),2&t){var n=i.row,e=v.oxw();v.xp6(1),v.Oqu(v.lcZ(2,2,"::Description")),v.xp6(3),v.Q6J("value",e.langService.isRtl?n.nutritionProgram.description:n.nutritionProgram.descriptionEn)}}function Fi(t,i){if(1&t&&(v.TgZ(0,"div",49),v._uU(1),v.ALo(2,"abpLocalization"),v.qZA(),v.TgZ(3,"span",46),v.TgZ(4,"is-empty",50),v._uU(5),v.ALo(6,"abpLocalization"),v.qZA(),v.qZA()),2&t){var n=i.row;v.xp6(1),v.Oqu(v.lcZ(2,3,"::DaysCount")),v.xp6(3),v.Q6J("value",n.nutritionProgram.daysCount),v.xp6(1),v.hij(" ",v.lcZ(6,5,"::ADay")," ")}}function Ei(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"div",56),v.NdJ("click",function(){v.CHM(n);var t=v.oxw().row;return v.oxw(),v.MAs(80).update(t)}),v._UZ(1,"i",57),v.TgZ(2,"div"),v._uU(3),v.ALo(4,"abpLocalization"),v.qZA(),v.qZA()}2&t&&(v.xp6(3),v.hij(" ",v.lcZ(4,1,"AbpUi::Edit")," "))}function Yi(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"div",54),v.NdJ("click",function(){v.CHM(n);var t=v.oxw().row;return v.oxw().activate(t)}),v.ALo(1,"abpLocalization"),v._UZ(2,"i",58),v.TgZ(3,"div"),v._uU(4),v.ALo(5,"abpLocalization"),v.qZA(),v.qZA()}2&t&&(v.Q6J("ngbTooltip",v.lcZ(1,2,"::Activate")),v.xp6(4),v.hij(" ",v.lcZ(5,4,"::StatusGeneralLookup")," "))}function Qi(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"div",54),v.NdJ("click",function(){v.CHM(n);var t=v.oxw().row;return v.oxw().deactivate(t)}),v.ALo(1,"abpLocalization"),v._UZ(2,"i",59),v.TgZ(3,"div"),v._uU(4),v.ALo(5,"abpLocalization"),v.qZA(),v.qZA()}2&t&&(v.Q6J("ngbTooltip",v.lcZ(1,2,"::Deactivate")),v.xp6(4),v.hij(" ",v.lcZ(5,4,"::StatusGeneralLookup")," "))}function zi(t,i){if(1&t){var n=v.EpF();v.TgZ(0,"div",51),v.YNc(1,Ei,5,3,"div",52),v.YNc(2,Yi,6,6,"div",53),v.YNc(3,Qi,6,6,"div",53),v.TgZ(4,"div",54),v.NdJ("click",function(){var t=v.CHM(n).row;return v.oxw().view(t)}),v.ALo(5,"abpLocalization"),v._UZ(6,"i",55),v.TgZ(7,"div"),v._uU(8),v.ALo(9,"abpLocalization"),v.qZA(),v.qZA(),v.qZA()}if(2&t){var e=i.row,o=v.oxw();v.xp6(1),v.Q6J("ngIf",e.editable),v.xp6(1),v.Q6J("ngIf",e.nutritionProgram.statusGeneralLookupId==o.ItemStatus.Deactivated),v.xp6(1),v.Q6J("ngIf",e.nutritionProgram.statusGeneralLookupId==o.ItemStatus.Activated),v.xp6(1),v.Q6J("ngbTooltip",v.lcZ(5,5,"::View")),v.xp6(4),v.hij(" ",v.lcZ(9,7,"::View")," ")}}var ji,Hi,Vi=function(t){return{emptyMessage:t}},$i=[{path:":id",component:Ii,canActivate:[r.a1M,r.nG9]},{path:"",component:(ji=function(){function t(i,e,o,a,r,s,l,u,c){n(this,t),this.list=i,this.track=e,this.service=o,this.confirmation=a,this.dateService=r,this.toast=s,this.langService=l,this.permissionService=u,this.router=c,this.data={items:[],totalCount:0},this.ItemStatus=Di.M,this.filters={publicLibraryFilter:ki.wx.All},this.PublicLibraryFilter=ki.wx,this.isFiltersHidden=!0,this.isShowActive=!0,this.isLoading=!0}return o(t,[{key:"showFilter",get:function(){return this._showFilter},set:function(t){this._showFilter=t,this.isFiltersHidden=!t}},{key:"ngOnInit",value:function(){var t=this;this.getData=function(i){var n,e=Object.assign({},t.filters);return t.isShowActive&&(e.statusGeneralLookupId=15),n=e.coachAppUserId,e.coachAppUserId=n&&n.id?n.id:void 0,t.service.getList(Object.assign(Object.assign({},i),e)).pipe((0,_.x)(function(){return t.isLoading=!1}))},this.setData=function(i){return t.data=i},this.list.hookToQuery(this.getData).subscribe(this.setData)}},{key:"clearFilters",value:function(){this.filters={},this.filters.publicLibraryFilter=ki.wx.All,this.list.get()}},{key:"activate",value:function(t){var i=this;if(t.editable){var n=this;this.confirmation.warn("::ActivatNutritionProgramConfirmationMessage","::AreYouSure",{messageLocalizationParams:[]}).pipe((0,q.h)(function(t){return t===s.Tv.Status.confirm}),(0,O.w)(function(){return i.service.enableExerciseProgramById(t.nutritionProgram.id).subscribe(function(t){i.toast.success("::ActivatedSuccessfully");var e={};e.skipCount=10*i.list.page,n.getData(e).subscribe(function(t){0==t.items.length?n.list.get():n.setData(t)})}),null})).subscribe(function(){})}else this.toast.error("::NutritionProgramBelongsToAnotherCoach")}},{key:"deactivate",value:function(t){var i=this;if(t.editable){var n=this;this.confirmation.warn("::DeactivateNutritionProgramConfirmationMessage","::AreYouSure",{messageLocalizationParams:[]}).pipe((0,q.h)(function(t){return t===s.Tv.Status.confirm}),(0,O.w)(function(){return i.service.disableExerciseProgramById(t.nutritionProgram.id).subscribe(function(t){i.toast.success("::DeactivatedSuccessfully");var e={};e.skipCount=10*i.list.page,n.getData(e).subscribe(function(t){0==t.items.length?n.list.get():n.setData(t)})}),null})).subscribe(function(){})}else this.toast.error("::NutritionProgramBelongsToAnotherCoach")}},{key:"dataChanged",value:function(t){var i=this,n={};n.skipCount=10*this.list.page,i.getData(n).subscribe(function(t){0==t.items.length?i.list.get():i.setData(t)}),t&&!t.isUpdating&&this.router.navigate(["nutrition-programs",t.nutrition.id])}},{key:"view",value:function(t){this.router.navigate(["nutrition-programs",t.nutritionProgram.id])}},{key:"getTags",value:function(t){return(t||"").split(",").filter(function(t){return t&&t.trim().length>0})}},{key:"isCurrentUserAdmin",get:function(){return this.permissionService.getGrantedPolicy("PhysicAdmin")}},{key:"startSearchUser",value:function(t){var i=this,n={};n.filter=t.query,this.service.getAppUserLookup(n).subscribe(function(t){i.AllUsers=t.items})}},{key:"onSelect",value:function(t){}},{key:"onClear",value:function(){this.filters.coachAppUserId=void 0}},{key:"searchType",value:function(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)?"text":"search"}}]),t}(),ji.\u0275fac=function(t){return new(t||ji)(v.Y36(r.XNV),v.Y36(r.vR3),v.Y36(N.l),v.Y36(s.YP),v.Y36(g.R),v.Y36(s.MJ),v.Y36(T.C),v.Y36(r.$AH),v.Y36(p.F0))},ji.\u0275cmp=v.Xpm({type:ji,selectors:[["app-nutrition-program"]],features:[v._Bn([r.XNV,g.R])],decls:81,vars:65,consts:[[1,"row","entry-row","align-items-center"],[1,"col-12","col-sm-auto","content-header-container"],[1,"col-lg-auto","pl-lg-0"],[1,"col-lg"],[1,"text-lg-right","pt-2"],[1,"custom-control","custom-switch"],["type","checkbox","id","customSwitch1",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","customSwitch1",1,"custom-control-label"],[1,"col-auto"],[1,"btn-group"],["type","button","routerLink","/nutritions",1,"btn","btn-secondary","btn-lg"],["aria-hidden","true",1,"fa","fa-utensils","mr-1"],["class","btn btn-success btn-new btn-lg","type","button",3,"click",4,"abpPermission"],["id","advanced-content-filters",3,"ngbCollapse"],[1,"card","mb-4"],[1,"card-body"],[3,"keyup.enter"],["filterForm",""],[1,"row"],[1,"col-12","col-md-6"],[1,"form-group"],["for","filterTextFilter"],["id","filterTextFilter","maxlength","100",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["class","col-12 col-md-6",4,"ngIf"],[1,"col-12"],[1,"col"],[1,"text-lg-right"],[1,"btn-group","mt-4"],[1,"btn","btn-secondary",3,"click"],["id","customstatusSwitch1","type","checkbox",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","customstatusSwitch1",1,"custom-control-label"],[1,"col-md-12","align-self-end","mb-3"],["type","button",1,"btn","btn-outline-primary","btn-block",3,"click"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],["default","",1,"app-dataview",3,"messages","rows","count","list"],["prop","nutritionProgram.nutriitionProgramName",3,"name","width"],["ngx-datatable-cell-template",""],["prop","nutritionProgram.description",3,"name","width"],["prop","nutritionProgram.daysCount",3,"name","width"],[3,"name","maxWidth","width","sortable"],[3,"dataChanged"],["info",""],["type","button",1,"btn","btn-success","btn-new","btn-lg",3,"click"],["aria-hidden","true",1,"fa","fa-plus","mr-1"],[2,"display","block"],["id","coachAppUserId","name","coachAppUserId","dataKey","id","field","displayName","forceSelection","true",1,"",3,"ngModel","ngModelOptions","suggestions","type","dropdown","placeholder","ngModelChange","onClear","completeMethod","search"],[1,"custom-black","custom-600"],["class","badge badge-info m-1",4,"ngFor","ngForOf"],[1,"badge","badge-info","m-1"],[1,"custom-gray","custom-600"],[3,"value"],[1,"action-items"],["class","action-item",3,"click",4,"ngIf"],["class","action-item",3,"ngbTooltip","click",4,"ngIf"],[1,"action-item",3,"ngbTooltip","click"],[1,"fa","fa-eye","custom-green","action-boarder"],[1,"action-item",3,"click"],[1,"fa","fa-pen","custom-green"],[1,"fa","fa-toggle-off","custom-green","action-boarder"],[1,"fa","fa-toggle-on","custom-green","action-boarder","text-success"]],template:function(t,i){1&t&&(v.TgZ(0,"div",0),v.TgZ(1,"div",1),v._UZ(2,"abp-breadcrumb"),v.qZA(),v._UZ(3,"div",2),v.TgZ(4,"div",3),v.TgZ(5,"div",4),v.TgZ(6,"div",5),v.TgZ(7,"input",6),v.NdJ("ngModelChange",function(t){return i.showFilter=t}),v.qZA(),v.TgZ(8,"label",7),v._uU(9),v.ALo(10,"abpLocalization"),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.TgZ(11,"div",8),v.TgZ(12,"div",4),v.TgZ(13,"div",9),v.TgZ(14,"a",10),v._UZ(15,"i",11),v._uU(16),v.ALo(17,"abpLocalization"),v.qZA(),v.YNc(18,_i,4,3,"button",12),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.TgZ(19,"div",13),v.TgZ(20,"div",14),v.TgZ(21,"div",15),v.TgZ(22,"form",16,17),v.NdJ("keyup.enter",function(){return i.list.get()}),v.TgZ(24,"div",18),v.TgZ(25,"div",19),v.TgZ(26,"div",20),v.TgZ(27,"label",21),v._uU(28),v.ALo(29,"abpLocalization"),v.qZA(),v.TgZ(30,"input",22),v.NdJ("ngModelChange",function(t){return i.filters.filterText=t}),v.qZA(),v.qZA(),v.qZA(),v.YNc(31,Li,7,12,"div",23),v.TgZ(32,"div",24),v.TgZ(33,"div",18),v.TgZ(34,"div",25),v.TgZ(35,"div",26),v.TgZ(36,"div",27),v.TgZ(37,"div",28),v.NdJ("click",function(){return i.filters.publicLibraryFilter=i.PublicLibraryFilter.All}),v._uU(38),v.ALo(39,"abpLocalization"),v.qZA(),v.TgZ(40,"div",28),v.NdJ("click",function(){return i.filters.publicLibraryFilter=i.PublicLibraryFilter.PublicOnly}),v._uU(41),v.ALo(42,"abpLocalization"),v.qZA(),v.TgZ(43,"div",28),v.NdJ("click",function(){return i.filters.publicLibraryFilter=i.PublicLibraryFilter.PrivateOnly}),v._uU(44),v.ALo(45,"abpLocalization"),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.TgZ(46,"div",25),v.TgZ(47,"div",26),v.TgZ(48,"div",5),v.TgZ(49,"input",29),v.NdJ("ngModelChange",function(t){return i.isShowActive=t}),v.qZA(),v.TgZ(50,"label",30),v._uU(51),v.ALo(52,"abpLocalization"),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.TgZ(53,"div",31),v.TgZ(54,"div",18),v._UZ(55,"div",25),v.TgZ(56,"div",8),v.TgZ(57,"button",32),v.NdJ("click",function(){return i.clearFilters()}),v.TgZ(58,"span"),v._uU(59),v.ALo(60,"abpLocalization"),v.qZA(),v.qZA(),v.qZA(),v.TgZ(61,"div",8),v.TgZ(62,"button",33),v.NdJ("click",function(){return i.list.get()}),v.TgZ(63,"span"),v._uU(64),v.ALo(65,"abpLocalization"),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.TgZ(66,"ngx-datatable",34),v.TgZ(67,"ngx-datatable-column",35),v.ALo(68,"abpLocalization"),v.YNc(69,Ji,4,2,"ng-template",36),v.qZA(),v.TgZ(70,"ngx-datatable-column",37),v.ALo(71,"abpLocalization"),v.YNc(72,Si,5,4,"ng-template",36),v.qZA(),v.TgZ(73,"ngx-datatable-column",38),v.ALo(74,"abpLocalization"),v.YNc(75,Fi,7,7,"ng-template",36),v.qZA(),v.TgZ(76,"ngx-datatable-column",39),v.ALo(77,"abpLocalization"),v.YNc(78,zi,10,9,"ng-template",36),v.qZA(),v.qZA(),v.TgZ(79,"app-nutrition-program-info",40,41),v.NdJ("dataChanged",function(t){return i.dataChanged(t)}),v.qZA()),2&t&&(v.xp6(7),v.Q6J("ngModel",i.showFilter),v.xp6(2),v.Oqu(v.lcZ(10,36,"::SeeAdvancedFilters")),v.xp6(7),v.hij(" ",v.lcZ(17,38,"::Menu:Nutritions")," "),v.xp6(2),v.Q6J("abpPermission","Physic.NutritionPrograms.Create"),v.xp6(1),v.Q6J("ngbCollapse",i.isFiltersHidden),v.xp6(9),v.hij(" ",v.lcZ(29,40,"::SearchFor")," "),v.xp6(2),v.Q6J("ngModel",i.filters.filterText)("ngModelOptions",v.DdM(62,Pi)),v.xp6(1),v.Q6J("ngIf",i.isCurrentUserAdmin),v.xp6(6),v.ekj("active",i.filters.publicLibraryFilter===i.PublicLibraryFilter.All),v.xp6(1),v.hij(" ",v.lcZ(39,42,"::All")," "),v.xp6(2),v.ekj("active",i.filters.publicLibraryFilter===i.PublicLibraryFilter.PublicOnly),v.xp6(1),v.hij(" ",v.lcZ(42,44,"::PublicOnly")," "),v.xp6(2),v.ekj("active",i.filters.publicLibraryFilter===i.PublicLibraryFilter.PrivateOnly),v.xp6(1),v.hij(" ",v.lcZ(45,46,"::PrivateOnly")," "),v.xp6(5),v.Q6J("ngModel",i.isShowActive),v.xp6(2),v.Oqu(v.lcZ(52,48,"::ViewActiveOnly")),v.xp6(8),v.Oqu(v.lcZ(60,50,"::Clear")),v.xp6(5),v.Oqu(v.lcZ(65,52,"::Search")),v.xp6(2),v.Q6J("messages",v.VKq(63,Vi,i.isLoading?"<div class=loader><div></div></div>":"<div class=data-empty></div>"))("rows",i.data.items)("count",i.data.totalCount)("list",i.list),v.xp6(1),v.s9C("name",v.lcZ(68,54,"::NutriitionProgramName")),v.Q6J("width",200),v.xp6(3),v.s9C("name",v.lcZ(71,56,"::Description")),v.Q6J("width",200),v.xp6(3),v.s9C("name",v.lcZ(74,58,"::DaysCount")),v.Q6J("width",100),v.xp6(3),v.Q6J("name",v.lcZ(77,60,"AbpUi::Actions"))("maxWidth",350)("width",350)("sortable",!1))},directives:[s.LI,I.Wl,I.JJ,I.On,F.m,p.yS,r.l97,l._D,I._Y,I.JL,I.F,I.Fj,I.nD,S.O5,qi.nE,s.x7,s.j3,qi.UC,qi.vq,pt,Zt.Qc,S.sg,Oi.K,l._L],pipes:[r.fuE],encapsulation:2}),ji),canActivate:[r.a1M,r.nG9]}],Gi=function(){var t=function t(){n(this,t)};return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=v.oAB({type:t}),t.\u0275inj=v.cJS({imports:[[p.Bz.forChild($i)],p.Bz]}),t}(),Ri=a(56137),Bi=a(56874),Wi=a(64479),Ki=((Hi=function t(){n(this,t)}).\u0275fac=function(t){return new(t||Hi)},Hi.\u0275mod=v.oAB({type:Hi}),Hi.\u0275inj=v.cJS({imports:[[Gi,r.IR2,s.e2,d.Ck,c.vv,u.h2,l.lQ,l.M,Ri.m,l.XC,Bi.e,Y.vO,Wi.NutritionProgramDayModule]]}),Hi)}}])}();