!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,i)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkPhysic=self.webpackChunkPhysic||[]).push([[49929],{49929:function(t,i,a){"use strict";a.r(i),a.d(i,{DashboardModule:function(){return Ci}});var r=a(99046),s=a(46700),c=a(55679),l=a(10135),u=a(96972),d=a(13250),p=a(73756),g=a(61023),m=a(15451),h=a(68111),f=a(98204),Z=a(56137),v=a(529),b=a(35366),A=a(56410),x=a(83449),y=a(91861),S=function(){var e=function e(t){var i=this;o(this,e),this.restService=t,this.apiName="Default",this.createCoach=function(e){return i.restService.request({method:"POST",url:"/api/app/onboarding-for-coach/create-coach",body:e},{apiName:i.apiName})},this.getCurrentAccountSummaryDto=function(){return i.restService.request({method:"GET",url:"/api/app/onboarding-for-coach/get-current-account-summary"},{apiName:i.apiName})},this.getCurrentCoachSubscription=function(){return i.restService.request({method:"GET",url:"/api/app/onboarding-for-coach/get-current-coach-subscription"},{apiName:i.apiName})},this.getMyPorfile=function(){return i.restService.request({method:"GET",url:"/api/app/onboarding-for-coach/get-my-porfile"},{apiName:i.apiName})},this.getNormalPackageList=function(){return i.restService.request({method:"GET",url:"/api/app/onboarding-for-coach/get-normal-package-list"},{apiName:i.apiName})},this.getPaymentSummaryByInput=function(e){return i.restService.request({method:"GET",url:"/api/app/onboarding-for-coach/get-payment-summary",params:{normalPackageId:e.normalPackageId}},{apiName:i.apiName})},this.setNormalCoachPaymentPaidByInput=function(e){return i.restService.request({method:"POST",url:"/api/app/onboarding-for-coach/set-normal-payment-paid",body:e},{apiName:i.apiName})},this.validateNormalCoachPaymentByInput=function(e){return i.restService.request({method:"POST",url:"/api/app/onboarding-for-coach/validate-normal-coach-payment",body:e},{apiName:i.apiName})},this.validatePromocodeByInput=function(e){return i.restService.request({method:"POST",url:"/api/app/onboarding-for-coach/validate-promocode",body:e},{apiName:i.apiName})}};return e.\u0275fac=function(t){return new(t||e)(b.LFG(s.vgb))},e.\u0275prov=b.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),T=a(2996),q=a(31041),C=a(41690),I=a(43252),L=a(99607),k=a(61116),w=a(52201),U=function(e){return{attachmentId:e,entity:"PackageNormals"}};function N(e,t){if(1&e&&(b._UZ(0,"img",20),b.ALo(1,"async"),b.ALo(2,"imgdownload")),2&e){var i=b.oxw().$implicit;b.Q6J("src",b.lcZ(1,1,b.lcZ(2,3,b.VKq(5,U,i.attachmentId))),b.LSH)}}function _(e,t){if(1&e&&(b.TgZ(0,"div",12),b.TgZ(1,"h4",21),b._uU(2),b.qZA(),b._UZ(3,"hr"),b.qZA()),2&e){var i=b.oxw().$implicit;b.xp6(2),b.Oqu(i.description)}}function O(e,t){if(1&e&&(b.TgZ(0,"div",12),b.TgZ(1,"span",15),b._uU(2),b.ALo(3,"abpLocalization"),b.qZA(),b.TgZ(4,"span",22),b._uU(5),b.qZA(),b._UZ(6,"hr"),b.qZA()),2&e){var i=b.oxw().$implicit;b.xp6(2),b.Oqu(b.lcZ(3,2,"::Trainee")),b.xp6(3),b.Oqu(i.allowedTraineesCount)}}function J(e,t){1&e&&(b.TgZ(0,"div",12),b.TgZ(1,"span",15),b._uU(2),b.ALo(3,"abpLocalization"),b.qZA(),b.TgZ(4,"span",22),b._uU(5),b.ALo(6,"abpLocalization"),b.qZA(),b._UZ(7,"hr"),b.qZA()),2&e&&(b.xp6(2),b.Oqu(b.lcZ(3,2,"::Trainee")),b.xp6(3),b.hij("\xa0",b.lcZ(6,4,"::Unlimited"),""))}function M(e,t){1&e&&(b.TgZ(0,"span",22),b._uU(1),b.ALo(2,"abpLocalization"),b.qZA()),2&e&&(b.xp6(1),b.hij("\xa0",b.lcZ(2,1,"::Yes"),""))}function Y(e,t){1&e&&(b.TgZ(0,"span",22),b._uU(1),b.ALo(2,"abpLocalization"),b.qZA()),2&e&&(b.xp6(1),b.hij("\xa0",b.lcZ(2,1,"::No"),""))}function P(e,t){if(1&e&&(b.TgZ(0,"div",12),b.TgZ(1,"span",15),b._uU(2),b.ALo(3,"abpLocalization"),b.qZA(),b.TgZ(4,"span",23),b._uU(5),b.qZA(),b.TgZ(6,"span",18),b._uU(7),b.ALo(8,"abpLocalization"),b.qZA(),b._UZ(9,"hr"),b.qZA()),2&e){var i=b.oxw(3);b.xp6(2),b.Oqu(b.lcZ(3,3,"::RemainingDuration")),b.xp6(3),b.Oqu(i.lastSubscriptionEndDateRemaining),b.xp6(2),b.Oqu(b.lcZ(8,5,"::ADay"))}}function D(e,t){if(1&e&&(b.TgZ(0,"div",12),b.TgZ(1,"span",24),b._uU(2),b.qZA(),b.TgZ(3,"span",25),b._uU(4),b.ALo(5,"abpLocalization"),b.qZA(),b._UZ(6,"hr"),b.qZA()),2&e){var i=b.oxw().$implicit;b.xp6(2),b.Oqu(i.price),b.xp6(2),b.Oqu(b.lcZ(5,2,"::Ryal"))}}function F(e,t){1&e&&(b.TgZ(0,"div",12),b.TgZ(1,"h4",26),b._uU(2),b.ALo(3,"abpLocalization"),b.qZA(),b.qZA()),2&e&&(b.xp6(2),b.Oqu(b.lcZ(3,1,"::Free")))}function Q(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"div",12),b.TgZ(1,"button",27),b.NdJ("click",function(){b.CHM(i);var e=b.oxw().$implicit;return b.oxw(2).subscribe(e.id)}),b._uU(2),b.ALo(3,"abpLocalization"),b.qZA(),b.qZA()}2&e&&(b.xp6(2),b.Oqu(b.lcZ(3,1,"::ExtendOrChange")))}function z(e,t){if(1&e&&(b.TgZ(0,"div",7),b.TgZ(1,"div",8),b.TgZ(2,"div",9),b.YNc(3,N,3,7,"img",10),b.qZA(),b.TgZ(4,"div",11),b.TgZ(5,"div",5),b.TgZ(6,"div",12),b.TgZ(7,"h3",13),b._uU(8),b.qZA(),b._UZ(9,"hr"),b.qZA(),b.YNc(10,_,4,1,"div",14),b.YNc(11,O,7,4,"div",14),b.YNc(12,J,8,6,"div",14),b.TgZ(13,"div",12),b.TgZ(14,"span",15),b._uU(15),b.ALo(16,"abpLocalization"),b.qZA(),b.YNc(17,M,3,3,"span",16),b.YNc(18,Y,3,3,"span",16),b._UZ(19,"hr"),b.qZA(),b.TgZ(20,"div",12),b.TgZ(21,"span",17),b._uU(22),b.ALo(23,"abpLocalization"),b.qZA(),b.TgZ(24,"span",18),b._uU(25),b.qZA(),b._UZ(26,"hr"),b.qZA(),b.YNc(27,P,10,7,"div",14),b.YNc(28,D,7,4,"div",19),b.YNc(29,F,4,3,"div",14),b.YNc(30,Q,4,3,"div",14),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&e){var i=t.$implicit,n=b.oxw(2);b.xp6(3),b.Q6J("ngIf",i.attachmentId),b.xp6(5),b.Oqu(i.packageName),b.xp6(2),b.Q6J("ngIf",i.description&&i.description.length>0),b.xp6(1),b.Q6J("ngIf",!i.allowedPaidTrainees),b.xp6(1),b.Q6J("ngIf",i.allowedPaidTrainees),b.xp6(3),b.Oqu(b.lcZ(16,14,"::AllowedPaidTrainees")),b.xp6(2),b.Q6J("ngIf",i.allowedPaidTrainees),b.xp6(1),b.Q6J("ngIf",!i.allowedPaidTrainees),b.xp6(4),b.Oqu(b.lcZ(23,16,"::DurationMonthes")),b.xp6(3),b.Oqu(i.durationMonthes),b.xp6(2),b.Q6J("ngIf",n.lastSubscriptionEndDateRemaining>0),b.xp6(1),b.Q6J("ngIf",i.price>0),b.xp6(1),b.Q6J("ngIf",0==i.price),b.xp6(1),b.Q6J("ngIf",!n.disablePayment)}}function j(e,t){if(1&e&&(b.TgZ(0,"div",5),b.YNc(1,z,31,18,"div",6),b.qZA()),2&e){var i=b.oxw();b.xp6(1),b.Q6J("ngForOf",i.items)}}var E=function(){var e=function(){function e(t,i,n,a,r,s,c,l,u,d,p,g,m,h,f){o(this,e),this._router=t,this.authService=i,this.list=n,this.track=a,this.service=r,this.service2=s,this.confirmation=c,this.dateService=l,this.fb=u,this.coachService=d,this.toast=p,this.oAuthService=g,this.environment=m,this._attachmentService=h,this.sessionExtraInfoService=f,this.data={items:[],totalCount:0,lastSubscriptionEndDateRemaining:0,currentTraineesCount:0},this.filters={},this.lastSubscriptionEndDateRemaining=0,this.disablePayment=!1,this.isLoading=!0,f.whoAmI(function(){})}return n(e,[{key:"userId",get:function(){var e,t,i;return null!==(i=null===(t=null===(e=this.sessionExtraInfoService)||void 0===e?void 0:e.userStatus)||void 0===t?void 0:t.userId)&&void 0!==i?i:""}},{key:"ngOnInit",value:function(){this.getList(),this.disablePayment=v.N.disablePayment}},{key:"getList",value:function(){var e=this;this.service2.getCurrentCoachSubscription().subscribe(function(t){e.data=t.data.dataItem,e.items=[t.data.dataItem],e.lastSubscriptionEndDateRemaining=t.data.dataItem.lastSubscriptionEndDateRemaining})}},{key:"subscribe",value:function(e){this._router.navigate(["onboarding/subscription"])}},{key:"login",value:function(){this.authService.initLogin()}},{key:"hasLoggedIn",get:function(){return this.oAuthService.hasValidAccessToken()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.Y36(A.F0),b.Y36(s.e80),b.Y36(s.XNV),b.Y36(s.vR3),b.Y36(x.v),b.Y36(S),b.Y36(c.YP),b.Y36(T.R),b.Y36(q.qu),b.Y36(y.u),b.Y36(c.MJ),b.Y36(C.Ct),b.Y36(s.L$R),b.Y36(I.L),b.Y36(L.G))},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-view-my-subscription-component"]],decls:10,vars:7,consts:[[1,"row","entry-row","align-items-center"],[1,"col-12","col-sm-auto","content-header-container"],[1,"content-header-title","custom-green"],[1,"alert","alert-primary","text-center"],["class","row",4,"ngIf"],[1,"row"],["class","col-md mx-auto",4,"ngFor","ngForOf"],[1,"col-md","mx-auto"],[1,"card","mx-auto","my-0","textstyle"],[1,"card-img-top"],["alt","package","class","img-fluid","onerror","this.src='../../../../../assets/package1.png'",3,"src",4,"ngIf"],[1,"p-3"],[1,"col-md-12"],[1,"m-0","text-orange","text-truncate"],["class","col-md-12",4,"ngIf"],[1,"text-truncate"],["class","font-weight-bolder mr-2",4,"ngIf"],[1,"text-truncate","mr-2"],[1,"font-weight-bolder"],["class","col-md-12 ",4,"ngIf"],["alt","package","onerror","this.src='../../../../../assets/package1.png'",1,"img-fluid",3,"src"],[1,"font-weight-bolder","description","m-0","text-truncate"],[1,"font-weight-bolder","mr-2"],[1,"font-weight-bolder","mx-2"],[1,"text-orange","mr-2"],[1,"text-truncate","text-orange"],[1,"text-orange","text-truncate"],["type","submit",1,"btn","btn-outline-primary",3,"click"]],template:function(e,t){1&e&&(b.TgZ(0,"div",0),b.TgZ(1,"div",1),b.TgZ(2,"h1",2),b._uU(3),b.ALo(4,"abpLocalization"),b.qZA(),b._UZ(5,"abp-breadcrumb"),b.qZA(),b.qZA(),b.TgZ(6,"div",3),b._uU(7),b.ALo(8,"abpLocalization"),b.qZA(),b.YNc(9,j,2,1,"div",4)),2&e&&(b.xp6(3),b.Oqu(b.lcZ(4,3,"::ViewMySubscription")),b.xp6(4),b.hij(" ",b.lcZ(8,5,"::UpgradeInfo"),"\n"),b.xp6(2),b.Q6J("ngIf",t.items))},directives:[c.LI,k.O5,k.sg],pipes:[s.fuE,k.Ov,w.H],styles:[".textstyle[_ngcontent-%COMP%]{text-align:center}.text-orange[_ngcontent-%COMP%]{color:#fdb915!important;font-weight:700!important;font-size:15px}.text-truncate[_ngcontent-%COMP%]{font-weight:100;color:#000}.card[_ngcontent-%COMP%]{background-color:#fff!important}.font-weight-bolder[_ngcontent-%COMP%]{color:#000!important;font-weight:700!important;font-size:15px}.description[_ngcontent-%COMP%]{white-space:break-spaces;font-size:12px}.text-warning[_ngcontent-%COMP%]{font-size:28px;margin:23px;display:inline-block}.border-secondary[_ngcontent-%COMP%]{border-color:#8191a64f!important}.card-img-top[_ngcontent-%COMP%]{background:#000}hr[_ngcontent-%COMP%]{border-top:1px solid #e2e2e2;margin:.8rem 0}hr.hidden[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]{max-width:320px}"]}),e}(),G=a(45908),H=a(11520),R=a(16185),V=a(30212),W=a(29609),K=a(44879),$=a(73545),B=a(89366),X=a(42373),ee=a(23733),te=a(3183),ie=a(22077),ne=a(1254),oe=a(28451),ae=a(40739),re=a(1663);function se(e,t){if(1&e&&b._UZ(0,"img",44),2&e){var i=b.oxw();b.Q6J("src",i.image,b.LSH)}}function ce(e,t){1&e&&(b.TgZ(0,"span"),b._uU(1," *"),b.qZA())}function le(e,t){if(1&e&&b._UZ(0,"sw-lookup-select",45),2&e){var i=b.oxw();b.Q6J("disabled",i.isReadOnly)("getFn",i.lookupService.getTargetGenderLookup)}}function ue(e,t){if(1&e&&b._UZ(0,"sw-lookup-select",45),2&e){var i=b.oxw();b.Q6J("disabled",i.isReadOnly)("getFn",i.lookupService.getTargetGenderLookupValues)}}function de(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"div",48),b.TgZ(1,"span"),b.TgZ(2,"span",49),b._uU(3),b.qZA(),b.TgZ(4,"span",50),b._uU(5),b.qZA(),b.TgZ(6,"span",51),b.NdJ("click",function(e){var t=b.CHM(i).$implicit;return b.oxw(2).removeItem(e,t)}),b.qZA(),b.qZA(),b.qZA()}if(2&e){var n=t.$implicit;b.xp6(3),b.Oqu(n.nameAr),b.xp6(2),b.Oqu(n.nameEn)}}function pe(e,t){1&e&&(b.TgZ(0,"span",52),b._uU(1),b.ALo(2,"abpLocalization"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"::coachCategories")," "))}function ge(e,t){if(1&e&&(b.YNc(0,de,7,2,"div",46),b.YNc(1,pe,3,3,"span",47)),2&e){var i=t.$implicit;b.Q6J("ngForOf",i),b.xp6(1),b.Q6J("ngIf",!i||0===i.length)}}function me(e,t){1&e&&(b.TgZ(0,"span",53),b._uU(1),b.ALo(2,"abpLocalization"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"::ImageRequiredSize"),""))}function he(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"div",36),b.TgZ(1,"div",9),b.TgZ(2,"label",54),b._uU(3),b.ALo(4,"abpLocalization"),b.qZA(),b.TgZ(5,"div",55),b._UZ(6,"input",56),b.TgZ(7,"div",57),b.TgZ(8,"span",58),b.TgZ(9,"i",59),b.NdJ("click",function(){return b.CHM(i),b.oxw().copy()}),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()}2&e&&(b.xp6(3),b.Oqu(b.lcZ(4,2,"::GeneralInvitationUrl")),b.xp6(3),b.Q6J("readOnly",!0))}function fe(e,t){1&e&&(b.TgZ(0,"button",60),b._uU(1),b.ALo(2,"abpLocalization"),b.qZA()),2&e&&(b.xp6(1),b.Oqu(b.lcZ(2,1,"AbpUi::Save")))}var Ze=function(){var e=function(){function e(t,i,n,a,r,s,c,l,u,d,p,g,m,h){o(this,e),this.track=t,this.service=i,this.lookupService=n,this.dateService=a,this.langService=r,this.fb=s,this.clipboardService=c,this.toaster=l,this._router=u,this.environment=d,this.mobileHelperService=p,this._attachmentService=g,this.packageNormalService=m,this.sessionExtraInfoService=h,this.isModalBusy=!1,this.isReadOnly=!1,this.image="",this.GeneralLookupTypes=R.q,this.CoachChanged=new b.vpe,this.isMobile=!1}return n(e,[{key:"countryId",get:function(){return this.form.get("countryId")}},{key:"removeItem",value:function(e,t){return e.preventDefault(),e.stopPropagation(),!1}},{key:"isVipCoach",get:function(){return!!this.userStatus&&this.userStatus.coachType===G.Tz.Vip}},{key:"isMySubscriptionCanInviteTrainee",get:function(){return!!this.currentSubscription&&this.currentSubscription.allowedPaidTrainees}},{key:"loadCurrentSubscription",value:function(){var e=this;this.packageNormalService.getList({isGetCurrentMode:!0}).subscribe(function(t){t.items.length>0&&(e.currentSubscription=t.items[0])})}},{key:"ngOnInit",value:function(){var e=this,t=this;t.sessionExtraInfoService.whoAmI(function(e){t.userStatus=e,e.coachType===G.Tz.Normal&&e.userType===G.bZ.Coach&&t.loadCurrentSubscription()}),this.isMobile=this.mobileHelperService.GetMobile(),this.service.getCoachCategoryLookup({}).subscribe(function(e){t.linksList=e.items}),this.buildForm(),this.service.getMyPorfile().subscribe(function(t){e.form.get("name").setValue(t.name),e.form.get("bio").setValue(t.bio),e.form.get("email").setValue(t.email),e.form.get("phoneNumber").setValue(t.phoneNumber),e.form.get("generalInvitationUrl").setValue(t.generalInvitationUrl),e.form.get("coachCategories").setValue(t.coachCategories),e.form.get("galleryAttachmentId").setValue(t.galleryAttachmentId),e.form.get("photosAttachmentId").setValue(t.photosAttachmentId),e.form.get("portofolioAttachmentId").setValue(t.portofolioAttachmentId),e.form.get("cityId").setValue(t.cityId),e.form.get("countryId").setValue(t.countryId),e.form.get("targetGenderGeneralLookupId").setValue(t.targetGenderGeneralLookupId),e.form.get("genderGeneralLookupId").setValue(t.genderGeneralLookupId),e.form.get("genderGeneralLookupId").setValue(t.genderGeneralLookupId),t.photosAttachmentId&&e._attachmentService.getImageLink(t.photosAttachmentId,"coachphoto").then(function(t){e.image=t}),e.form.get("birthdate").setValue(W(t.birthdate))})}},{key:"buildForm",value:function(){this.form=this.fb.group({name:[null,[q.kI.required,q.kI.minLength(2),q.kI.maxLength(60),V.d.InvalidCharacterValidator()]],bio:[null,[q.kI.minLength(2),q.kI.maxLength(250),V.d.InvalidCharacterValidator()]],email:[null,[q.kI.maxLength(70)]],phoneNumber:[null,[q.kI.maxLength(15)]],generalInvitationUrl:[null,[]],birthdate:[new Date,[]],galleryAttachmentId:[null,[]],photosAttachmentId:[null,[]],portofolioAttachmentId:[null,[]],cityId:[null,[q.kI.required]],countryId:[null,[q.kI.required]],targetGenderGeneralLookupId:[null,[q.kI.required]],genderGeneralLookupId:[null,[]],galleryAttachmentFiles:[void 0],portofolioAttachmentFiles:[void 0],photosAttachmentIdFiles:[void 0],coachCategories:[void 0,[]]})}},{key:"submitForm",value:function(){var e=this;if(!this.form.invalid){""===this.form.controls.countryId.value&&this.form.controls.countryId.setValue(null),""===this.form.controls.cityId.value&&this.form.controls.cityId.setValue(null);var t=this.service.updateMyPorfile(this.form.value);this.isModalBusy=!0,t.pipe((0,H.x)(function(){e.isModalBusy=!1})).subscribe(function(t){e._router.navigate(["/dashboard"])})}}},{key:"attachmentUpdated",value:function(e){try{this.form.get("galleryAttachmentFiles").setValue(e.files.toString())}catch(t){}}},{key:"attachmentPortofolioUpdated",value:function(e){try{this.form.get("portofolioAttachmentFiles").setValue(e.files.toString())}catch(t){}}},{key:"attachmentImageUpdated",value:function(e){try{this.form.get("photosAttachmentIdFiles").setValue(e.files.toString())}catch(t){}}},{key:"copy",value:function(){this.clipboardService.copy(this.form.get("generalInvitationUrl").value),this.toaster.success("::CopyLinkDone")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.Y36(s.vR3),b.Y36(y.u),b.Y36(K.W),b.Y36(T.R),b.Y36($.C),b.Y36(q.qu),b.Y36(B.Yv),b.Y36(c.MJ),b.Y36(A.F0),b.Y36(s.L$R),b.Y36(X.k4),b.Y36(I.L),b.Y36(x.v),b.Y36(L.G))},e.\u0275cmp=b.Xpm({type:e,selectors:[["edit-coach-profile"]],inputs:{isVip:"isVip"},outputs:{CoachChanged:"CoachChanged"},decls:102,vars:77,consts:[[1,"row"],[1,"col-xl-8","col-lg-10","mx-auto"],[1,"page-con","shadow","rounded","px-4","py-3","my-5"],[1,"mb-5","text-center"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"col-md-3","col-6","mx-auto"],["class","img-fluid rounded","onerror","this.src='../../../../../assets/avatar.jpg';",3,"src",4,"ngIf"],[1,"w-100","my-3"],[1,"col-md-3"],[1,"form-group"],["for","coach-name"],["autofocus","","formControlName","name","id","coach-name","maxlength","60",1,"form-control"],["for","coach-phoneNumber"],["formControlName","phoneNumber","id","coach-phoneNumber",1,"form-control",3,"readOnly"],["for","coach-email"],["formControlName","email","id","coach-email","maxlength","256",1,"form-control",3,"readOnly"],["for","city-city-id"],["formControlName","countryId",3,"disabled","getFn"],["formControlName","cityId",3,"country","disabled","lookupNameProp"],["for","general-lookup-target-gender-general-lookup-id"],[4,"ngIf"],["formControlName","targetGenderGeneralLookupId",3,"disabled","getFn",4,"ngIf"],["name","storeCategoryLinks","id","storeCategoryLinks","itemSize","30","formControlName","coachCategories","optionLabel","nameAr","dataKey","id",1,"sw-tags","form-control",3,"options","virtualScroll","showHeader","showTransitionOptions","hideTransitionOptions","maxSelectedLabels"],["selectedActivity",""],["pTemplate","selectedItems"],["for","coach-birthdate"],["formControlName","birthdate","id","coach-birthdate","name","coach-birthdate",3,"isEnabled","StartYear"],["for","general-lookup-gender-general-lookup-id"],["formControlName","genderGeneralLookupId",3,"disabled","getFn"],[1,"col-md-6"],["for","coach-photos-attachment-id"],["class","optional-input badge badge-info",4,"ngIf"],[1,"attachment-con"],["Entity","coachphoto","acceptTypes",".png,.jpg,.jpeg","formControlName","photosAttachmentId","id","coachphoto-image-attachment-id","name","photosAttachmentId",3,"isThumbnail","maxFilesCount","readonly","attachmentUpdated"],["for","coach-portofolio-attachment-id"],["Entity","coachportofoliophoto","acceptTypes",".png,.jpg,.jpeg","formControlName","portofolioAttachmentId","id","coachportofoliophoto-image-attachment-id","name","portofolioAttachmentId",3,"isThumbnail","maxFilesCount","readonly","attachmentUpdated"],[1,"col-md-12"],["for","coach-gallery-attachment-id"],["Entity","coachphotogallery","acceptTypes",".png,.jpg,.jpeg","formControlName","galleryAttachmentId","id","coachphotogallery-image-attachment-id","name","galleryAttachmentId",3,"isThumbnail","maxFilesCount","readonly","attachmentUpdated"],["class","col-md-12",4,"ngIf"],["for","coach-bio"],["aria-multiline","true","formControlName","bio","id","coach-bio","maxlength","1000","multiple","true",1,"form-control",3,"readOnly"],[1,"col-sm-12","modal-footer"],["class"," btn btn-success btn-save","type","submit",4,"ngIf"],["onerror","this.src='../../../../../assets/avatar.jpg';",1,"img-fluid","rounded",3,"src"],["formControlName","targetGenderGeneralLookupId",3,"disabled","getFn"],["class","ui-multiselected-item-token ui-corner-all sw-tag",4,"ngFor","ngForOf"],["class","ui-multiselected-empty-token ui-corner-all sw-tag",4,"ngIf"],[1,"ui-multiselected-item-token","ui-corner-all","sw-tag"],[1,"view-rtl"],[1,"view-ltr"],[1,"remove-item",3,"click"],[1,"ui-multiselected-empty-token","ui-corner-all","sw-tag"],[1,"optional-input","badge","badge-info"],["for","coach-generalInvitationUrl"],[1,"input-group"],["formControlName","generalInvitationUrl","id","coach-generalInvitationUrl",1,"form-control",3,"readOnly"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text","bg-brand","border"],[1,"fa","fa-copy","text-white",3,"click"],["type","submit",1,"btn","btn-success","btn-save"]],template:function(e,t){1&e&&(b.TgZ(0,"div",0),b.TgZ(1,"div",1),b.TgZ(2,"div",2),b.TgZ(3,"div",3),b.TgZ(4,"h3"),b._uU(5),b.ALo(6,"abpLocalization"),b.qZA(),b.qZA(),b.TgZ(7,"form",4),b.NdJ("ngSubmit",function(){return t.submitForm()}),b.TgZ(8,"div",0),b.TgZ(9,"div",5),b.YNc(10,se,1,1,"img",6),b.qZA(),b._UZ(11,"div",7),b.TgZ(12,"div",8),b.TgZ(13,"div",9),b.TgZ(14,"label",10),b._uU(15),b.ALo(16,"abpLocalization"),b.qZA(),b._UZ(17,"input",11),b.qZA(),b.qZA(),b.TgZ(18,"div",8),b.TgZ(19,"div",9),b.TgZ(20,"label",12),b._uU(21),b.ALo(22,"abpLocalization"),b.qZA(),b._UZ(23,"input",13),b.qZA(),b.qZA(),b.TgZ(24,"div",8),b.TgZ(25,"div",9),b.TgZ(26,"label",14),b._uU(27),b.ALo(28,"abpLocalization"),b.qZA(),b._UZ(29,"input",15),b.qZA(),b.qZA(),b.TgZ(30,"div",8),b.TgZ(31,"div",9),b.TgZ(32,"label",16),b._uU(33),b.ALo(34,"abpLocalization"),b.qZA(),b._UZ(35,"sw-lookup-select",17),b.qZA(),b.qZA(),b.TgZ(36,"div",8),b.TgZ(37,"div",9),b.TgZ(38,"label",16),b._uU(39),b.ALo(40,"abpLocalization"),b.qZA(),b._UZ(41,"abp-city-lookup-select",18),b.qZA(),b.qZA(),b.TgZ(42,"div",8),b.TgZ(43,"div",9),b.TgZ(44,"label",19),b._uU(45),b.ALo(46,"abpLocalization"),b.YNc(47,ce,2,0,"span",20),b.qZA(),b.YNc(48,le,1,2,"sw-lookup-select",21),b.YNc(49,ue,1,2,"sw-lookup-select",21),b.qZA(),b.qZA(),b.TgZ(50,"div",8),b.TgZ(51,"div",9),b.TgZ(52,"div"),b.TgZ(53,"label",14),b._uU(54),b.ALo(55,"abpLocalization"),b.qZA(),b.TgZ(56,"p-multiSelect",22,23),b.YNc(58,ge,2,2,"ng-template",24),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(59,"div",8),b.TgZ(60,"div",9),b.TgZ(61,"label",25),b._uU(62),b.ALo(63,"abpLocalization"),b.qZA(),b._UZ(64,"sw-date-picker",26),b.qZA(),b.qZA(),b.TgZ(65,"div",8),b.TgZ(66,"div",9),b.TgZ(67,"label",27),b._uU(68),b.ALo(69,"abpLocalization"),b.qZA(),b._UZ(70,"sw-lookup-select",28),b.qZA(),b.qZA(),b.TgZ(71,"div",29),b.TgZ(72,"div",9),b.TgZ(73,"label",30),b._uU(74),b.ALo(75,"abpLocalization"),b.qZA(),b.YNc(76,me,3,3,"span",31),b.TgZ(77,"div",32),b.TgZ(78,"sw-attachment",33),b.NdJ("attachmentUpdated",function(e){return t.attachmentImageUpdated(e)}),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(79,"div",29),b.TgZ(80,"div",9),b.TgZ(81,"label",34),b._uU(82),b.ALo(83,"abpLocalization"),b.qZA(),b.TgZ(84,"div",32),b.TgZ(85,"sw-attachment",35),b.NdJ("attachmentUpdated",function(e){return t.attachmentPortofolioUpdated(e)}),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(86,"div",36),b.TgZ(87,"div",9),b.TgZ(88,"label",37),b._uU(89),b.ALo(90,"abpLocalization"),b.qZA(),b.TgZ(91,"div",32),b.TgZ(92,"sw-attachment",38),b.NdJ("attachmentUpdated",function(e){return t.attachmentUpdated(e)}),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.YNc(93,he,10,4,"div",39),b.TgZ(94,"div",36),b.TgZ(95,"div",9),b.TgZ(96,"label",40),b._uU(97),b.ALo(98,"abpLocalization"),b.qZA(),b._UZ(99,"textarea",41),b.qZA(),b.qZA(),b.TgZ(100,"div",42),b.YNc(101,fe,3,3,"button",43),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&e&&(b.xp6(5),b.Oqu(b.lcZ(6,49,"::MyProfile")),b.xp6(2),b.Q6J("formGroup",t.form),b.xp6(3),b.Q6J("ngIf",t.image),b.xp6(5),b.Oqu(b.lcZ(16,51,"::CoachName")),b.xp6(6),b.Oqu(b.lcZ(22,53,"::PhoneNumber")),b.xp6(2),b.Q6J("readOnly",!0),b.xp6(4),b.Oqu(b.lcZ(28,55,"::Email")),b.xp6(2),b.Q6J("readOnly",!0),b.xp6(4),b.Oqu(b.lcZ(34,57,"::Country")),b.xp6(2),b.Q6J("disabled",t.isReadOnly)("getFn",t.service.getCountryLookup),b.xp6(4),b.Oqu(b.lcZ(40,59,"::City")),b.xp6(2),b.Q6J("country",t.countryId.value)("disabled",t.isReadOnly)("lookupNameProp",t.langService.getLookupNameProp()),b.xp6(4),b.hij("",b.lcZ(46,61,"::TargetGenderGeneralLookup")," "),b.xp6(2),b.Q6J("ngIf",!t.isReadOnly),b.xp6(1),b.Q6J("ngIf",t.langService.isRtl),b.xp6(1),b.Q6J("ngIf",!t.langService.isRtl),b.xp6(5),b.hij(" ",b.lcZ(55,63,"::coachCategories")," "),b.xp6(2),b.Q6J("options",t.linksList)("virtualScroll",!0)("showHeader",!t.isMobile)("showTransitionOptions","0ms")("hideTransitionOptions","0ms")("maxSelectedLabels",4),b.xp6(6),b.Oqu(b.lcZ(63,65,"::Birthdate")),b.xp6(2),b.Q6J("isEnabled",!t.isReadOnly)("StartYear",42),b.xp6(4),b.Oqu(b.lcZ(69,67,"::GenderGeneralLookup")),b.xp6(2),b.Q6J("disabled",t.isReadOnly)("getFn",t.lookupService.getGenderTypeLookup),b.xp6(4),b.Oqu(b.lcZ(75,69,"::PhotosAttachmentId")),b.xp6(2),b.Q6J("ngIf",!t.isReadOnly),b.xp6(2),b.Q6J("isThumbnail",!0)("maxFilesCount",1)("readonly",t.isReadOnly),b.xp6(4),b.Oqu(b.lcZ(83,71,"::PortofolioAttachmentId")),b.xp6(3),b.Q6J("isThumbnail",!0)("maxFilesCount",30)("readonly",t.isReadOnly),b.xp6(4),b.Oqu(b.lcZ(90,73,"::GalleryAttachmentId")),b.xp6(3),b.Q6J("isThumbnail",!0)("maxFilesCount",30)("readonly",t.isReadOnly),b.xp6(1),b.Q6J("ngIf",t.isVipCoach||t.isMySubscriptionCanInviteTrainee),b.xp6(4),b.Oqu(b.lcZ(98,75,"::Bio")),b.xp6(2),b.Q6J("readOnly",t.isReadOnly),b.xp6(2),b.Q6J("ngIf",!t.isReadOnly))},directives:[q._Y,q.JL,s.YzZ,q.sg,r.hL,k.O5,q.Fj,s.Uqp,q.JJ,q.u,r.J5,ee.m,q.nD,te.X,ie.b,ne.NU,oe.jx,ae.L,re.Y,k.sg],pipes:[s.fuE],styles:[".page-con[_ngcontent-%COMP%]{background:#fff}textarea[_ngcontent-%COMP%]{height:130px!important;padding:5px 10px;border-radius:6px;resize:none}  .attachment-con .input-group{align-items:flex-end!important}"]}),e}(),ve=a(67067);function be(e,t){if(1&e&&b._UZ(0,"img",31),2&e){var i=b.oxw();b.Q6J("src",i.image,b.LSH)}}function Ae(e,t){1&e&&(b.TgZ(0,"span"),b._uU(1," *"),b.qZA())}function xe(e,t){1&e&&(b.TgZ(0,"span"),b._uU(1," *"),b.qZA())}function ye(e,t){1&e&&(b.TgZ(0,"span",32),b._uU(1),b.ALo(2,"abpLocalization"),b.qZA()),2&e&&(b.xp6(1),b.Oqu(b.lcZ(2,1,"::Optional")))}function Se(e,t){1&e&&(b.TgZ(0,"span"),b._uU(1," *"),b.qZA())}function Te(e,t){1&e&&(b.TgZ(0,"span"),b._uU(1," *"),b.qZA())}function qe(e,t){1&e&&(b.TgZ(0,"button",33),b._uU(1),b.ALo(2,"abpLocalization"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"AbpUi::Save")," "))}var Ce=function(){var e=function(){function e(t,i,n,a,r,s,c,l){o(this,e),this.track=t,this.service=i,this.lookupService=n,this.fb=a,this.langService=r,this.environment=s,this._attachmentService=c,this._router=l,this.isModalBusy=!1,this.isReadOnly=!1,this.isModalOpen=!1,this.image="",this.CoordinatorChanged=new b.vpe,this.SelectedCoachId=0}return n(e,[{key:"ngOnInit",value:function(){var e=this,t=this;this.buildForm(),this.service.getMyProfile().subscribe(function(i){e.form.get("name").setValue(i.name),e.form.get("bio").setValue(i.bio),e.form.get("email").setValue(i.email),e.form.get("phoneNumber").setValue(i.phoneNumber),e.form.get("genderGeneralLookupId").setValue(i.genderGeneralLookupId),e.form.get("photoAttachmentId").setValue(i.photoAttachmentId),e.form.get("portofolioAttachmentId").setValue(i.portofolioAttachmentId),e.form.get("cityId").setValue(i.cityId),i.photoAttachmentId&&e._attachmentService.getImageLink(i.photoAttachmentId,"coordinatorsphoto").then(function(e){t.image=e})})}},{key:"countryId",get:function(){return this.form.get("countryId")}},{key:"buildForm",value:function(){var e,t,i=(null===(e=this.selected)||void 0===e?void 0:e.coordinator)||{},n=i.photoAttachmentId,o=i.portofolioAttachmentId,a=i.bio,r=i.cityId,s=i.countryId,c=i.genderGeneralLookupId,l=i.coachAppUserId,u=(null===(t=this.selected)||void 0===t?void 0:t.appUser)||{},d=u.name,p=u.phoneNumber,g=u.email;this.form=this.fb.group({name:[null!=d?d:null,[q.kI.required,q.kI.minLength(2),q.kI.maxLength(256),V.d.InvalidCharacterValidator()]],email:[null!=g?g:null],phoneNumber:[null!=p?p:null],bio:[null!=a?a:null,[q.kI.required,q.kI.minLength(2),q.kI.maxLength(1e3),V.d.InvalidCharacterValidator()]],photoAttachmentId:[null!=n?n:null,[q.kI.required]],portofolioAttachmentId:[null!=o?o:null,[]],cityId:[null!=r?r:null,[q.kI.required]],countryId:[null!=s?s:null,[q.kI.required]],genderGeneralLookupId:[null!=c?c:null,[q.kI.required]],coachAppUserId:[null!=l?l:null,[]],portofolioAttachmentFiles:[void 0],photoAttachmentFiles:[void 0]})}},{key:"submitForm",value:function(){var e=this;if(!this.form.invalid){var t=this.service.updateMyProfile(this.form.value);this.isModalBusy=!0,t.pipe((0,H.x)(function(){e.isModalBusy=!1,e.CoordinatorChanged.next()})).subscribe(function(t){e._router.navigate(["/dashboard"])})}}},{key:"attachmentUpdated",value:function(e){try{this.form.get("photoAttachmentFiles").setValue(e.files.toString())}catch(t){}}},{key:"attachmentPortofolioUpdated",value:function(e){try{this.form.get("portofolioAttachmentFiles").setValue(e.files.toString())}catch(t){}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.Y36(s.vR3),b.Y36(ve.q),b.Y36(K.W),b.Y36(q.qu),b.Y36($.C),b.Y36(s.L$R),b.Y36(I.L),b.Y36(A.F0))},e.\u0275cmp=b.Xpm({type:e,selectors:[["edit-coordinator-profile"]],outputs:{CoordinatorChanged:"CoordinatorChanged"},decls:66,vars:55,consts:[[1,"row"],[1,"col-xl-8","col-lg-10","mx-auto"],[1,"page-con","shadow","rounded","px-4","py-3","my-5"],[1,"row","entry-row","align-items-center"],[1,"col-lg-auto","pl-lg-0"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"form-group","col-md-12"],[1,"status-icon"],["class","s-icon-lg","onerror","this.src='../../../../../assets/avatar.jpg';",3,"src",4,"ngIf"],[1,"form-group","col-md-4"],["for","coordinator-name"],["id","coordinator-name","formControlName","name","maxlength","256","autofocus","",1,"form-control"],["for","coordinator-phoneNumber"],[4,"ngIf"],["id","coordinator-phoneNumber","formControlName","phoneNumber",1,"form-control",3,"readOnly"],["for","coordinator-email"],["id","coordinator-email","formControlName","email","maxlength","256",1,"form-control",3,"readOnly"],[1,"mt-2","fade-in-top","row"],["for","coach-portofolio-attachment-id"],["class","optional-input badge badge-info",4,"ngIf"],["id","coordinatorportofolio-image-attachment-id","formControlName","portofolioAttachmentId","acceptTypes",".png,.jpg,.jpeg","Entity","coordinatorportofolio","name","portofolioAttachmentId",3,"isThumbnail","maxFilesCount","readonly","attachmentUpdated"],["id","photoAttachmentId-image-attachment-id","formControlName","photoAttachmentId","acceptTypes",".png,.jpg,.jpeg","Entity","coordinatorsphoto","name","photoAttachmentId",3,"isThumbnail","maxFilesCount","readonly","attachmentUpdated"],["for","city-city-id"],["formControlName","countryId",3,"getFn","lookupNameProp","disabled"],["formControlName","cityId",3,"country","disabled","lookupNameProp"],["for","general-lookup-gender-general-lookup-id"],["formControlName","genderGeneralLookupId",3,"getFn","disabled"],["for","coordinator-bio"],["id","coordinator-bio","formControlName","bio","maxlength","1000","aria-multiline","true","multiple","true",1,"form-control",3,"readOnly"],[1,"col-sm-12","modal-footer"],["type","submit","class","btn btn-success btn-save",4,"ngIf"],["onerror","this.src='../../../../../assets/avatar.jpg';",1,"s-icon-lg",3,"src"],[1,"optional-input","badge","badge-info"],["type","submit",1,"btn","btn-success","btn-save"]],template:function(e,t){1&e&&(b.TgZ(0,"div",0),b.TgZ(1,"div",1),b.TgZ(2,"div",2),b.TgZ(3,"div",3),b._UZ(4,"div",4),b.qZA(),b.TgZ(5,"h3"),b._uU(6),b.ALo(7,"abpLocalization"),b.qZA(),b.TgZ(8,"form",5),b.NdJ("ngSubmit",function(){return t.submitForm()}),b.TgZ(9,"div",0),b.TgZ(10,"div",6),b.TgZ(11,"div",7),b.YNc(12,be,1,1,"img",8),b.qZA(),b.qZA(),b.TgZ(13,"div",9),b.TgZ(14,"label",10),b._uU(15),b.ALo(16,"abpLocalization"),b.qZA(),b._UZ(17,"input",11),b.qZA(),b.TgZ(18,"div",9),b.TgZ(19,"label",12),b._uU(20),b.ALo(21,"abpLocalization"),b.YNc(22,Ae,2,0,"span",13),b.qZA(),b._UZ(23,"input",14),b.qZA(),b.TgZ(24,"div",9),b.TgZ(25,"label",15),b._uU(26),b.ALo(27,"abpLocalization"),b.YNc(28,xe,2,0,"span",13),b.qZA(),b._UZ(29,"input",16),b.qZA(),b.qZA(),b.TgZ(30,"div",17),b.TgZ(31,"div",9),b.TgZ(32,"label",18),b._uU(33),b.ALo(34,"abpLocalization"),b.qZA(),b.YNc(35,ye,3,3,"span",19),b.TgZ(36,"sw-attachment",20),b.NdJ("attachmentUpdated",function(e){return t.attachmentPortofolioUpdated(e)}),b.qZA(),b.qZA(),b.TgZ(37,"div",9),b.TgZ(38,"label",18),b._uU(39),b.ALo(40,"abpLocalization"),b.qZA(),b.TgZ(41,"sw-attachment",21),b.NdJ("attachmentUpdated",function(e){return t.attachmentUpdated(e)}),b.qZA(),b.qZA(),b.TgZ(42,"div",9),b.TgZ(43,"label",22),b._uU(44),b.ALo(45,"abpLocalization"),b.qZA(),b._UZ(46,"sw-lookup-select",23),b.qZA(),b.TgZ(47,"div",9),b.TgZ(48,"label",22),b._uU(49),b.ALo(50,"abpLocalization"),b.YNc(51,Se,2,0,"span",13),b.qZA(),b._UZ(52,"abp-city-lookup-select",24),b.qZA(),b.TgZ(53,"div",9),b.TgZ(54,"label",25),b._uU(55),b.ALo(56,"abpLocalization"),b.YNc(57,Te,2,0,"span",13),b.qZA(),b._UZ(58,"sw-lookup-select",26),b.qZA(),b.TgZ(59,"div",6),b.TgZ(60,"label",27),b._uU(61),b.ALo(62,"abpLocalization"),b.qZA(),b._UZ(63,"textarea",28),b.qZA(),b.qZA(),b.TgZ(64,"div",29),b.YNc(65,qe,3,3,"button",30),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&e&&(b.xp6(6),b.hij(" ",b.lcZ(7,35,"::MyProfile")," "),b.xp6(2),b.Q6J("formGroup",t.form),b.xp6(4),b.Q6J("ngIf",t.image),b.xp6(3),b.hij(" ",b.lcZ(16,37,"::CoordinatorName")," "),b.xp6(5),b.hij(" ",b.lcZ(21,39,"::PhoneNumber")," "),b.xp6(2),b.Q6J("ngIf",!t.isReadOnly),b.xp6(1),b.Q6J("readOnly",!0),b.xp6(3),b.hij(" ",b.lcZ(27,41,"::Email")," "),b.xp6(2),b.Q6J("ngIf",!t.isReadOnly),b.xp6(1),b.Q6J("readOnly",!0),b.xp6(4),b.hij(" ",b.lcZ(34,43,"::PortofolioAttachmentId")," "),b.xp6(2),b.Q6J("ngIf",!t.isReadOnly),b.xp6(1),b.Q6J("isThumbnail",!0)("maxFilesCount",30)("readonly",t.isReadOnly),b.xp6(3),b.hij(" ",b.lcZ(40,45,"::PhotoAttachmentId")," "),b.xp6(2),b.Q6J("isThumbnail",!0)("maxFilesCount",1)("readonly",t.isReadOnly),b.xp6(3),b.hij(" ",b.lcZ(45,47,"::Country")," * "),b.xp6(2),b.Q6J("getFn",t.service.getCountryLookup)("lookupNameProp",t.langService.getLookupNameProp())("disabled",t.isReadOnly),b.xp6(3),b.hij(" ",b.lcZ(50,49,"::City")," "),b.xp6(2),b.Q6J("ngIf",!t.isReadOnly),b.xp6(1),b.Q6J("country",t.countryId.value)("disabled",t.isReadOnly)("lookupNameProp",t.langService.getLookupNameProp()),b.xp6(3),b.hij(" ",b.lcZ(56,51,"::GenderGeneralLookup")," "),b.xp6(2),b.Q6J("ngIf",!t.isReadOnly),b.xp6(1),b.Q6J("getFn",t.langService.isRtl?t.lookupService.getGenderTypeLookup:t.lookupService.getGenderTypeLookupValues)("disabled",t.isReadOnly),b.xp6(3),b.hij(" ",b.lcZ(62,53,"::Bio")," "),b.xp6(2),b.Q6J("readOnly",t.isReadOnly),b.xp6(2),b.Q6J("ngIf",!t.isReadOnly))},directives:[q._Y,q.JL,s.YzZ,q.sg,r.hL,k.O5,q.Fj,q.JJ,q.u,r.J5,ee.m,q.nD,s.Uqp,re.Y,te.X,ie.b],pipes:[s.fuE],styles:[".s-icon-lg[_ngcontent-%COMP%]{height:200px;border-radius:25px;-o-object-fit:cover;object-fit:cover}"]}),e}();function Ie(e,t){1&e&&b._UZ(0,"edit-coach-profile")}function Le(e,t){1&e&&b._UZ(0,"edit-coordinator-profile")}var ke=function(){var e=function(){function e(t,i){o(this,e),this.coachService=t,this.sessionExtraInfoService=i,this.UserTypesEnum=G.bZ}return n(e,[{key:"ngOnInit",value:function(){var e=this;this.sessionExtraInfoService.whoAmI2().subscribe(function(t){e.UserTypes=t.userType})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.Y36(y.u),b.Y36(L.G))},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-edit-profile"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(b.YNc(0,Ie,1,0,"edit-coach-profile",0),b.YNc(1,Le,1,0,"edit-coordinator-profile",0)),2&e&&(b.Q6J("ngIf",t.UserTypes==t.UserTypesEnum.Coach),b.xp6(1),b.Q6J("ngIf",t.UserTypes==t.UserTypesEnum.Coordinator))},directives:[k.O5,Ze,Ce],styles:[""]}),e}(),we=function(e){return e[e.All=0]="All",e[e.Paid=1]="Paid",e[e.Free=2]="Free",e}({});(0,s.Uoq)(we);var Ue=a(47701),Ne=a(28450),_e=a(17434),Oe=a(65122),Je=a(37718),Me=a(94773),Ye=a(62194),Pe=a(43117),De=a(50547),Fe=a(55794),Qe=a(42163),ze=a(76075);function je(e,t){if(1&e&&(b.TgZ(0,"div",19),b.TgZ(1,"span",20),b._uU(2),b.ALo(3,"abpLocalization"),b.qZA(),b.qZA()),2&e){var i=b.oxw();b.xp6(2),b.Oqu(b.xi3(3,1,"::LastSubscriptionEndDateRemaining",i.lastSubscriptionEndDateRemaining.toString()))}}function Ee(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"button",21),b.NdJ("click",function(){return b.CHM(i),b.oxw(),b.MAs(28).open()}),b._UZ(1,"i",22),b.qZA()}}function Ge(e,t){if(1&e&&(b.TgZ(0,"span",63),b._uU(1),b.qZA()),2&e){var i=b.oxw(2);b.xp6(1),b.Oqu(null==i.summary?null:i.summary.allCount)}}function He(e,t){if(1&e&&(b.TgZ(0,"span",63),b._uU(1),b.qZA()),2&e){var i=b.oxw(2);b.xp6(1),b.Oqu(null==i.summary?null:i.summary.readyCount)}}function Re(e,t){if(1&e&&(b.TgZ(0,"span",63),b._uU(1),b.qZA()),2&e){var i=b.oxw(2);b.xp6(1),b.Oqu(null==i.summary?null:i.summary.waitingAllCount)}}function Ve(e,t){if(1&e&&(b.TgZ(0,"span",63),b._uU(1),b.qZA()),2&e){var i=b.oxw(2);b.xp6(1),b.Oqu(null==i.summary?null:i.summary.waitingExerciseCount)}}function We(e,t){if(1&e&&(b.TgZ(0,"span",63),b._uU(1),b.qZA()),2&e){var i=b.oxw(2);b.xp6(1),b.Oqu(null==i.summary?null:i.summary.waitingNutritionCount)}}function Ke(e,t){if(1&e&&(b.TgZ(0,"span",63),b._uU(1),b.qZA()),2&e){var i=b.oxw(2);b.xp6(1),b.Oqu(null==i.summary?null:i.summary.suggestedCount)}}function $e(e,t){if(1&e&&(b.TgZ(0,"span",63),b._uU(1),b.qZA()),2&e){var i=b.oxw(2);b.xp6(1),b.Oqu(null==i.summary?null:i.summary.notSuggestedCount)}}function Be(e,t){if(1&e&&(b.TgZ(0,"span",63),b._uU(1),b.qZA()),2&e){var i=b.oxw(2);b.xp6(1),b.Oqu(null==i.summary?null:i.summary.scheduledCount)}}function Xe(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"div",40),b.TgZ(1,"div",28),b.TgZ(2,"label",64),b._uU(3),b.ALo(4,"abpLocalization"),b.qZA(),b.TgZ(5,"p-autoComplete",65),b.NdJ("onClear",function(){return b.CHM(i),b.oxw(2).onClear()})("completeMethod",function(e){return b.CHM(i),b.oxw(2).startSearchUser(e)})("search",function(e){return b.CHM(i),b.oxw(2).startSearchUser(e)}),b.ALo(6,"abpLocalization"),b.qZA(),b.qZA(),b.qZA()}if(2&e){var n=b.oxw(2);b.xp6(3),b.hij(" ",b.lcZ(4,5,"::CoachName")," "),b.xp6(2),b.s9C("placeholder",b.lcZ(6,7,"::CoachName")),b.Q6J("suggestions",n.AllUsers)("type",n.searchType())("dropdown",!0)}}function et(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"div",40),b.TgZ(1,"div",28),b.TgZ(2,"label",66),b._uU(3),b.ALo(4,"abpLocalization"),b.qZA(),b.TgZ(5,"p-autoComplete",67),b.NdJ("onClear",function(){return b.CHM(i),b.oxw(2).onClearCoordinator()})("completeMethod",function(e){return b.CHM(i),b.oxw(2).startSearchCoordinators(e)})("search",function(e){return b.CHM(i),b.oxw(2).startSearchCoordinators(e)})("onSelect",function(e){return b.CHM(i),b.oxw(2).onSelectCoordinator(e)}),b.qZA(),b.qZA(),b.qZA()}if(2&e){var n=b.oxw(2);b.xp6(3),b.hij(" ",b.lcZ(4,4,"::CoordinatorName")," "),b.xp6(2),b.Q6J("suggestions",n.AllCoordinators)("type",n.searchType())("dropdown",!0)}}function tt(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"form",23),b.NdJ("ngSubmit",function(){return b.CHM(i),b.oxw().get()}),b.TgZ(1,"div",24),b.TgZ(2,"div",25),b.TgZ(3,"div",26),b.TgZ(4,"div",27),b.TgZ(5,"div",28),b.TgZ(6,"label",29),b._uU(7),b.ALo(8,"abpLocalization"),b.qZA(),b._UZ(9,"input",30,31),b.ALo(11,"abpLocalization"),b.qZA(),b.qZA(),b.TgZ(12,"div",32),b.TgZ(13,"div",33),b.TgZ(14,"div",34),b.NdJ("click",function(){b.CHM(i);var e=b.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.All}),b._uU(15),b.ALo(16,"abpLocalization"),b.YNc(17,Ge,2,1,"span",35),b.qZA(),b.TgZ(18,"div",34),b.NdJ("click",function(){b.CHM(i);var e=b.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.Ready}),b._uU(19),b.ALo(20,"abpLocalization"),b.YNc(21,He,2,1,"span",35),b.qZA(),b.TgZ(22,"div",34),b.NdJ("click",function(){b.CHM(i);var e=b.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.WaitingAll}),b._uU(23),b.ALo(24,"abpLocalization"),b.YNc(25,Re,2,1,"span",35),b.qZA(),b.TgZ(26,"div",34),b.NdJ("click",function(){b.CHM(i);var e=b.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.WaitingExercise}),b._uU(27),b.ALo(28,"abpLocalization"),b.YNc(29,Ve,2,1,"span",35),b.qZA(),b.TgZ(30,"div",34),b.NdJ("click",function(){b.CHM(i);var e=b.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.WaitingNutrition}),b._uU(31),b.ALo(32,"abpLocalization"),b.YNc(33,We,2,1,"span",35),b.qZA(),b.TgZ(34,"div",34),b.NdJ("click",function(){b.CHM(i);var e=b.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.Suggested}),b._uU(35),b.ALo(36,"abpLocalization"),b.YNc(37,Ke,2,1,"span",35),b.qZA(),b.TgZ(38,"div",34),b.NdJ("click",function(){b.CHM(i);var e=b.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.NotSuggested}),b._uU(39),b.ALo(40,"abpLocalization"),b.YNc(41,$e,2,1,"span",35),b.qZA(),b.TgZ(42,"div",34),b.NdJ("click",function(){b.CHM(i);var e=b.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.Scheduled}),b._uU(43),b.ALo(44,"abpLocalization"),b.YNc(45,Be,2,1,"span",35),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(46,"div",36),b.TgZ(47,"div",37),b.TgZ(48,"div",38),b.TgZ(49,"div",26),b.YNc(50,Xe,7,9,"div",39),b.YNc(51,et,6,6,"div",39),b.TgZ(52,"div",40),b.TgZ(53,"div",28),b.TgZ(54,"label",41),b._uU(55),b.ALo(56,"abpLocalization"),b.qZA(),b._UZ(57,"sw-lookup-select",42),b.qZA(),b.qZA(),b.TgZ(58,"div",40),b.TgZ(59,"div",28),b.TgZ(60,"label",43),b._uU(61),b.ALo(62,"abpLocalization"),b.qZA(),b._UZ(63,"sw-lookup-select",44),b.qZA(),b.qZA(),b.TgZ(64,"div",40),b.TgZ(65,"div",28),b.TgZ(66,"label",45),b._uU(67),b.ALo(68,"abpLocalization"),b.qZA(),b._UZ(69,"sw-lookup-select",46),b.qZA(),b.qZA(),b.TgZ(70,"div",40),b.TgZ(71,"div",28),b.TgZ(72,"label",47),b._uU(73),b.ALo(74,"abpLocalization"),b.qZA(),b._UZ(75,"sw-lookup-select",48),b.qZA(),b.qZA(),b.TgZ(76,"div",40),b.TgZ(77,"div",28),b.TgZ(78,"label",49),b._uU(79),b.ALo(80,"abpLocalization"),b.qZA(),b._UZ(81,"sw-lookup-select",50),b.qZA(),b.qZA(),b.TgZ(82,"div",40),b.TgZ(83,"div",28),b.TgZ(84,"label",51),b._uU(85),b.ALo(86,"abpLocalization"),b.qZA(),b._UZ(87,"sw-lookup-select",52),b.qZA(),b.qZA(),b.TgZ(88,"div",40),b.TgZ(89,"label",53),b._uU(90),b.ALo(91,"abpLocalization"),b.qZA(),b.TgZ(92,"span",54),b._uU(93),b.ALo(94,"abpLocalization"),b.qZA(),b._UZ(95,"input",55),b.qZA(),b.TgZ(96,"div",40),b.TgZ(97,"label",56),b._uU(98),b.ALo(99,"abpLocalization"),b.qZA(),b.TgZ(100,"span",54),b._uU(101),b.qZA(),b._UZ(102,"input",57),b.qZA(),b.TgZ(103,"div",40),b.TgZ(104,"label",58),b._uU(105),b.ALo(106,"abpLocalization"),b.qZA(),b.TgZ(107,"span",54),b._uU(108),b.qZA(),b._UZ(109,"input",59),b.qZA(),b._UZ(110,"div",40),b.TgZ(111,"div",40),b._UZ(112,"br"),b.qZA(),b.TgZ(113,"div",60),b.TgZ(114,"div",26),b._UZ(115,"div",27),b.TgZ(116,"div",32),b.TgZ(117,"button",61),b.NdJ("click",function(){return b.CHM(i),b.oxw().clearFilters()}),b.TgZ(118,"span"),b._uU(119),b.ALo(120,"abpLocalization"),b.qZA(),b.qZA(),b.qZA(),b.TgZ(121,"div",32),b.TgZ(122,"button",62),b.NdJ("click",function(){return b.CHM(i),b.oxw().get()}),b.TgZ(123,"span"),b._uU(124),b.ALo(125,"abpLocalization"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()}if(2&e){var n=b.oxw();b.Q6J("formGroup",n.form),b.xp6(7),b.hij(" ",b.lcZ(8,61,"::SearchFor")," "),b.xp6(2),b.s9C("placeholder",b.lcZ(11,63,"::Search")),b.xp6(5),b.ekj("active",n.simpleStatus===n.SimpleTraineeSubscriptionStatus.All),b.xp6(1),b.hij(" ",b.lcZ(16,65,"::All")," "),b.xp6(2),b.Q6J("ngIf",null==n.summary?null:n.summary.allCount),b.xp6(1),b.ekj("active",n.simpleStatus===n.SimpleTraineeSubscriptionStatus.Ready),b.xp6(1),b.hij(" ",b.lcZ(20,67,"::AssignedTrainees")," "),b.xp6(2),b.Q6J("ngIf",null==n.summary?null:n.summary.readyCount),b.xp6(1),b.ekj("active",n.simpleStatus===n.SimpleTraineeSubscriptionStatus.WaitingAll),b.xp6(1),b.hij(" ",b.lcZ(24,69,"::NewTrainees")," "),b.xp6(2),b.Q6J("ngIf",null==n.summary?null:n.summary.waitingAllCount),b.xp6(1),b.ekj("active",n.simpleStatus===n.SimpleTraineeSubscriptionStatus.WaitingExercise),b.xp6(1),b.hij(" ",b.lcZ(28,71,"::WaitingExercise")," "),b.xp6(2),b.Q6J("ngIf",null==n.summary?null:n.summary.waitingExerciseCount),b.xp6(1),b.ekj("active",n.simpleStatus===n.SimpleTraineeSubscriptionStatus.WaitingNutrition),b.xp6(1),b.hij(" ",b.lcZ(32,73,"::WaitingNutrition")," "),b.xp6(2),b.Q6J("ngIf",null==n.summary?null:n.summary.waitingNutritionCount),b.xp6(1),b.ekj("active",n.simpleStatus===n.SimpleTraineeSubscriptionStatus.Suggested),b.xp6(1),b.hij(" ",b.lcZ(36,75,"::Suggested")," "),b.xp6(2),b.Q6J("ngIf",null==n.summary?null:n.summary.suggestedCount),b.xp6(1),b.ekj("active",n.simpleStatus===n.SimpleTraineeSubscriptionStatus.NotSuggested),b.xp6(1),b.hij(" ",b.lcZ(40,77,"::NotSuggested")," "),b.xp6(2),b.Q6J("ngIf",null==n.summary?null:n.summary.notSuggestedCount),b.xp6(1),b.ekj("active",n.simpleStatus===n.SimpleTraineeSubscriptionStatus.Scheduled),b.xp6(1),b.hij(" ",b.lcZ(44,79,"::Scheduled")," "),b.xp6(2),b.Q6J("ngIf",null==n.summary?null:n.summary.scheduledCount),b.xp6(1),b.Q6J("ngbCollapse",n.isFiltersHidden),b.xp6(4),b.Q6J("ngIf",n.isCurrentUserAdmin),b.xp6(1),b.Q6J("ngIf",n.isCanSelectCoordinators),b.xp6(4),b.hij(" ",b.lcZ(56,81,"::MuscleId")," "),b.xp6(2),b.Q6J("datas",n.musclesList),b.xp6(4),b.hij(" ",b.lcZ(62,83,"::InjuryId")," "),b.xp6(2),b.Q6J("datas",n.injuriesList),b.xp6(4),b.hij(" ",b.lcZ(68,85,"::ExerciseGenre")," "),b.xp6(2),b.Q6J("datas",n.genresList),b.xp6(4),b.hij(" ",b.lcZ(74,87,"::Goal")," "),b.xp6(2),b.Q6J("datas",n.goalsList),b.xp6(4),b.hij(" ",b.lcZ(80,89,"::DisliedNutritionCategory")," "),b.xp6(2),b.Q6J("datas",n.categoriesList),b.xp6(4),b.hij(" ",b.lcZ(86,91,"::TraineePaid")," "),b.xp6(2),b.Q6J("datas",n.traineePaidList),b.xp6(3),b.hij(" ",b.lcZ(91,93,"::IntensityLevel")," "),b.xp6(3),b.hij(" ",b.lcZ(94,95,"::IntensityLevel"+n.getIntensityLevel)," "),b.xp6(2),b.Q6J("step",1),b.xp6(3),b.hij(" ",b.lcZ(99,97,"::PreferedNumberOfMeals")," "),b.xp6(3),b.hij(" ",n.getpreferedNumberOfMeals," "),b.xp6(1),b.Q6J("step",1),b.xp6(3),b.hij(" ",b.lcZ(106,99,"::NumberOfDays")," "),b.xp6(3),b.hij(" ",n.getnumberOfDays," "),b.xp6(1),b.Q6J("step",1),b.xp6(10),b.Oqu(b.lcZ(120,101,"::Clear")),b.xp6(5),b.Oqu(b.lcZ(125,103,"::Search"))}}function it(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"trainees-simple-list",68),b.NdJ("traineeCountChanged",function(){return b.CHM(i),b.oxw().updateSummary()}),b.qZA()}}var nt=function(){return["/dashboard/old"]},ot=function(){return["/dashboard"]},at=function(){return{standalone:!0}},rt=new Date;new Date(rt.getFullYear(),rt.getMonth()-1,rt.getDate());var st=function(){var t=function(){function t(e,i,n,a,r,s,c,l,u,d,p,g,m,h,f,Z){o(this,t),this.service=e,this.exService=i,this.coordinatorService=n,this.dateService=a,this.permissionService=r,this.servicePkag=s,this.statusService=c,this.localCacheService=l,this.coachService=u,this.nutritionService=d,this.exerciseService=p,this.sessionExtraInfoService=g,this.analyticsService=m,this.l=h,this.fb=f,this.mobileHelperService=Z,this.TraineeSubscriptionStatus=G.Nd,this.date="",this.traineeCount=0,this.showSearch=!0,this.filterText="",this.lastSubscriptionEndDateRemaining=0,this.isFiltersHidden=!0,this.isMobile=!1,this.disablePayment=!1,this.SimpleTraineeSuggested=G.Dc,this.categoriesList=[],this.suggestedList=[{id:G.Dc.All,name:this.l.instant("::All")},{id:G.Dc.WithSuggested,name:this.l.instant("::WithSuggested")},{id:G.Dc.WithoutSuggested,name:this.l.instant("::WithoutSuggested")},{id:3,name:this.l.instant("::Assigned")}],this.traineePaidList=[{id:we.All,name:this.l.instant("::All")},{id:we.Paid,name:this.l.instant("::Paid")},{id:we.Free,name:this.l.instant("::Free")}],this.goalsList=[],this.genresList=[],this.injuriesList=[],this.musclesList=[],this.isCanSelectCoordinators=!1,this.isCoach=!1,this.filters={},this.rangeValues=[1,20],this.SimpleTraineeSubscriptionStatus=G.yP,this.isSearched=!1,this.isShowActive=!1,this.AllUsers=[]}return n(t,[{key:"getIntensityLevel",get:function(){return this.form&&this.form.get("intensityLevel").value||0}},{key:"getpreferedNumberOfMeals",get:function(){return this.form&&this.form.get("preferedNumberOfMeals").value||""}},{key:"getnumberOfDays",get:function(){return this.form&&this.form.get("numberOfDays").value||""}},{key:"startSearch",value:function(t){var i=this,n=e(this.musclesList);this.musclesList=[],setTimeout(function(){i.musclesList=n},1e3)}},{key:"ngOnInit",value:function(){var e=this;this.analyticsService.log(Oe.O.View_HomePage);var t=this;this.disablePayment=v.N.disablePayment,this.sessionExtraInfoService.whoAmI2().subscribe(function(i){i.coachType==G.Tz.Normal&&(e.isCanSelectCoordinators=!1),i.userType===G.bZ.Coordinator?e.isCanSelectCoordinators=!1:i.userType===G.bZ.Coach?(e.isCanSelectCoordinators=!0,e.isCoach=!0):i.userType===G.bZ.Admin&&(e.isCanSelectCoordinators=!0),i.userType!==G.bZ.None&&t.initiate()}),this.isMobile=this.mobileHelperService.GetMobile(),this.isSearched=!0}},{key:"initiate",value:function(){var e=this;setTimeout(function(){e.exerciseService.getGenraLookup().pipe((0,Ne.z)(e.localCacheService,"Genra",300)).subscribe(function(t){e.genresList=t.items.map(function(e){return new _e.Cf(e)})}),e.exerciseService.getInjuryLookup().pipe((0,Ne.z)(e.localCacheService,"Injury",300)).subscribe(function(t){e.injuriesList=t.items.map(function(e){return new _e.a5(e)})}),e.exerciseService.getMuscleLookup().pipe((0,Ne.z)(e.localCacheService,"Muscle",300)).subscribe(function(t){e.musclesList=t.items.map(function(e){return new _e.a5(e)})}),e.nutritionService.getNutritionCategoriesLookup().pipe((0,Ne.z)(e.localCacheService,"NutritionCategories",300)).subscribe(function(t){return e.categoriesList=t.items.map(function(e){return new _e.Cf(e)})}),e.nutritionService.getGoalsLookup().pipe((0,Ne.z)(e.localCacheService,"Goals",300)).subscribe(function(t){return e.goalsList=t.items.map(function(e){return new _e.Cf(e)})})},5e3),e.form=e.fb.group({filterText:null,coachAppUserId:null,coordinatorAppUserId:null,hasExerciseDay:null,hasNutritionDay:null,muscleId:null,injuryId:null,exerciseGenreId:null,goalId:null,nutritionCategoryId:null,exerciseSuggested:null,nutritionSuggested:null,traineePaid:we.All,intensityLevel:0,preferedNumberOfMeals:0,numberOfDays:0,simpleStatus:G.yP.All}),e.form.get("filterText").valueChanges.pipe((0,Ue.b)(1200)).subscribe(function(t){return e.get()}),setTimeout(function(){e.statusService.lastSearch?(e.form.patchValue(e.statusService.lastSearch),e.showFilter=e.statusService.showSearch,e.currentDateFromStatus=e.statusService.currentDate,setTimeout(function(){e.search()},100)):(e.currentDateFromStatus=new Date,e.search())},100),e.form.get("coachAppUserId").valueChanges.subscribe(function(t){e.form.get("coordinatorAppUserId").setValue(void 0)})}},{key:"getField",value:function(e){var t=this.form.get(e).value;if(this.form&&t){if(0==t[0]&&0==t[1])return;return t}}},{key:"showFilter",get:function(){return this._showFilter},set:function(e){this._showFilter=e,this.isFiltersHidden=!e}},{key:"isCurrentUserAdmin",get:function(){return this.permissionService.getGrantedPolicy("PhysicAdmin")}},{key:"clearFilters",value:function(){var e=this;this.form.reset(),this.form.get("hasNote").setValue(!1),this.form.get("intensityLevel").setValue(0),this.form.get("preferedNumberOfMeals").setValue(0),this.form.get("numberOfDays").setValue(0),this.form.get("simpleStatus").setValue(G.yP.All),this.form.get("traineePaid").setValue(we.All),setTimeout(function(){e.get(),e.statusService.lastSearch=void 0,e.statusService.showSearch=!1,e.statusService.currentDate=e.currentDateFromStatus},10)}},{key:"ngAfterViewInit",value:function(){this.getdate(new Date),this.getSubscriptionRemaining()}},{key:"ngOnDestroy",value:function(){}},{key:"getdate",value:function(e){if(e){this.currentDateFromStatus=new Date(e),this.currentDateFromStatus.setHours(0,0,0,0);var t=W(this.currentDateFromStatus),i=this.dateService.parseMomentToString(t);this.dateString=i,this.service.currentDate.next({date:i,traineeId:0}),this.date=W(t).locale("ar-SA").format("dddd")+" - "+t.format("YYYY-MM-DD")}}},{key:"getSubscriptionRemaining",value:function(){var e=this;this.servicePkag.getSubscriptionRemaining().subscribe(function(t){e.lastSubscriptionEndDateRemaining=t})}},{key:"traineeCountChanged",value:function(e){this.traineeCount=e}},{key:"getSearchForm",value:function(){var e,t=Object.assign({},null===(e=this.form)||void 0===e?void 0:e.value);return t.hasNutritionDay=1==t.hasNutritionDay?2:void 0,t.hasExerciseDay=1==t.hasExerciseDay?2:void 0,t.coachAppUserId=t.coachAppUserId&&t.coachAppUserId.id?t.coachAppUserId.id:void 0,t.coordinatorAppUserId&&(t.coordinatorAppUserId=this.SelectedCoordinatorId),t.muscleId||(t.muscleId=void 0),t.injuryId||(t.injuryId=void 0),t.intensityLevel&&0!==t.intensityLevel||(t.intensityLevel=void 0),t.preferedNumberOfMeals&&0!==t.preferedNumberOfMeals||(t.preferedNumberOfMeals=void 0),t.numberOfDays&&0!==t.numberOfDays||(t.numberOfDays=void 0),t.exerciseGenreId||(t.exerciseGenreId=void 0),t.goalId||(t.goalId=void 0),t.nutritionCategoryId||(t.nutritionCategoryId=void 0),t.exerciseSuggested||(t.exerciseSuggested=void 0),t.nutritionSuggested||(t.nutritionSuggested=void 0),t.traineePaid||(t.traineePaid=we.All),t.simpleStatus||(t.simpleStatus=G.yP.All),t.hasExerciseDay=void 0,t.hasNutritionDay=void 0,t}},{key:"simpleStatus",get:function(){return this.form.get("simpleStatus").value||G.yP.All},set:function(e){var t=this;this.form.get("simpleStatus").setValue(e),setTimeout(function(){t.get()},10)}},{key:"search",value:function(){var e=this,t=this.getSearchForm();this.service.ChangeFilter2(t),this.statusService.lastSearch=this.form.value,this.statusService.showSearch=this.showFilter,this.statusService.currentDate=this.currentDateFromStatus,this.analyticsService.log(Oe.O.View_HomePage_Trainee_List,{simpleStatus:t.simpleStatus}),this.updateSummary(),setTimeout(function(){e.isSearched=!0},10)}},{key:"updateSummary",value:function(){}},{key:"startSearchUser",value:function(e){var t=this,i={};i.filter=e.query,this.exService.getAppUserLookup(i).subscribe(function(e){t.AllUsers=e.items})}},{key:"onSelect",value:function(e){}},{key:"onClear",value:function(){this.form.reset(),this.form.get("hasNote").setValue(!1)}},{key:"searchType",value:function(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)?"text":"search"}},{key:"get",value:function(){this.search()}},{key:"startSearchCoordinators",value:function(e){var t=this,i=Object.assign({},this.form.value);i.coachAppUserId&&i.coachAppUserId.id&&(i.coachAppUserId=i.coachAppUserId.id),this.coordinatorService.getCoordinatorsGeneralLookup({filterText:e.query,coachAppUserId:i.coachAppUserId,maxResultCount:void 0,skipCount:void 0}).subscribe(function(e){t.AllCoordinators=e.items})}},{key:"onSelectCoordinator",value:function(e){this.SelectedCoordinatorId=e.appUserId}},{key:"onClearCoordinator",value:function(){this.SelectedCoordinatorId=void 0,this.form.controls.balance.setValue(void 0)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(b.Y36(Je.J),b.Y36(Me.JL),b.Y36(ve.q),b.Y36(T.R),b.Y36(s.$AH),b.Y36(x.v),b.Y36(Ye.$),b.Y36(Pe.F),b.Y36(y.u),b.Y36(Me.lF),b.Y36(Me.JL),b.Y36(L.G),b.Y36(Oe.y),b.Y36(s.oQ8),b.Y36(q.qu),b.Y36(X.k4))},t.\u0275cmp=b.Xpm({type:t,selectors:[["app-simple-dashboard"]],decls:29,vars:23,consts:[["class","alert alert-primary text-center",4,"ngIf"],[1,"card","bg-transparent","no-shadow"],[1,"card-header","px-0"],[1,"row","align-items-center"],[1,"col-lg-auto","col-md-12"],[1,"mb-lg-0"],[1,"col-xl-7","col-md-6"],[1,"btn-group","d-block"],["routerLinkActive","router-link-active",1,"btn","btn-success","btn-sm",3,"routerLink"],["class","btn btn-secondary  btn-sm",3,"click",4,"ngIf"],[1,"col-lg","col-md-6"],[1,"text-lg-right","pt-2"],[1,"custom-control","custom-switch"],["type","checkbox","id","customSwitch5",1,"custom-control-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","customSwitch5",1,"custom-control-label"],[1,""],["validateOnSubmit","",3,"formGroup","ngSubmit",4,"ngIf"],[3,"traineeCountChanged",4,"ngIf"],["userSettings",""],[1,"alert","alert-primary","text-center"],[1,"text-truncate"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-cogs"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"card","mb-4","card","mb-4","px-4","py-2"],[1,"card-body-old"],[1,"row"],[1,"col"],[1,"form-group"],["for","filterTextFilter"],["id","filterTextFilter","formControlName","filterText","maxlength","100",1,"form-control",3,"placeholder"],["filterTextControl",""],[1,"col-auto"],[1,"btn-group","mt-4"],[1,"btn","btn-secondary",3,"click"],["class","badge badge-light",4,"ngIf"],["id","advanced-content-filters",3,"ngbCollapse"],[1,"card","mb-4"],[1,"card-body"],["class","col-12 col-md-4",4,"ngIf"],[1,"col-12","col-md-4"],["for","MuscleId"],["lookupNameProp","nameAr","formControlName","muscleId","id","MuscleId","name","MuscleId","cid","MuscleId",3,"datas"],["for","injuryId"],["lookupNameProp","nameAr","formControlName","injuryId","id","injuryId","name","injuryId","cid","injuryId",3,"datas"],["for","exerciseGenreId"],["lookupNameProp","name","formControlName","exerciseGenreId","id","exerciseGenreId","name","exerciseGenreId","cid","exerciseGenreId",3,"datas"],["for","goalId"],["lookupNameProp","name","formControlName","goalId","id","goalId","name","goalId","cid","goalId",3,"datas"],["for","nutritionCategoryId"],["lookupNameProp","name","formControlName","nutritionCategoryId","id","nutritionCategoryId","name","nutritionCategoryId","cid","nutritionCategoryId",3,"datas"],["for","traineePaid"],["lookupNameProp","name","formControlName","traineePaid","id","traineePaid","name","traineePaid","cid","traineePaid",3,"datas"],["for","exercise-program-intensityLevel"],[1,"float-right"],["type","range","min","0","max","5","id","exercise-program-intensityLevel","formControlName","intensityLevel",1,"form-control-range",3,"step"],["for","exercise-program-preferedNumberOfMeals"],["type","range","min","0","max","10","id","exercise-program-preferedNumberOfMeals","formControlName","preferedNumberOfMeals",1,"form-control-range",3,"step"],["for","exercise-program-numberOfDays"],["type","range","min","0","max","7","id","exercise-program-numberOfDays","formControlName","numberOfDays",1,"form-control-range",3,"step"],[1,"col-md-12","align-self-end","mb-3"],["type","button",1,"btn","btn-outline-primary","btn-block",3,"click"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],[1,"badge","badge-light"],[2,"display","block"],["id","coachAppUserId","name","coachAppUserId","formControlName","coachAppUserId","dataKey","id","field","displayName","forceSelection","true",1,"",3,"suggestions","type","dropdown","placeholder","onClear","completeMethod","search"],["for","app-user-coach-app-user-id"],["id","coordinatorAppUserId","name","coordinatorAppUserId","formControlName","coordinatorAppUserId","dataKey","appUserId","field","name","forceSelection","true",3,"suggestions","type","dropdown","onClear","completeMethod","search","onSelect"],[3,"traineeCountChanged"]],template:function(e,t){1&e&&(b.YNc(0,je,4,4,"div",0),b.TgZ(1,"div",1),b.TgZ(2,"div",2),b.TgZ(3,"div",3),b.TgZ(4,"div",4),b.TgZ(5,"h3",5),b._uU(6),b.ALo(7,"abpLocalization"),b.qZA(),b.qZA(),b.TgZ(8,"div",6),b.TgZ(9,"div",7),b.TgZ(10,"a",8),b._uU(11),b.ALo(12,"abpLocalization"),b.qZA(),b.TgZ(13,"a",8),b._uU(14),b.ALo(15,"abpLocalization"),b.qZA(),b.YNc(16,Ee,2,0,"button",9),b.qZA(),b.qZA(),b.TgZ(17,"div",10),b.TgZ(18,"div",11),b.TgZ(19,"div",12),b.TgZ(20,"input",13),b.NdJ("ngModelChange",function(e){return t.showFilter=e}),b.qZA(),b.TgZ(21,"label",14),b._uU(22),b.ALo(23,"abpLocalization"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(24,"div",15),b.YNc(25,tt,126,105,"form",16),b.YNc(26,it,1,0,"trainees-simple-list",17),b.qZA(),b.qZA(),b._UZ(27,"app-user-setting",null,18)),2&e&&(b.Q6J("ngIf",t.lastSubscriptionEndDateRemaining>0&&!t.disablePayment),b.xp6(6),b.Oqu(b.lcZ(7,12,"::Dashboard")),b.xp6(4),b.Q6J("routerLink",b.DdM(20,nt)),b.xp6(1),b.hij(" ",b.lcZ(12,14,"::ProgressReport")," "),b.xp6(2),b.Q6J("routerLink",b.DdM(21,ot)),b.xp6(1),b.hij(" ",b.lcZ(15,16,"::ProgressReport")," 1 "),b.xp6(2),b.Q6J("ngIf",t.isCoach),b.xp6(4),b.Q6J("ngModel",t.showFilter)("ngModelOptions",b.DdM(22,at)),b.xp6(2),b.Oqu(b.lcZ(23,18,"::SeeAdvancedFilters")),b.xp6(3),b.Q6J("ngIf",t.form),b.xp6(1),b.Q6J("ngIf",t.isSearched))},directives:[k.O5,A.yS,A.Od,q.Wl,q.JJ,q.On,ee.m,De.m,q._Y,q.JL,s.YzZ,q.sg,r.hL,q.Fj,q.u,r.J5,q.nD,l._D,te.X,q.eT,Fe.a,Qe.Qc,ze.r],pipes:[s.fuE],encapsulation:2}),t}(),ct=a(17288),lt=a(34723);function ut(e,t){if(1&e&&(b.TgZ(0,"div",17),b.TgZ(1,"span",18),b._uU(2),b.ALo(3,"abpLocalization"),b.qZA(),b.qZA()),2&e){var i=b.oxw();b.xp6(2),b.Oqu(b.xi3(3,1,"::LastSubscriptionEndDateRemaining",i.lastSubscriptionEndDateRemaining.toString()))}}var dt=function(){return["/dashboard/simple"]};function pt(e,t){1&e&&(b.TgZ(0,"div"),b.TgZ(1,"a",19),b._uU(2),b.ALo(3,"abpLocalization"),b.qZA(),b.qZA()),2&e&&(b.xp6(1),b.Q6J("routerLink",b.DdM(4,dt)),b.xp6(1),b.hij(" ",b.lcZ(3,2,"::Dashboard")," "))}function gt(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"div",24),b.TgZ(1,"div",25),b.TgZ(2,"label",40),b._uU(3),b.ALo(4,"abpLocalization"),b.qZA(),b.TgZ(5,"p-autoComplete",41),b.NdJ("onClear",function(){return b.CHM(i),b.oxw(2).onClear()})("completeMethod",function(e){return b.CHM(i),b.oxw(2).startSearchUser(e)})("search",function(e){return b.CHM(i),b.oxw(2).startSearchUser(e)}),b.ALo(6,"abpLocalization"),b.qZA(),b.qZA(),b.qZA()}if(2&e){var n=b.oxw(2);b.xp6(3),b.hij(" ",b.lcZ(4,5,"::CoachName")," "),b.xp6(2),b.s9C("placeholder",b.lcZ(6,7,"::CoachName")),b.Q6J("suggestions",n.AllUsers)("type",n.searchType())("dropdown",!0)}}function mt(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"div",24),b.TgZ(1,"div",25),b.TgZ(2,"label",42),b._uU(3),b.ALo(4,"abpLocalization"),b.qZA(),b.TgZ(5,"p-autoComplete",43),b.NdJ("onClear",function(){return b.CHM(i),b.oxw(2).onClearCoordinator()})("completeMethod",function(e){return b.CHM(i),b.oxw(2).startSearchCoordinators(e)})("search",function(e){return b.CHM(i),b.oxw(2).startSearchCoordinators(e)})("onSelect",function(e){return b.CHM(i),b.oxw(2).onSelectCoordinator(e)}),b.qZA(),b.qZA(),b.qZA()}if(2&e){var n=b.oxw(2);b.xp6(3),b.hij(" ",b.lcZ(4,4,"::CoordinatorName")," "),b.xp6(2),b.Q6J("suggestions",n.AllCoordinators)("type",n.searchType())("dropdown",!0)}}function ht(e,t){1&e&&(b.TgZ(0,"div",44),b.TgZ(1,"div",25),b.TgZ(2,"div",10),b._UZ(3,"input",45),b.TgZ(4,"label",46),b._uU(5),b.ALo(6,"abpLocalization"),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&e&&(b.xp6(5),b.Oqu(b.lcZ(6,1,"::HasNote")))}function ft(e,t){if(1&e&&(b.TgZ(0,"div",24),b.TgZ(1,"div",25),b.TgZ(2,"label",42),b._uU(3),b.ALo(4,"abpLocalization"),b.qZA(),b._UZ(5,"p-slider",47),b.qZA(),b.qZA()),2&e){var i=b.oxw(2);b.xp6(3),b.AsE(" ",b.lcZ(4,5,"::GeneralCommitment")," ",i.getcommitmentGeneral()," "),b.xp6(2),b.Q6J("range",!0)("min",0)("max",150)}}function Zt(e,t){if(1&e&&(b.TgZ(0,"div",24),b.TgZ(1,"div",25),b.TgZ(2,"label",42),b._uU(3),b.ALo(4,"abpLocalization"),b.qZA(),b._UZ(5,"p-slider",48),b.qZA(),b.qZA()),2&e){var i=b.oxw(2);b.xp6(3),b.AsE(" ",b.lcZ(4,5,"::ExerciseCommitment")," ",i.getcommitmentExercise()," "),b.xp6(2),b.Q6J("range",!0)("min",0)("max",150)}}function vt(e,t){if(1&e&&(b.TgZ(0,"div",24),b.TgZ(1,"div",25),b.TgZ(2,"label",42),b._uU(3),b.ALo(4,"abpLocalization"),b.qZA(),b._UZ(5,"p-slider",49),b.qZA(),b.qZA()),2&e){var i=b.oxw(2);b.xp6(3),b.AsE(" ",b.lcZ(4,5,"::NutirtionCommitment")," ",i.getcommitmentNutrition()," "),b.xp6(2),b.Q6J("range",!0)("min",0)("max",150)}}function bt(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"form",20),b.NdJ("ngSubmit",function(){return b.CHM(i),b.oxw().search()}),b.TgZ(1,"div",21),b.TgZ(2,"div",22),b.TgZ(3,"div",23),b.TgZ(4,"div",24),b.TgZ(5,"div",25),b.TgZ(6,"label",26),b._uU(7),b.ALo(8,"abpLocalization"),b.qZA(),b._UZ(9,"input",27,28),b.ALo(11,"abpLocalization"),b.qZA(),b.qZA(),b.YNc(12,gt,7,9,"div",29),b.YNc(13,mt,6,6,"div",29),b.TgZ(14,"div",24),b.TgZ(15,"div",25),b.TgZ(16,"div",10),b._UZ(17,"input",30),b.TgZ(18,"label",31),b._uU(19),b.ALo(20,"abpLocalization"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(21,"div",24),b.TgZ(22,"div",25),b.TgZ(23,"div",10),b._UZ(24,"input",32),b.TgZ(25,"label",33),b._uU(26),b.ALo(27,"abpLocalization"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.YNc(28,ht,7,3,"div",34),b.YNc(29,ft,6,7,"div",29),b.YNc(30,Zt,6,7,"div",29),b.YNc(31,vt,6,7,"div",29),b.TgZ(32,"div",35),b.TgZ(33,"div",23),b._UZ(34,"div",36),b.TgZ(35,"div",37),b.TgZ(36,"button",38),b.NdJ("click",function(){return b.CHM(i),b.oxw().clearFilters()}),b.TgZ(37,"span"),b._uU(38),b.ALo(39,"abpLocalization"),b.qZA(),b.qZA(),b.qZA(),b.TgZ(40,"div",37),b.TgZ(41,"button",39),b.NdJ("click",function(){return b.CHM(i),b.oxw().get()}),b.TgZ(42,"span"),b._uU(43),b.ALo(44,"abpLocalization"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()}if(2&e){var n=b.oxw();b.Q6J("formGroup",n.form),b.xp6(7),b.hij(" ",b.lcZ(8,13,"::SearchFor")," "),b.xp6(2),b.s9C("placeholder",b.lcZ(11,15,"::Search")),b.xp6(3),b.Q6J("ngIf",n.isCurrentUserAdmin),b.xp6(1),b.Q6J("ngIf",n.isCanSelectCoordinators),b.xp6(6),b.hij(" ",b.lcZ(20,17,"::IsThereIsNoExerciseProgramToday")," "),b.xp6(7),b.hij(" ",b.lcZ(27,19,"::IsThereIsNoNutritionProgramToday")," "),b.xp6(2),b.Q6J("ngIf",!n.isSimple),b.xp6(1),b.Q6J("ngIf",!n.isSimple),b.xp6(1),b.Q6J("ngIf",!n.isSimple),b.xp6(1),b.Q6J("ngIf",!n.isSimple),b.xp6(7),b.Oqu(b.lcZ(39,21,"::Clear")),b.xp6(5),b.Oqu(b.lcZ(44,23,"::Search"))}}function At(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"trainees-table",50),b.NdJ("traineeCountChanged",function(e){return b.CHM(i),b.oxw().traineeCountChanged(e)}),b.qZA()}2&e&&b.Q6J("traineeType",0)}function xt(e,t){1&e&&b._UZ(0,"trainees-simple-list")}var yt=function(){return{standalone:!0}},St=new Date;new Date(St.getFullYear(),St.getMonth()-1,St.getDate());var Tt=function(){var e=function(){function e(t,i,n,a,r,s,c,l,u,d,p,g,m){o(this,e),this.service=t,this.exService=i,this.coordinatorService=n,this.dateService=a,this.permissionService=r,this.servicePkag=s,this.statusService=c,this.coachService=l,this.localCacheService=u,this.sessionExtraInfoService=d,this.l=p,this.fb=g,this.mobileHelperService=m,this.TraineeSubscriptionStatus=G.Nd,this.date="",this.traineeCount=0,this.showSearch=!0,this.filterText="",this.lastSubscriptionEndDateRemaining=0,this.isFiltersHidden=!0,this.isMobile=!1,this._isSimple=!1,this.disablePayment=!1,this.isCanSelectCoordinators=!1,this.filters={},this.rangeValues=[1,20],this.isShowActive=!1,this.AllUsers=[]}return n(e,[{key:"isSimple",get:function(){return this._isSimple},set:function(e){this._isSimple=e}},{key:"ngOnInit",value:function(){var e=this;this.disablePayment=v.N.disablePayment,this.form=this.fb.group({filterText:null,coachAppUserId:null,coordinatorAppUserId:null,hasNote:!1,hasExerciseProgram:null,hasNutritionProgram:null,hasExerciseDay:null,hasNutritionDay:null,commitmentGeneral:null,commitmentExercise:null,commitmentNutrition:null}),setTimeout(function(){e.statusService.lastSearch?(e.form.patchValue(e.statusService.lastSearch),e.showFilter=e.statusService.showSearch,e.currentDateFromStatus=e.statusService.currentDate,setTimeout(function(){e.search()},100)):e.currentDateFromStatus=new Date},100),this.form.get("coachAppUserId").valueChanges.subscribe(function(t){e.form.get("coordinatorAppUserId").setValue(void 0)}),this.sessionExtraInfoService.whoAmI2().subscribe(function(t){t.coachType==G.Tz.Normal&&(e.isCanSelectCoordinators=!1),t.userType===G.bZ.Coordinator?e.isCanSelectCoordinators=!1:(t.userType===G.bZ.Coach||t.userType===G.bZ.Admin)&&(e.isCanSelectCoordinators=!0)}),this.isMobile=this.mobileHelperService.GetMobile()}},{key:"getField",value:function(e){var t=this.form.get(e).value;if(this.form&&t){if(0==t[0]&&0==t[1])return;return t}}},{key:"getcommitmentNutrition",value:function(){var e=this.getField("commitmentNutrition");return e?this.l.instant("::FromDateGrid")+" "+e[0]+"% "+this.l.instant("::ToDateGrid")+" "+e[1]+"%":""}},{key:"getcommitmentExercise",value:function(){var e=this.getField("commitmentExercise");return e?this.l.instant("::FromDateGrid")+" "+e[0]+"% "+this.l.instant("::ToDateGrid")+" "+e[1]+"%":""}},{key:"getcommitmentGeneral",value:function(){var e=this.getField("commitmentGeneral");return e?this.l.instant("::FromDateGrid")+" "+e[0]+"% "+this.l.instant("::ToDateGrid")+" "+e[1]+"%":""}},{key:"showFilter",get:function(){return this._showFilter},set:function(e){this._showFilter=e,this.isFiltersHidden=!e}},{key:"isCurrentUserAdmin",get:function(){return this.permissionService.getGrantedPolicy("PhysicAdmin")}},{key:"clearFilters",value:function(){this.form.reset(),this.form.get("hasNote").setValue(!1),this.get(),this.statusService.lastSearch=void 0,this.statusService.showSearch=!1,this.statusService.currentDate=this.currentDateFromStatus}},{key:"ngAfterViewInit",value:function(){this.getdate(new Date),this.getSubscriptionRemaining()}},{key:"ngOnDestroy",value:function(){}},{key:"getdate",value:function(e){if(e){this.currentDateFromStatus=new Date(e),this.currentDateFromStatus.setHours(0,0,0,0);var t=W(this.currentDateFromStatus),i=this.dateService.parseMomentToString(t);this.dateString=i,this.service.currentDate.next({date:i,traineeId:0}),this.date=W(t).locale("ar-SA").format("dddd")+" - "+t.format("YYYY-MM-DD")}}},{key:"getSubscriptionRemaining",value:function(){var e=this;this.servicePkag.getSubscriptionRemaining().pipe((0,Ne.z)(this.localCacheService,"SubscriptionRemaining",1800)).subscribe(function(t){e.lastSubscriptionEndDateRemaining=t})}},{key:"traineeCountChanged",value:function(e){this.traineeCount=e}},{key:"clearSearch",value:function(){this.form.reset(),this.form.get("hasNote").setValue(!1),this.service.ChangeFilter(void 0)}},{key:"getSearchForm",value:function(){var e=Object.assign({},this.form.value),t=this.getField("commitmentGeneral"),i=this.getField("commitmentExercise"),n=this.getField("commitmentNutrition");return t&&(e.commitmentGeneralMin=t[0],e.commitmentGeneralMax=t[1]),i&&(e.commitmentExerciseMin=i[0],e.commitmentExerciseMax=i[1]),n&&(e.commitmentNutritionMin=n[0],e.commitmentNutritionMax=n[1]),e.hasNutritionDay=1==e.hasNutritionDay?2:void 0,e.hasExerciseDay=1==e.hasExerciseDay?2:void 0,e.hasNutritionProgram=1==e.hasNutritionProgram?2:void 0,e.hasExerciseProgram=1==e.hasExerciseProgram?2:void 0,e.coachAppUserId=e.coachAppUserId&&e.coachAppUserId.id?e.coachAppUserId.id:void 0,e.coordinatorAppUserId&&(e.coordinatorAppUserId=this.SelectedCoordinatorId),e}},{key:"search",value:function(){var e=this.getSearchForm();this.service.ChangeFilter(e),this.statusService.lastSearch=this.form.value,this.statusService.showSearch=!0,this.statusService.currentDate=this.currentDateFromStatus}},{key:"clear",value:function(){this.form.reset(),this.form.get("hasNote").setValue(!1),this.showSearch=!0,this.filterText=void 0,this.service.ChangeFilter(void 0)}},{key:"startSearchUser",value:function(e){var t=this,i={};i.filter=e.query,this.exService.getAppUserLookup(i).subscribe(function(e){t.AllUsers=e.items})}},{key:"onSelect",value:function(e){}},{key:"onClear",value:function(){this.form.reset(),this.form.get("hasNote").setValue(!1)}},{key:"searchType",value:function(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)?"text":"search"}},{key:"get",value:function(){this.search()}},{key:"startSearchCoordinators",value:function(e){var t=this,i=Object.assign({},this.form.value);i.coachAppUserId&&i.coachAppUserId.id&&(i.coachAppUserId=i.coachAppUserId.id),this.coordinatorService.getCoordinatorsGeneralLookup({filterText:e.query,coachAppUserId:i.coachAppUserId,maxResultCount:void 0,skipCount:void 0}).subscribe(function(e){t.AllCoordinators=e.items})}},{key:"onSelectCoordinator",value:function(e){this.SelectedCoordinatorId=e.appUserId}},{key:"onClearCoordinator",value:function(){this.SelectedCoordinatorId=void 0,this.form.controls.balance.setValue(void 0)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.Y36(Je.J),b.Y36(Me.JL),b.Y36(ve.q),b.Y36(T.R),b.Y36(s.$AH),b.Y36(x.v),b.Y36(Ye.$),b.Y36(y.u),b.Y36(Pe.F),b.Y36(L.G),b.Y36(s.oQ8),b.Y36(q.qu),b.Y36(X.k4))},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-host-dashboard"]],decls:22,vars:15,consts:[["class","alert alert-primary text-center",4,"ngIf"],[1,"card","bg-transparent","no-shadow"],[1,"card-header","px-0"],[1,"row","align-items-center"],[1,"col-lg-auto","col-md-12"],[1,"mb-lg-0"],[1,"col-xl-7","col-md-6"],[4,"ngIf"],[1,"col-lg","col-md-6"],[1,"text-lg-right","pt-2"],[1,"custom-control","custom-switch"],["type","checkbox","id","customSwitch5",1,"custom-control-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","customSwitch5",1,"custom-control-label"],[1,""],["id","advanced-content-filters",3,"ngbCollapse"],["validateOnSubmit","",3,"formGroup","ngSubmit",4,"ngIf"],[3,"traineeType","traineeCountChanged",4,"ngIf"],[1,"alert","alert-primary","text-center"],[1,"text-truncate"],["routerLinkActive","router-link-active",1,"btn","btn-success","btn-sm",3,"routerLink"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"card","mb-4"],[1,"card-body"],[1,"row"],[1,"col-12","col-md-4"],[1,"form-group"],["for","filterTextFilter"],["id","filterTextFilter","formControlName","filterText","maxlength","100",1,"form-control",3,"placeholder"],["filterTextControl",""],["class","col-12 col-md-4",4,"ngIf"],["formControlName","hasExerciseDay","id","HasExerciseDay","type","checkbox",1,"custom-control-input"],["for","HasExerciseDay",1,"custom-control-label"],["formControlName","hasNutritionDay","id","HasNutritionDay","type","checkbox",1,"custom-control-input"],["for","HasNutritionDay",1,"custom-control-label"],["class","div col-12 col-md-4",4,"ngIf"],[1,"col-md-12","align-self-end","mb-3"],[1,"col"],[1,"col-auto"],["type","button",1,"btn","btn-outline-primary","btn-block",3,"click"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],[2,"display","block"],["id","coachAppUserId","name","coachAppUserId","formControlName","coachAppUserId","dataKey","id","field","displayName","forceSelection","true",1,"",3,"suggestions","type","dropdown","placeholder","onClear","completeMethod","search"],["for","app-user-coach-app-user-id"],["id","coordinatorAppUserId","name","coordinatorAppUserId","formControlName","coordinatorAppUserId","dataKey","appUserId","field","name","forceSelection","true",3,"suggestions","type","dropdown","onClear","completeMethod","search","onSelect"],[1,"div","col-12","col-md-4"],["formControlName","hasNote","id","customstatusSwitch1","type","checkbox",1,"custom-control-input"],["for","customstatusSwitch1",1,"custom-control-label"],["formControlName","commitmentGeneral",3,"range","min","max"],["formControlName","commitmentExercise",3,"range","min","max"],["formControlName","commitmentNutrition",3,"range","min","max"],[3,"traineeType","traineeCountChanged"]],template:function(e,t){1&e&&(b.YNc(0,ut,4,4,"div",0),b.TgZ(1,"div",1),b.TgZ(2,"div",2),b.TgZ(3,"div",3),b.TgZ(4,"div",4),b.TgZ(5,"h3",5),b._uU(6),b.ALo(7,"abpLocalization"),b.qZA(),b.qZA(),b.TgZ(8,"div",6),b.YNc(9,pt,4,5,"div",7),b.qZA(),b.TgZ(10,"div",8),b.TgZ(11,"div",9),b.TgZ(12,"div",10),b.TgZ(13,"input",11),b.NdJ("ngModelChange",function(e){return t.showFilter=e}),b.qZA(),b.TgZ(14,"label",12),b._uU(15),b.ALo(16,"abpLocalization"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(17,"div",13),b.TgZ(18,"div",14),b.YNc(19,bt,45,25,"form",15),b.qZA(),b.YNc(20,At,1,1,"trainees-table",16),b.YNc(21,xt,1,0,"trainees-simple-list",7),b.qZA(),b.qZA()),2&e&&(b.Q6J("ngIf",t.lastSubscriptionEndDateRemaining>0&&!t.disablePayment),b.xp6(6),b.Oqu(b.lcZ(7,10,"::ProgressReport")),b.xp6(3),b.Q6J("ngIf",!t.isSimple),b.xp6(4),b.Q6J("ngModel",t.showFilter)("ngModelOptions",b.DdM(14,yt)),b.xp6(2),b.Oqu(b.lcZ(16,12,"::SeeAdvancedFilters")),b.xp6(3),b.Q6J("ngbCollapse",t.isFiltersHidden),b.xp6(1),b.Q6J("ngIf",t.form),b.xp6(1),b.Q6J("ngIf",!t.isSimple),b.xp6(1),b.Q6J("ngIf",t.isSimple))},directives:[k.O5,q.Wl,q.JJ,q.On,ee.m,l._D,A.yS,A.Od,q._Y,q.JL,s.YzZ,q.sg,r.hL,q.Fj,q.u,r.J5,q.nD,Qe.Qc,ct.iR,Fe.a,lt.F,ze.r],pipes:[s.fuE],styles:[".input-group-text.border[_ngcontent-%COMP%]{border-top-width:2px!important;border-bottom-width:2px!important;border-left-width:1px!important}"]}),e}(),qt=a(40878),Ct=a(71149),It=a(89486),Lt=a(28157),kt=a(17647),wt=a(38749),Ut=a(6194),Nt=a(2343),_t=a(80652);function Ot(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"button",34),b.NdJ("click",function(){b.CHM(i);var e=b.oxw().row;return b.oxw().goToChat(e)}),b._UZ(1,"i",35),b.qZA()}}function Jt(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"button",24),b.NdJ("click",function(){b.CHM(i);var e=b.oxw().row;return b.oxw().goToChat(e)}),b._UZ(1,"i",35),b._uU(2),b.ALo(3,"abpLocalization"),b.qZA()}2&e&&(b.xp6(2),b.hij(" ",b.lcZ(3,1,"::StartSend")," "))}var Mt=function(e){return{attachmentId:e,entity:"TraineeProfile"}};function Yt(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"span",12),b._uU(1),b.qZA(),b.TgZ(2,"div",13),b.TgZ(3,"div",14),b.NdJ("click",function(){var e=b.CHM(i).row;return b.oxw().view(e,1)}),b._UZ(4,"img",15),b.ALo(5,"async"),b.ALo(6,"imgdownload"),b.qZA(),b.TgZ(7,"div",16),b.TgZ(8,"div",17),b.TgZ(9,"div",18),b.NdJ("click",function(){var e=b.CHM(i).row;return b.oxw().view(e,1)}),b._uU(10),b.qZA(),b.TgZ(11,"div",19),b.YNc(12,Ot,2,0,"button",20),b.TgZ(13,"div",21),b._UZ(14,"button",22),b.TgZ(15,"div",23),b.TgZ(16,"button",24),b.NdJ("click",function(){var e=b.CHM(i).row;return b.oxw().openModal1(e)}),b._UZ(17,"i",25),b._uU(18),b.ALo(19,"abpLocalization"),b.qZA(),b.TgZ(20,"button",24),b.NdJ("click",function(){var e=b.CHM(i).row;return b.oxw().view(e,1)}),b._UZ(21,"i",26),b._uU(22),b.ALo(23,"abpLocalization"),b.qZA(),b.TgZ(24,"button",24),b.NdJ("click",function(){var e=b.CHM(i).row;return b.oxw().view(e,2)}),b._UZ(25,"i",27),b._uU(26),b.ALo(27,"abpLocalization"),b.qZA(),b.TgZ(28,"button",24),b.NdJ("click",function(){var e=b.CHM(i).row;return b.oxw().view(e,3)}),b._UZ(29,"i",28),b._uU(30),b.ALo(31,"abpLocalization"),b.qZA(),b.TgZ(32,"button",24),b.NdJ("click",function(){var e=b.CHM(i).row;return b.oxw().view(e,4)}),b._UZ(33,"i",29),b._uU(34),b.ALo(35,"abpLocalization"),b.qZA(),b.TgZ(36,"button",24),b.NdJ("click",function(){var e=b.CHM(i).row;return b.oxw().view(e,5)}),b._UZ(37,"i",30),b._uU(38),b.ALo(39,"abpLocalization"),b.qZA(),b.TgZ(40,"button",24),b.NdJ("click",function(){var e=b.CHM(i).row;return b.oxw().view(e,6)}),b._UZ(41,"i",31),b._uU(42),b.ALo(43,"abpLocalization"),b.qZA(),b.TgZ(44,"button",24),b.NdJ("click",function(){var e=b.CHM(i).row;return b.oxw().view(e,7)}),b._UZ(45,"i",32),b._uU(46),b.ALo(47,"abpLocalization"),b.qZA(),b.YNc(48,Jt,4,3,"button",33),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()}if(2&e){var n=t.row,o=b.oxw();b.xp6(1),b.hij(" ",n.id," "),b.xp6(3),b.Q6J("src",b.lcZ(5,13,b.lcZ(6,15,b.VKq(33,Mt,n.photoAttachmentId))),b.LSH),b.xp6(6),b.hij(" ",n.name," "),b.xp6(2),b.Q6J("ngIf",!o.isAdmin),b.xp6(6),b.hij(" ",b.lcZ(19,17,"::OverView")," "),b.xp6(4),b.hij(" ",b.lcZ(23,19,"::View")," "),b.xp6(4),b.hij(" ",b.lcZ(27,21,"::DailyFollowup")," "),b.xp6(4),b.hij(" ",b.lcZ(31,23,"::TrainingProgram")," "),b.xp6(4),b.hij(" ",b.lcZ(35,25,"::NutritionalProgram")," "),b.xp6(4),b.hij(" ",b.lcZ(39,27,"::Progress")," "),b.xp6(4),b.hij(" ",b.lcZ(43,29,"::TraineeSubscriptions")," "),b.xp6(4),b.hij(" ",b.lcZ(47,31,"::AssingHistory")," "),b.xp6(2),b.Q6J("ngIf",!o.isAdmin)}}function Pt(e,t){1&e&&(b.TgZ(0,"span"),b._uU(1),b.ALo(2,"abpLocalization"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"::Updated")," "))}var Dt=function(e){return[e]};function Ft(e,t){if(1&e&&(b.TgZ(0,"span"),b.TgZ(1,"span",38),b._uU(2),b.YNc(3,Pt,3,3,"span",36),b.qZA(),b.TgZ(4,"div",39),b._uU(5),b.ALo(6,"abpLocalization"),b.qZA(),b._UZ(7,"br"),b.qZA()),2&e){var i=b.oxw(2).row;b.xp6(1),b.Q6J("routerLink",b.VKq(7,Dt,"/exercise-programs/"+i.exerciseProgramId)),b.xp6(1),b.hij(" ",i.exerciseProgramName," "),b.xp6(1),b.Q6J("ngIf",i.exerciseTags),b.xp6(2),b.AsE(" ",i.exerciseProgramRemaining," ",b.lcZ(6,5,"::ADay")," ")}}function Qt(e,t){if(1&e&&(b.TgZ(0,"span"),b.TgZ(1,"span"),b.TgZ(2,"span",38),b._uU(3),b.qZA(),b.qZA(),b.TgZ(4,"div",40),b._uU(5),b.ALo(6,"abpLocalization"),b.qZA(),b._UZ(7,"br"),b.qZA()),2&e){var i=b.oxw(3).row;b.xp6(2),b.Q6J("routerLink",b.VKq(5,Dt,"/exercise-programs/"+i.exerciseProgramId)),b.xp6(1),b.hij(" ",i.exerciseProgramName," "),b.xp6(2),b.hij(" ",b.lcZ(6,3,"::Suggested")," ")}}function zt(e,t){1&e&&(b.TgZ(0,"span"),b.TgZ(1,"span",41),b._uU(2),b.ALo(3,"abpLocalization"),b.qZA(),b._UZ(4,"br"),b.qZA()),2&e&&(b.xp6(2),b.Oqu(b.lcZ(3,1,"::NotFound")))}function jt(e,t){if(1&e&&(b.TgZ(0,"span"),b.TgZ(1,"span",38),b._uU(2),b.qZA(),b.TgZ(3,"div",42),b._uU(4),b.ALo(5,"abpLocalization"),b.qZA(),b._UZ(6,"br"),b.qZA()),2&e){var i=b.oxw(3).row;b.xp6(1),b.Q6J("routerLink",b.VKq(5,Dt,"/exercise-programs/"+i.exerciseProgramId)),b.xp6(1),b.hij(" ",i.exerciseProgramName," "),b.xp6(2),b.hij(" ",b.lcZ(5,3,"::Scheduled")," ")}}function Et(e,t){if(1&e&&(b.TgZ(0,"span"),b.YNc(1,Qt,8,7,"span",36),b.YNc(2,zt,5,3,"span",36),b.YNc(3,jt,7,7,"span",36),b.qZA()),2&e){var i=b.oxw(2).row,n=b.oxw();b.xp6(1),b.Q6J("ngIf",i.exerciseProgramStatus==n.DashboardProgramStatus.Suggested),b.xp6(1),b.Q6J("ngIf",i.exerciseProgramStatus===n.DashboardProgramStatus.Required),b.xp6(1),b.Q6J("ngIf",i.exerciseProgramStatus===n.DashboardProgramStatus.Scheduled)}}function Gt(e,t){if(1&e&&(b.TgZ(0,"span"),b.TgZ(1,"span"),b._UZ(2,"i",37),b.qZA(),b.YNc(3,Ft,8,9,"span",36),b.YNc(4,Et,4,3,"span",36),b.qZA()),2&e){var i=b.oxw().row,n=b.oxw();b.xp6(3),b.Q6J("ngIf",i.exerciseProgramStatus==n.DashboardProgramStatus.Assigned),b.xp6(1),b.Q6J("ngIf",i.exerciseProgramStatus!==n.DashboardProgramStatus.Assigned)}}function Ht(e,t){if(1&e&&(b.TgZ(0,"div"),b.YNc(1,Gt,5,2,"span",36),b.qZA()),2&e){var i=t.row,n=b.oxw();b.xp6(1),b.Q6J("ngIf",n.isExerciseType(i))}}function Rt(e,t){1&e&&(b.TgZ(0,"span"),b._uU(1),b.ALo(2,"abpLocalization"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"::Updated")," "))}function Vt(e,t){if(1&e&&(b.TgZ(0,"span"),b.TgZ(1,"span",38),b._uU(2),b.YNc(3,Rt,3,3,"span",36),b.qZA(),b.TgZ(4,"div",39),b._uU(5),b.ALo(6,"abpLocalization"),b.qZA(),b._UZ(7,"br"),b.qZA()),2&e){var i=b.oxw(2).row;b.xp6(1),b.Q6J("routerLink",b.VKq(7,Dt,"/nutrition-programs/"+i.nutritionProgramId)),b.xp6(1),b.hij(" ",i.nutritionProgramName," "),b.xp6(1),b.Q6J("ngIf",i.nutritionTags),b.xp6(2),b.AsE(" ",i.nutritionProgramRemaining," ",b.lcZ(6,5,"::ADay")," ")}}function Wt(e,t){if(1&e&&(b.TgZ(0,"span"),b.TgZ(1,"span",38),b._uU(2),b.qZA(),b.TgZ(3,"div",40),b._uU(4),b.ALo(5,"abpLocalization"),b.qZA(),b._UZ(6,"br"),b.qZA()),2&e){var i=b.oxw(3).row;b.xp6(1),b.Q6J("routerLink",b.VKq(5,Dt,"/nutrition-programs/"+i.nutritionProgramId)),b.xp6(1),b.hij(" ",i.nutritionProgramName," "),b.xp6(2),b.hij(" ",b.lcZ(5,3,"::Suggested")," ")}}function Kt(e,t){1&e&&(b.TgZ(0,"span"),b.TgZ(1,"span",41),b._uU(2),b.ALo(3,"abpLocalization"),b.qZA(),b._UZ(4,"br"),b.qZA()),2&e&&(b.xp6(2),b.Oqu(b.lcZ(3,1,"::NotFound")))}function $t(e,t){if(1&e&&(b.TgZ(0,"span"),b.TgZ(1,"span",38),b._uU(2),b.qZA(),b.TgZ(3,"div",42),b._uU(4),b.ALo(5,"abpLocalization"),b.qZA(),b._UZ(6,"br"),b.qZA()),2&e){var i=b.oxw(3).row;b.xp6(1),b.Q6J("routerLink",b.VKq(5,Dt,"/nutrition-programs/"+i.nutritionProgramId)),b.xp6(1),b.hij(" ",i.nutritionProgramName," "),b.xp6(2),b.hij(" ",b.lcZ(5,3,"::Scheduled")," ")}}function Bt(e,t){if(1&e&&(b.TgZ(0,"span"),b.YNc(1,Wt,7,7,"span",36),b.YNc(2,Kt,5,3,"span",36),b.YNc(3,$t,7,7,"span",36),b.qZA()),2&e){var i=b.oxw(2).row,n=b.oxw();b.xp6(1),b.Q6J("ngIf",i.nutritionProgramStatus==n.DashboardProgramStatus.Suggested),b.xp6(1),b.Q6J("ngIf",i.nutritionProgramStatus===n.DashboardProgramStatus.Required),b.xp6(1),b.Q6J("ngIf",i.nutritionProgramStatus==n.DashboardProgramStatus.Scheduled)}}function Xt(e,t){if(1&e&&(b.TgZ(0,"span"),b.TgZ(1,"span"),b._UZ(2,"i",43),b.qZA(),b.YNc(3,Vt,8,9,"span",36),b.YNc(4,Bt,4,3,"span",36),b.qZA()),2&e){var i=b.oxw().row,n=b.oxw();b.xp6(3),b.Q6J("ngIf",i.nutritionProgramStatus==n.DashboardProgramStatus.Assigned),b.xp6(1),b.Q6J("ngIf",i.nutritionProgramStatus!==n.DashboardProgramStatus.Assigned)}}function ei(e,t){if(1&e&&(b.TgZ(0,"div"),b.YNc(1,Xt,5,2,"span",36),b.qZA()),2&e){var i=t.row,n=b.oxw();b.xp6(1),b.Q6J("ngIf",n.isNutritionType(i))}}function ti(e,t){1&e&&(b.TgZ(0,"h3"),b._uU(1),b.ALo(2,"abpLocalization"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"::OverView")," "))}function ii(e,t){if(1&e&&(b._UZ(0,"trainee-profile-info",44),b._UZ(1,"agent-statistics",44)),2&e){var i=b.oxw();b.Q6J("traineeId",i.traineeId)("readonly",!0),b.xp6(1),b.Q6J("traineeId",i.traineeId)("readonly",!0)}}function ni(e,t){1&e&&(b.TgZ(0,"div",45),b._UZ(1,"div",16),b._UZ(2,"div",16),b.qZA())}var oi=function(e){return{emptyMessage:e}},ai=function(){var e=function(){function e(t,i,n,a,r,s,c,l,u,d,p,g,m,h,f,Z,v){o(this,e),this.list=t,this.coordinatorService=i,this.traineeService=n,this.service=a,this.statusService=r,this.dateService=s,this.localCacheService=c,this.permissionService=l,this.environment=u,this._attachmentService=d,this.sessionExtraInfoService=p,this.assignNutritionProgramService=g,this.assignExerciseProgramService=m,this.assignedExerciseProgramService=h,this.fb=f,this.toaster=Z,this.router=v,this.data={items:[{}],totalCount:1},this.Gender=G.Y0,this.traineeSubscriptionStatus=G.Nd,this.traineeCountChanged=new b.vpe,this.PackageTypes=G.ij,this.pageKey="simple",this.isLoading=!0,this.isCoordinator=!0,this.isAdmin=!0,this.DashboardProgramStatus=G.LI,this.isModal1Open=!1,this.isModal2Open=!1,this.checkedItems=[]}return n(e,[{key:"ngOnDestroy",value:function(){this.statusService.saveQuery(this.pageKey,this.lastQuery),this.statusService.savePage(this.pageKey,this.list.page)}},{key:"ngOnInit",value:function(){var e=this;this.assignExerciseProgramService.onGetAssignDate.subscribe(function(t){return e.getExerciseAssignDate(t)}),this.assignNutritionProgramService.onGetAssignDate.subscribe(function(t){return e.getNutritionAssignDate(t)}),this.assignExerciseProgramService.onAssigned.subscribe(function(t){return e.autoAssigneDone()}),this.assignNutritionProgramService.onAssigned.subscribe(function(t){return e.autoAssigneDone()}),this.lastQueryToGet=e.statusService.getQuery(e.pageKey),this.sessionExtraInfoService.whoAmI(function(t){e.isCoordinator=t.userType===G.bZ.Coordinator,e.isAdmin=t.userType===G.bZ.Admin}),this.input={},this.service.traineeFilter2.subscribe(function(t){e.input=Object.assign(Object.assign(Object.assign({},t),e.input),t),e.list.get()}),this.getList()}},{key:"getList",value:function(){var e=this,t=this;this.list.hookToQuery(function(i){e.lastQueryToGet&&(i.skipCount=t.lastQueryToGet.skipCount,t.lastQueryToGet=void 0,t.list.page=t.statusService.getPage(t.pageKey)),t.lastQuery=i;var n=Object.assign(Object.assign({},i),t.input);if(void 0===n.traineePaid)return(0,qt.of)(t.data);var o="traineelist_".concat(JSON.stringify(n));return t.traineeService.getSimpleList2(n).pipe((0,Ne.z)(t.localCacheService,o,60)).pipe((0,H.x)(function(){e.isLoading=!1,e.checkedItems=[]}))}).subscribe(function(i){t.data=i,t.data.items.forEach(function(e){t.service.enqueCachedItem(e.id)}),e.traineeCountChanged.next(t.data.totalCount)})}},{key:"view",value:function(e,t){var i=new Date;this.router.navigate(["trainees/details",e.id,i.getDate(),i.getMonth(),i.getFullYear()],{queryParams:{tab:t}})}},{key:"isCurrentUserAdmin",get:function(){return this.permissionService.getGrantedPolicy("PhysicAdmin")}},{key:"getDays",value:function(e){if(!e)return"";var t=new Date(e).getTime()-(new Date).getTime();return t<0?"":Math.ceil(t/864e5)+""}},{key:"isWaitingAutomation",value:function(e){return e.subscriptionProcessStatus===G.VI.New}},{key:"isExerciseType",value:function(e){return 22!=e.packageType}},{key:"isNutritionType",value:function(e){return 21!=e.packageType}},{key:"autoAssignExercise",value:function(e){}},{key:"autoAssignNutrition",value:function(e){}},{key:"autoAssigneDone",value:function(){var e=this;this.clearStorage(),this.localCacheService.tempDisable(60),setTimeout(function(){e.list.get()},100)}},{key:"clearStorage",value:function(){for(var e in console.log("clearing storage"),this.localCacheService.clearAll(),localStorage)e.startsWith("assinged_")&&localStorage.removeItem(e)}},{key:"openModal1",value:function(e){this.traineeId=e.id,this.isModal1Open=!0}},{key:"openModal2",value:function(e){this.traineeId=e.id,this.isModal2Open=!0}},{key:"goToChat",value:function(e){var t=this;this.traineeId=e.id,this.traineeService.getTraineeProfileSummaryById(this.traineeId).subscribe(function(e){t.router.navigate(["/chat-rooms"],{queryParams:{"rooms-id":e.chatRoomId}})})}},{key:"startSearchProgram",value:function(e,t){var i=this,n={};n.filter=e.query,n.intensityLevel=t.intensityLevel,n.maxResultCount=50,n.traineeId=t.id,this.assignedExerciseProgramService.getExerciseProgramLookup(n).subscribe(function(e){i.AllPrograms=e.items})}},{key:"onSelect",value:function(e){}},{key:"onClear",value:function(){}},{key:"searchType",value:function(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)?"text":"search"}},{key:"isChecked",value:function(e){return this.checkedItems.filter(function(e){return e.isSelected}).some(function(t){return t.id===e})}},{key:"CheckChange",value:function(e,t,i,n){t!==this.isChecked(e.id)&&(t?(this.checkedItems.push({id:e.id,startSateTraining:null,startSateNutrition:null,row:e,isSelected:!0}),i.getAssignDate(e.id,e.exerciseProgramRemaining),n.getAssignDate(e.id,e.nutritionProgramRemaining)):this.checkedItems.forEach(function(t){t.id===e.id&&(t.isSelected=!1)}))}},{key:"getExerciseAssignDate",value:function(e){this.isChecked(e.id)&&this.checkedItems.forEach(function(t){t.id===e.id&&(t.startSateTraining=e.dateString)})}},{key:"getNutritionAssignDate",value:function(e){this.isChecked(e.id)&&this.checkedItems.forEach(function(t){t.id===e.id&&(t.startSateNutrition=e.dateString)})}},{key:"isThereSomeSelectedItems",value:function(){return this.checkedItems.some(function(e){return e.isSelected})}},{key:"isNotReadyToAssign",value:function(e){return this.checkedItems.some(e?function(e){return e.isSelected&&!e.startSateTraining}:function(e){return e.isSelected&&!e.startSateNutrition})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.Y36(s.XNV),b.Y36(ve.q),b.Y36(Lt.s),b.Y36(Je.J),b.Y36(Ye.$),b.Y36(T.R),b.Y36(Pe.F),b.Y36(s.$AH),b.Y36(s.L$R),b.Y36(I.L),b.Y36(L.G),b.Y36(Ct.v),b.Y36(It.I),b.Y36(Me.RT),b.Y36(q.qu),b.Y36(c.MJ),b.Y36(A.F0))},e.\u0275cmp=b.Xpm({type:e,selectors:[["trainees-simple-list-2"]],outputs:{traineeCountChanged:"traineeCountChanged"},features:[b._Bn([s.XNV,T.R,Ct.v,It.I])],decls:21,vars:20,consts:[[1,"trainee-simple-list","fade-in-animation"],["default","",1,"app-dataview",3,"count","headerHeight","list","messages","rows"],["prop","traineeSubscription.paidPrice","minWidth","50","width","50",3,"name"],["ngx-datatable-cell-template",""],["cellClass","action-items","minWidth","50","width","50",3,"name","sortable"],[3,"onAssigned"],["assignE",""],["assignN",""],["size","xl",3,"visible","visibleChange"],["abpHeader",""],["abpBody",""],["class","d-flex alert alert-primary footer-primary",4,"ngIf"],[1,"id-icon","bg-primary"],[1,"row","no-gutters","align-items-center","cursor-pointer"],[1,"col-auto",3,"click"],["alt","","onerror","this.src='../../../../../assets/avatar.jpg'",1,"s-icon-lg",3,"src"],[1,"col"],[1,"row"],[1,"col","px-4",3,"click"],[1,"col-12"],["class","btn btn-link p-0 primary-b",3,"click",4,"ngIf"],["ngbDropdown","","container","body",1,"d-inline-block",2,"margin-left","0px","margin-right","auto","border","none"],["data-toggle","dropdown","aria-haspopup","true","ngbDropdownToggle","",1,"btn","btn-sm","btn-link",2,"color","#fdb915"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],[1,"fas","fa-eye","m-2"],[1,"fas","fa-info","m-2"],[1,"fas","fa-redo","m-2"],[1,"fas","fa-dumbbell","m-2"],[1,"fas","fa-apple-alt","m-2"],[1,"fas","fa-flag","m-2"],[1,"fa","fa-money-check-alt","m-2"],[1,"fas","fa-clock","m-2"],["ngbDropdownItem","",3,"click",4,"ngIf"],[1,"btn","btn-link","p-0","primary-b",3,"click"],[1,"fas","fa-comments","m-2"],[4,"ngIf"],[1,"fa","fa-dumbbell","text-muted"],[1,"btn","btn-link","btn-sm",3,"routerLink"],[1,"badge","badge-info"],[1,"badge","badge-warning"],[1,"m-2"],[1,"badge","badge-warning","m-2"],[1,"fa","fa-apple-alt","text-muted"],[3,"traineeId","readonly"],[1,"d-flex","alert","alert-primary","footer-primary"]],template:function(e,t){1&e&&(b.TgZ(0,"div",0),b.TgZ(1,"ngx-datatable",1),b.TgZ(2,"ngx-datatable-column",2),b.ALo(3,"abpLocalization"),b.YNc(4,Yt,49,35,"ng-template",3),b.qZA(),b.TgZ(5,"ngx-datatable-column",4),b.ALo(6,"abpLocalization"),b.YNc(7,Ht,2,1,"ng-template",3),b.qZA(),b.TgZ(8,"ngx-datatable-column",4),b.ALo(9,"abpLocalization"),b.YNc(10,ei,2,1,"ng-template",3),b.qZA(),b.qZA(),b.TgZ(11,"app-assign-exercise-program-to-user",5,6),b.NdJ("onAssigned",function(){return t.autoAssigneDone()}),b.qZA(),b.TgZ(13,"app-assign-nutrition-program",5,7),b.NdJ("onAssigned",function(){return t.autoAssigneDone()}),b.qZA(),b.TgZ(15,"abp-modal",8),b.NdJ("visibleChange",function(e){return t.isModal1Open=e}),b.YNc(16,ti,3,3,"ng-template",null,9,b.W1O),b.YNc(18,ii,2,4,"ng-template",null,10,b.W1O),b.qZA(),b.YNc(20,ni,3,0,"div",11),b.qZA()),2&e&&(b.xp6(1),b.Q6J("count",t.data.totalCount)("headerHeight",0)("list",t.list)("messages",b.VKq(18,oi,t.isLoading?'<div class="loader"><div></div></div>':'<div class="data-empty"></div>'))("rows",t.data.items),b.xp6(1),b.s9C("name",b.lcZ(3,12,"::Name")),b.xp6(3),b.Q6J("name",b.lcZ(6,14,"::Actions"))("sortable",!1),b.xp6(3),b.Q6J("name",b.lcZ(9,16,"::Actions"))("sortable",!1),b.xp6(7),b.Q6J("visible",t.isModal1Open),b.xp6(5),b.Q6J("ngIf",t.isThereSomeSelectedItems()))},directives:[kt.nE,c.x7,c.j3,kt.UC,kt.vq,wt.K,Ut.v,c.zS,k.O5,l.jt,l.iD,l.Vi,l.TH,A.rH,Nt.a,_t.Q],pipes:[s.fuE,k.Ov,w.H],styles:[".s-icon-lg[_ngcontent-%COMP%]{width:58px;height:58px;border-radius:50%;-o-object-fit:cover;object-fit:cover;padding:2px}@media (max-width:992px){.s-icon-lg[_ngcontent-%COMP%]{width:45px;height:45px}}.badge-warning[_ngcontent-%COMP%]{color:#fff}@media screen and (min-width:769px){.dv-details[_ngcontent-%COMP%]{font-size:.85rem!important}}  .trainee-simple-list .datatable-body-row{padding:4px 0!important}  .trainee-simple-list .datatable-row-center .datatable-body-cell-label:first-child{display:flex;width:100%}.btn-info[_ngcontent-%COMP%]{color:#fff}.primary-b[_ngcontent-%COMP%]{color:#868282}  .trainee-simple-list .datatable-body-cell-label .id-icon{top:-19px}  .trainee-simple-list .datatable-body-cell-label .dropdown-toggle:empty:after{font-size:large;margin-top:8px}.footer-primary[_ngcontent-%COMP%]{position:fixed;bottom:0;z-index:100;right:25vw;width:auto;width:50vw;margin-bottom:10px}@media (max-width:991px){.footer-primary[_ngcontent-%COMP%]{right:5vw;width:90vw}}"]}),e}();function ri(e,t){if(1&e&&(b.TgZ(0,"div",19),b.TgZ(1,"span",20),b._uU(2),b.ALo(3,"abpLocalization"),b.qZA(),b.TgZ(4,"a",21),b._uU(5),b.ALo(6,"abpLocalization"),b.qZA(),b.qZA()),2&e){var i=b.oxw();b.xp6(2),b.Oqu(b.xi3(3,2,"::LastSubscriptionEndDateRemaining",i.lastSubscriptionEndDateRemaining.toString())),b.xp6(3),b.Oqu(b.lcZ(6,5,"::ClickHere"))}}function si(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"button",22),b.NdJ("click",function(){return b.CHM(i),b.oxw(),b.MAs(28).open()}),b._UZ(1,"i",23),b.qZA()}}function ci(e,t){if(1&e&&(b.TgZ(0,"span",44),b._uU(1),b.qZA()),2&e){var i=b.oxw(2);b.xp6(1),b.Oqu(null==i.summary?null:i.summary.allCount)}}function li(e,t){if(1&e&&(b.TgZ(0,"span",44),b._uU(1),b.qZA()),2&e){var i=b.oxw(2);b.xp6(1),b.Oqu(null==i.summary?null:i.summary.waitingAllCount)}}function ui(e,t){if(1&e&&(b.TgZ(0,"span",44),b._uU(1),b.qZA()),2&e){var i=b.oxw(2);b.xp6(1),b.Oqu(null==i.summary?null:i.summary.waitingExerciseCount)}}function di(e,t){if(1&e&&(b.TgZ(0,"span",44),b._uU(1),b.qZA()),2&e){var i=b.oxw(2);b.xp6(1),b.Oqu(null==i.summary?null:i.summary.waitingNutritionCount)}}function pi(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"div",45),b.TgZ(1,"div",29),b.TgZ(2,"label",46),b._uU(3),b.ALo(4,"abpLocalization"),b.qZA(),b.TgZ(5,"p-autoComplete",47),b.NdJ("onClear",function(){return b.CHM(i),b.oxw(2).onClear()})("completeMethod",function(e){return b.CHM(i),b.oxw(2).startSearchUser(e)})("search",function(e){return b.CHM(i),b.oxw(2).startSearchUser(e)}),b.qZA(),b.qZA(),b.qZA()}if(2&e){var n=b.oxw(2);b.xp6(3),b.hij(" ",b.lcZ(4,4,"::CoachName")," "),b.xp6(2),b.Q6J("suggestions",n.AllCoaches)("type",n.searchType())("dropdown",!0)}}function gi(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"div",45),b.TgZ(1,"div",29),b.TgZ(2,"label",48),b._uU(3),b.ALo(4,"abpLocalization"),b.qZA(),b.TgZ(5,"p-autoComplete",49),b.NdJ("onClear",function(){return b.CHM(i),b.oxw(2).onClearCoordinator()})("completeMethod",function(e){return b.CHM(i),b.oxw(2).startSearchCoordinators(e)})("search",function(e){return b.CHM(i),b.oxw(2).startSearchCoordinators(e)})("onSelect",function(e){return b.CHM(i),b.oxw(2).onSelectCoordinator(e)}),b.qZA(),b.qZA(),b.qZA()}if(2&e){var n=b.oxw(2);b.xp6(3),b.hij(" ",b.lcZ(4,4,"::CoordinatorName")," "),b.xp6(2),b.Q6J("suggestions",n.AllCoordinators)("type",n.searchType())("dropdown",!0)}}function mi(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"form",24),b.NdJ("ngSubmit",function(){return b.CHM(i),b.oxw().get()}),b.TgZ(1,"div",25),b.TgZ(2,"div",26),b.TgZ(3,"div",27),b.TgZ(4,"div",28),b.TgZ(5,"div",29),b.TgZ(6,"label",30),b._uU(7),b.ALo(8,"abpLocalization"),b.qZA(),b._UZ(9,"input",31,32),b.ALo(11,"abpLocalization"),b.qZA(),b.qZA(),b.TgZ(12,"div",33),b.TgZ(13,"div",34),b.TgZ(14,"div",35),b.NdJ("click",function(){b.CHM(i);var e=b.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.All}),b._uU(15),b.ALo(16,"abpLocalization"),b.YNc(17,ci,2,1,"span",36),b.qZA(),b.TgZ(18,"div",35),b.NdJ("click",function(){b.CHM(i);var e=b.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.WaitingAll}),b._uU(19),b.ALo(20,"abpLocalization"),b.YNc(21,li,2,1,"span",36),b.qZA(),b.TgZ(22,"div",35),b.NdJ("click",function(){b.CHM(i);var e=b.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.WaitingExercise}),b._uU(23),b.ALo(24,"abpLocalization"),b.YNc(25,ui,2,1,"span",36),b.qZA(),b.TgZ(26,"div",35),b.NdJ("click",function(){b.CHM(i);var e=b.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.WaitingNutrition}),b._uU(27),b.ALo(28,"abpLocalization"),b.YNc(29,di,2,1,"span",36),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(30,"div",37),b.TgZ(31,"div",38),b.TgZ(32,"div",39),b.TgZ(33,"div",27),b.YNc(34,pi,6,6,"div",40),b.YNc(35,gi,6,6,"div",40),b.TgZ(36,"div",41),b.TgZ(37,"div",27),b._UZ(38,"div",28),b.TgZ(39,"div",33),b.TgZ(40,"button",42),b.NdJ("click",function(){return b.CHM(i),b.oxw().clearFilters()}),b.TgZ(41,"span"),b._uU(42),b.ALo(43,"abpLocalization"),b.qZA(),b.qZA(),b.qZA(),b.TgZ(44,"div",33),b.TgZ(45,"button",43),b.NdJ("click",function(){return b.CHM(i),b.oxw().get()}),b.TgZ(46,"span"),b._uU(47),b.ALo(48,"abpLocalization"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()}if(2&e){var n=b.oxw();b.Q6J("formGroup",n.form),b.xp6(7),b.hij(" ",b.lcZ(8,24,"::SearchFor")," "),b.xp6(2),b.s9C("placeholder",b.lcZ(11,26,"::Search")),b.xp6(5),b.ekj("active",n.simpleStatus===n.SimpleTraineeSubscriptionStatus.All),b.xp6(1),b.hij(" ",b.lcZ(16,28,"::All")," "),b.xp6(2),b.Q6J("ngIf",null==n.summary?null:n.summary.allCount),b.xp6(1),b.ekj("active",n.simpleStatus===n.SimpleTraineeSubscriptionStatus.WaitingAll),b.xp6(1),b.hij(" ",b.lcZ(20,30,"::NewTrainees")," "),b.xp6(2),b.Q6J("ngIf",null==n.summary?null:n.summary.waitingAllCount),b.xp6(1),b.ekj("active",n.simpleStatus===n.SimpleTraineeSubscriptionStatus.WaitingExercise),b.xp6(1),b.hij(" ",b.lcZ(24,32,"::WaitingExercise")," "),b.xp6(2),b.Q6J("ngIf",null==n.summary?null:n.summary.waitingExerciseCount),b.xp6(1),b.ekj("active",n.simpleStatus===n.SimpleTraineeSubscriptionStatus.WaitingNutrition),b.xp6(1),b.hij(" ",b.lcZ(28,34,"::WaitingNutrition")," "),b.xp6(2),b.Q6J("ngIf",null==n.summary?null:n.summary.waitingNutritionCount),b.xp6(1),b.Q6J("ngbCollapse",n.isFiltersHidden),b.xp6(4),b.Q6J("ngIf",n.isCurrentUserAdmin),b.xp6(1),b.Q6J("ngIf",n.isCanSelectCoordinators),b.xp6(7),b.Oqu(b.lcZ(43,36,"::Clear")),b.xp6(5),b.Oqu(b.lcZ(48,38,"::Search"))}}function hi(e,t){if(1&e){var i=b.EpF();b.TgZ(0,"trainees-simple-list-2",50),b.NdJ("traineeCountChanged",function(){return b.CHM(i),b.oxw().updateSummary()}),b.qZA()}}var fi=function(){return["/dashboard/old"]},Zi=function(){return["/dashboard/simple"]},vi=function(){return{standalone:!0}},bi=new Date;new Date(bi.getFullYear(),bi.getMonth()-1,bi.getDate());var Ai,xi,yi=[{path:"",component:(Ai=function(){function t(e,i,n,a,r,s,c,l,u,d,p,g,m,h,f,Z){o(this,t),this.service=e,this.exService=i,this.coordinatorService=n,this.dateService=a,this.permissionService=r,this.servicePkag=s,this.statusService=c,this.localCacheService=l,this.coachService=u,this.nutritionService=d,this.exerciseService=p,this.sessionExtraInfoService=g,this.analyticsService=m,this.l=h,this.fb=f,this.mobileHelperService=Z,this.TraineeSubscriptionStatus=G.Nd,this.date="",this.traineeCount=0,this.showSearch=!0,this.filterText="",this.lastSubscriptionEndDateRemaining=0,this.isFiltersHidden=!0,this.isMobile=!1,this.disablePayment=!1,this.SimpleTraineeSuggested=G.Dc,this.categoriesList=[],this.suggestedList=[{id:G.Dc.All,name:this.l.instant("::All")},{id:G.Dc.WithSuggested,name:this.l.instant("::WithSuggested")},{id:G.Dc.WithoutSuggested,name:this.l.instant("::WithoutSuggested")},{id:3,name:this.l.instant("::Assigned")}],this.traineePaidList=[{id:we.All,name:this.l.instant("::All")},{id:we.Paid,name:this.l.instant("::Paid")},{id:we.Free,name:this.l.instant("::Free")}],this.goalsList=[],this.genresList=[],this.injuriesList=[],this.musclesList=[],this.isCanSelectCoordinators=!1,this.isCoach=!1,this.filters={},this.rangeValues=[1,20],this.SimpleTraineeSubscriptionStatus=G.yP,this.isSearched=!1,this.isShowActive=!1,this.AllUsers=[],this.AllCoaches=[]}return n(t,[{key:"getIntensityLevel",get:function(){return this.form&&this.form.get("intensityLevel").value||0}},{key:"getpreferedNumberOfMeals",get:function(){return this.form&&this.form.get("preferedNumberOfMeals").value||""}},{key:"getnumberOfDays",get:function(){return this.form&&this.form.get("numberOfDays").value||""}},{key:"startSearch",value:function(t){var i=this,n=e(this.musclesList);this.musclesList=[],setTimeout(function(){i.musclesList=n},1e3)}},{key:"ngOnInit",value:function(){var e=this;this.analyticsService.log(Oe.O.View_HomePage);var t=this;this.disablePayment=v.N.disablePayment,this.sessionExtraInfoService.whoAmI2().subscribe(function(i){i.coachType==G.Tz.Normal&&(e.isCanSelectCoordinators=!1),i.userType===G.bZ.Coordinator?e.isCanSelectCoordinators=!1:i.userType===G.bZ.Coach?(e.isCanSelectCoordinators=!0,e.isCoach=!0):i.userType===G.bZ.Admin&&(e.isCanSelectCoordinators=!0),i.userType!==G.bZ.None&&t.initiate()}),this.isMobile=this.mobileHelperService.GetMobile(),this.isSearched=!0}},{key:"initiate",value:function(){var e=this;e.form=e.fb.group({filterText:null,coachAppUserId:null,coordinatorAppUserId:null,hasExerciseDay:null,hasNutritionDay:null,muscleId:null,injuryId:null,exerciseGenreId:null,goalId:null,nutritionCategoryId:null,exerciseSuggested:null,nutritionSuggested:null,traineePaid:we.All,intensityLevel:0,preferedNumberOfMeals:0,numberOfDays:0,simpleStatus:G.yP.All}),e.form.get("filterText").valueChanges.pipe((0,Ue.b)(1200)).subscribe(function(t){return e.get()}),setTimeout(function(){e.statusService.lastSearch?(e.form.patchValue(e.statusService.lastSearch),e.showFilter=e.statusService.showSearch,e.currentDateFromStatus=e.statusService.currentDate,setTimeout(function(){e.search()},100)):(e.currentDateFromStatus=new Date,e.search())},100),e.form.get("coachAppUserId").valueChanges.subscribe(function(t){e.form.get("coordinatorAppUserId").setValue(void 0)})}},{key:"getField",value:function(e){var t=this.form.get(e).value;if(this.form&&t){if(0==t[0]&&0==t[1])return;return t}}},{key:"showFilter",get:function(){return this._showFilter},set:function(e){this._showFilter=e,this.isFiltersHidden=!e}},{key:"isCurrentUserAdmin",get:function(){return this.permissionService.getGrantedPolicy("PhysicAdmin")}},{key:"clearFilters",value:function(){var e=this;this.form.reset(),this.form.get("hasNote").setValue(!1),this.form.get("intensityLevel").setValue(0),this.form.get("preferedNumberOfMeals").setValue(0),this.form.get("numberOfDays").setValue(0),this.form.get("simpleStatus").setValue(G.yP.All),this.form.get("traineePaid").setValue(we.All),setTimeout(function(){e.get(),e.statusService.lastSearch=void 0,e.statusService.showSearch=!1,e.statusService.currentDate=e.currentDateFromStatus},10)}},{key:"ngAfterViewInit",value:function(){this.getdate(new Date),this.getSubscriptionRemaining()}},{key:"ngOnDestroy",value:function(){}},{key:"getdate",value:function(e){if(e){this.currentDateFromStatus=new Date(e),this.currentDateFromStatus.setHours(0,0,0,0);var t=W(this.currentDateFromStatus),i=this.dateService.parseMomentToString(t);this.dateString=i,this.service.currentDate.next({date:i,traineeId:0}),this.date=W(t).locale("ar-SA").format("dddd")+" - "+t.format("YYYY-MM-DD")}}},{key:"getSubscriptionRemaining",value:function(){var e=this;this.servicePkag.getSubscriptionRemaining().subscribe(function(t){e.lastSubscriptionEndDateRemaining=t})}},{key:"traineeCountChanged",value:function(e){this.traineeCount=e}},{key:"getSearchForm",value:function(){var e,t=Object.assign({},null===(e=this.form)||void 0===e?void 0:e.value);return t.hasNutritionDay=1==t.hasNutritionDay?2:void 0,t.hasExerciseDay=1==t.hasExerciseDay?2:void 0,t.coachAppUserId=t.coachAppUserId&&t.coachAppUserId.appUserId?t.coachAppUserId.appUserId:void 0,t.coordinatorAppUserId&&(t.coordinatorAppUserId=this.SelectedCoordinatorId),t.muscleId||(t.muscleId=void 0),t.injuryId||(t.injuryId=void 0),t.intensityLevel&&0!==t.intensityLevel||(t.intensityLevel=void 0),t.preferedNumberOfMeals&&0!==t.preferedNumberOfMeals||(t.preferedNumberOfMeals=void 0),t.numberOfDays&&0!==t.numberOfDays||(t.numberOfDays=void 0),t.exerciseGenreId||(t.exerciseGenreId=void 0),t.goalId||(t.goalId=void 0),t.nutritionCategoryId||(t.nutritionCategoryId=void 0),t.exerciseSuggested||(t.exerciseSuggested=void 0),t.nutritionSuggested||(t.nutritionSuggested=void 0),t.traineePaid||(t.traineePaid=we.All),t.simpleStatus||(t.simpleStatus=G.yP.All),t.hasExerciseDay=void 0,t.hasNutritionDay=void 0,t}},{key:"simpleStatus",get:function(){return this.form.get("simpleStatus").value||G.yP.All},set:function(e){var t=this;this.form.get("simpleStatus").setValue(e),setTimeout(function(){t.get()},10)}},{key:"search",value:function(){var e=this,t=this.getSearchForm();this.service.ChangeFilter2(t),this.statusService.lastSearch=this.form.value,this.statusService.showSearch=this.showFilter,this.statusService.currentDate=this.currentDateFromStatus,this.analyticsService.log(Oe.O.View_HomePage_Trainee_List,{simpleStatus:t.simpleStatus}),this.updateSummary(),setTimeout(function(){e.isSearched=!0},10)}},{key:"updateSummary",value:function(){}},{key:"startSearchUser",value:function(e){var t=this,i={};i.filterText=e.query,i.coachType=G.Tz.Vip,this.coachService.getCoachLookup(i).subscribe(function(e){t.AllCoaches=e.items})}},{key:"onSelect",value:function(e){}},{key:"onClear",value:function(){this.form.reset(),this.form.get("hasNote").setValue(!1)}},{key:"searchType",value:function(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)?"text":"search"}},{key:"get",value:function(){this.search()}},{key:"startSearchCoordinators",value:function(e){var t=this,i=Object.assign({},this.form.value);i.coachAppUserId&&i.coachAppUserId.appUserId&&(i.coachAppUserId=i.coachAppUserId.appUserId),this.coordinatorService.getCoordinatorsGeneralLookup({filterText:e.query,coachAppUserId:i.coachAppUserId,maxResultCount:void 0,skipCount:void 0}).subscribe(function(e){t.AllCoordinators=e.items})}},{key:"onSelectCoordinator",value:function(e){this.SelectedCoordinatorId=e.appUserId}},{key:"onClearCoordinator",value:function(){this.SelectedCoordinatorId=void 0,this.form.controls.balance.setValue(void 0)}}]),t}(),Ai.\u0275fac=function(e){return new(e||Ai)(b.Y36(Je.J),b.Y36(Me.JL),b.Y36(ve.q),b.Y36(T.R),b.Y36(s.$AH),b.Y36(x.v),b.Y36(Ye.$),b.Y36(Pe.F),b.Y36(y.u),b.Y36(Me.lF),b.Y36(Me.JL),b.Y36(L.G),b.Y36(Oe.y),b.Y36(s.oQ8),b.Y36(q.qu),b.Y36(X.k4))},Ai.\u0275cmp=b.Xpm({type:Ai,selectors:[["app-simple-dashboard-2"]],decls:29,vars:23,consts:[["class","alert alert-primary text-center",4,"ngIf"],[1,"card","bg-transparent","no-shadow"],[1,"card-header","px-0"],[1,"row","align-items-center"],[1,"col-lg-auto","col-md-12"],[1,"mb-lg-0"],[1,"col-xl-7","col-md-6"],[1,"btn-group","d-block"],["routerLinkActive","router-link-active",1,"btn","btn-success","btn-sm",3,"routerLink"],["class","btn btn-secondary  btn-sm",3,"click",4,"ngIf"],[1,"col-lg","col-md-6"],[1,"text-lg-right","pt-2"],[1,"custom-control","custom-switch"],["type","checkbox","id","customSwitch5",1,"custom-control-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","customSwitch5",1,"custom-control-label"],[1,""],["validateOnSubmit","",3,"formGroup","ngSubmit",4,"ngIf"],[3,"traineeCountChanged",4,"ngIf"],["userSettings",""],[1,"alert","alert-primary","text-center"],[1,"text-truncate"],["routerLink","/onboarding/subscription",1,"font-weight-bolder"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-cogs"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"card","mb-4","card","mb-4","px-4","py-2"],[1,"card-body-old"],[1,"row"],[1,"col"],[1,"form-group"],["for","filterTextFilter"],["id","filterTextFilter","formControlName","filterText","maxlength","100",1,"form-control",3,"placeholder"],["filterTextControl",""],[1,"col-auto"],[1,"btn-group","mt-4"],[1,"btn","btn-secondary",3,"click"],["class","badge badge-light",4,"ngIf"],["id","advanced-content-filters",3,"ngbCollapse"],[1,"card","mb-4"],[1,"card-body"],["class","col-12 col-md-4",4,"ngIf"],[1,"col-md-12","align-self-end","mb-3"],["type","button",1,"btn","btn-outline-primary","btn-block",3,"click"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],[1,"badge","badge-light"],[1,"col-12","col-md-4"],[2,"display","block"],["id","coachAppUserId","name","coachAppUserId","formControlName","coachAppUserId","dataKey","appUserId","field","name","forceSelection","true",3,"suggestions","type","dropdown","onClear","completeMethod","search"],["for","app-user-coach-app-user-id"],["id","coordinatorAppUserId","name","coordinatorAppUserId","formControlName","coordinatorAppUserId","dataKey","appUserId","field","name","forceSelection","true",3,"suggestions","type","dropdown","onClear","completeMethod","search","onSelect"],[3,"traineeCountChanged"]],template:function(e,t){1&e&&(b.YNc(0,ri,7,7,"div",0),b.TgZ(1,"div",1),b.TgZ(2,"div",2),b.TgZ(3,"div",3),b.TgZ(4,"div",4),b.TgZ(5,"h3",5),b._uU(6),b.ALo(7,"abpLocalization"),b.qZA(),b.qZA(),b.TgZ(8,"div",6),b.TgZ(9,"div",7),b.TgZ(10,"a",8),b._uU(11),b.ALo(12,"abpLocalization"),b.qZA(),b.TgZ(13,"a",8),b._uU(14),b.ALo(15,"abpLocalization"),b.qZA(),b.YNc(16,si,2,0,"button",9),b.qZA(),b.qZA(),b.TgZ(17,"div",10),b.TgZ(18,"div",11),b.TgZ(19,"div",12),b.TgZ(20,"input",13),b.NdJ("ngModelChange",function(e){return t.showFilter=e}),b.qZA(),b.TgZ(21,"label",14),b._uU(22),b.ALo(23,"abpLocalization"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(24,"div",15),b.YNc(25,mi,49,40,"form",16),b.YNc(26,hi,1,0,"trainees-simple-list-2",17),b.qZA(),b.qZA(),b._UZ(27,"app-user-setting",null,18)),2&e&&(b.Q6J("ngIf",t.lastSubscriptionEndDateRemaining>0&&!t.disablePayment),b.xp6(6),b.Oqu(b.lcZ(7,12,"::Dashboard")),b.xp6(4),b.Q6J("routerLink",b.DdM(20,fi)),b.xp6(1),b.hij(" ",b.lcZ(12,14,"::ProgressReport")," "),b.xp6(2),b.Q6J("routerLink",b.DdM(21,Zi)),b.xp6(1),b.hij(" ",b.lcZ(15,16,"::ProgressReport")," 2 "),b.xp6(2),b.Q6J("ngIf",t.isCoach),b.xp6(4),b.Q6J("ngModel",t.showFilter)("ngModelOptions",b.DdM(22,vi)),b.xp6(2),b.Oqu(b.lcZ(23,18,"::SeeAdvancedFilters")),b.xp6(3),b.Q6J("ngIf",t.form),b.xp6(1),b.Q6J("ngIf",t.isSearched))},directives:[k.O5,A.yS,A.Od,q.Wl,q.JJ,q.On,ee.m,De.m,q._Y,q.JL,s.YzZ,q.sg,r.hL,q.Fj,q.u,r.J5,q.nD,l._D,Qe.Qc,ai],pipes:[s.fuE],encapsulation:2}),Ai)},{path:"old",component:Tt},{path:"simple",component:st},{path:"myprofile",component:ke},{path:"mysubscription",component:E}],Si=function(){var e=function e(){o(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.oAB({type:e}),e.\u0275inj=b.cJS({imports:[[A.Bz.forChild(yi)],A.Bz]}),e}(),Ti=a(83845),qi=a(87161),Ci=((xi=function e(){o(this,e)}).\u0275fac=function(e){return new(e||xi)},xi.\u0275mod=b.oAB({type:xi}),xi.\u0275inj=b.cJS({imports:[[Z.m,Si,qi.UserSettingModule,l.M,u.AuditLoggingModule,d.SaasModule,h.TraineeModule,f.r,g.CoachModule,l.lQ,m.CoordinatorModule,s.IR2,c.e2,p.Ck,Ti.vv,r.h2,l.XC,ct.JH]]}),xi)}}])}();