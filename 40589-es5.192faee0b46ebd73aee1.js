!function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function e(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkPhysic=self.webpackChunkPhysic||[]).push([[40589,55e3],{40589:function(t,e,a){"use strict";a.r(e),a.d(e,{AssignHistoryModule:function(){return v}});var n,r=a(46700),s=a(55679),o=a(10135),u=a(99046),p=a(83845),c=a(73756),l=a(56410),m=a(71753),d=a(35366),f=[{path:"",component:m.I,canActivate:[r.a1M,r.nG9]}],g=function(){var t=function t(){i(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[l.Bz.forChild(f)],l.Bz]}),t}(),h=a(56137),v=((n=function t(){i(this,t)}).\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[g,r.IR2,s.e2,c.Ck,p.vv,u.h2,o.lQ,o.M,h.m,o.XC]]}),n)},71753:function(t,a,n){"use strict";n.d(a,{I:function(){return k}});var r=n(46700),s=n(55679),o=n(31041),u=n(2996),p=n(11520),c=n(44019),l=n(43835),m=n(44689),d=n(35366),f=function(){var t=function t(e){var a=this;i(this,t),this.restService=e,this.apiName="Default",this.create=function(t){return a.restService.request({method:"POST",url:"/api/app/assign-histories",body:t},{apiName:a.apiName})},this.delete=function(t){return a.restService.request({method:"DELETE",url:"/api/app/assign-histories/".concat(t)},{apiName:a.apiName})},this.get=function(t){return a.restService.request({method:"GET",url:"/api/app/assign-histories/".concat(t)},{apiName:a.apiName})},this.getAppUserLookup=function(t){return a.restService.request({method:"GET",url:"/api/app/assign-histories/app-user-lookup",params:{filter:t.filter,skipCount:t.skipCount,maxResultCount:t.maxResultCount}},{apiName:a.apiName})},this.getExerciseProgramLookup=function(t){return a.restService.request({method:"GET",url:"/api/app/assign-histories/exercise-program-lookup",params:{filter:t.filter,skipCount:t.skipCount,maxResultCount:t.maxResultCount}},{apiName:a.apiName})},this.getList=function(t){return a.restService.request({method:"GET",url:"/api/app/assign-histories",params:{filterText:t.filterText,startDateMin:t.startDateMin,startDateMax:t.startDateMax,endDateMin:t.endDateMin,endDateMax:t.endDateMax,assignedByAppUserId:t.assignedByAppUserId,traineeAppUserId:t.traineeAppUserId,exerciseProgramId:t.exerciseProgramId,nutritionProgramId:t.nutritionProgramId,sorting:t.sorting,skipCount:t.skipCount,maxResultCount:t.maxResultCount}},{apiName:a.apiName})},this.getNutritionProgramLookup=function(t){return a.restService.request({method:"GET",url:"/api/app/assign-histories/nutrition-program-lookup",params:{filter:t.filter,skipCount:t.skipCount,maxResultCount:t.maxResultCount}},{apiName:a.apiName})},this.getWithNavigationProperties=function(t){return a.restService.request({method:"GET",url:"/api/app/assign-histories/with-navigation-properties/".concat(t)},{apiName:a.apiName})},this.update=function(t,e){return a.restService.request({method:"PUT",url:"/api/app/assign-histories/".concat(t),body:e},{apiName:a.apiName})}};return t.\u0275fac=function(e){return new(e||t)(d.LFG(r.vgb))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),g=n(17647),h=n(55e3),v=n(61116);function x(t,e){if(1&t&&(d.TgZ(0,"div",7),d._uU(1),d.ALo(2,"abpLocalization"),d.qZA(),d.TgZ(3,"span",8),d._UZ(4,"is-empty",9),d.ALo(5,"date"),d.qZA()),2&t){var i=e.row;d.xp6(1),d.Oqu(d.lcZ(2,2,"::StartDate")),d.xp6(3),d.Q6J("value",d.lcZ(5,4,i.assignHistory.startDate))}}function y(t,e){if(1&t&&(d.TgZ(0,"div",7),d._uU(1),d.ALo(2,"abpLocalization"),d.qZA(),d.TgZ(3,"span",8),d._UZ(4,"is-empty",9),d.ALo(5,"date"),d.qZA()),2&t){var i=e.row;d.xp6(1),d.Oqu(d.lcZ(2,2,"::EndDate")),d.xp6(3),d.Q6J("value",d.lcZ(5,4,i.assignHistory.endDate))}}function Z(t,e){if(1&t&&(d.TgZ(0,"div",7),d._uU(1),d.ALo(2,"abpLocalization"),d.qZA(),d.TgZ(3,"span",8),d._uU(4),d.qZA()),2&t){var i=e.row;d.xp6(1),d.Oqu(d.lcZ(2,2,"::CoachName")),d.xp6(3),d.hij(" ",null==i.appUser?null:i.appUser.name," ")}}function A(t,e){if(1&t&&(d.TgZ(0,"div"),d.TgZ(1,"div",7),d._uU(2),d.ALo(3,"abpLocalization"),d.qZA(),d.TgZ(4,"span",8),d._UZ(5,"i",11),d._uU(6),d.qZA(),d.qZA()),2&t){var i=d.oxw().row;d.xp6(2),d.Oqu(d.lcZ(3,2,"::ExerciseProgramName")),d.xp6(4),d.hij(" ",null==i.exerciseProgram?null:i.exerciseProgram.exerciseProgramName," ")}}function b(t,e){if(1&t&&(d.TgZ(0,"div"),d.TgZ(1,"div",7),d._uU(2),d.ALo(3,"abpLocalization"),d.qZA(),d.TgZ(4,"span",8),d._UZ(5,"i",12),d._uU(6),d.qZA(),d.qZA()),2&t){var i=d.oxw().row;d.xp6(2),d.Oqu(d.lcZ(3,2,"::NutriitionProgramName")),d.xp6(4),d.hij(" ",null==i.nutritionProgram?null:i.nutritionProgram.nutriitionProgramName," ")}}function N(t,e){if(1&t&&(d.YNc(0,A,7,4,"div",10),d.YNc(1,b,7,4,"div",10)),2&t){var i=e.row;d.Q6J("ngIf",i.exerciseProgram),d.xp6(1),d.Q6J("ngIf",i.nutritionProgram)}}var k=function(){var t=function(){function t(e,a,n,r,s,o){i(this,t),this.list=e,this.track=a,this.service=n,this.confirmation=r,this.dateService=s,this.fb=o,this.data={items:[],totalCount:0},this.filters={},this.isFiltersHidden=!0,this.isModalBusy=!1,this.isModalOpen=!1}return e(t,[{key:"appUserId",get:function(){return this._appUserId},set:function(t){t!=this._appUserId&&(this.filters.traineeAppUserId=t,this.list.get()),this._appUserId=t}},{key:"showFilter",get:function(){return this._showFilter},set:function(t){this._showFilter=t,this.isFiltersHidden=!t}},{key:"ngOnInit",value:function(){var t=this;this.list.hookToQuery(function(e){var i=Object.assign({},t.filters);return i.startDateMin=t.dateService.parseMomentToString(i.startDateMin),i.startDateMax=t.dateService.parseMomentToString(i.startDateMax),i.endDateMin=t.dateService.parseMomentToString(i.endDateMin),i.endDateMax=t.dateService.parseMomentToString(i.endDateMax),t.service.getList(Object.assign(Object.assign(Object.assign({},e),i),{filterText:e.filter}))}).subscribe(function(e){return t.data=e})}},{key:"clearFilters",value:function(){this.filters={}}},{key:"buildForm",value:function(){var t,e=(null===(t=this.selected)||void 0===t?void 0:t.assignHistory)||{},i=e.startDate,a=e.endDate,n=e.assignedByAppUserId,r=e.traineeAppUserId,s=e.exerciseProgramId,u=e.nutritionProgramId;this.form=this.fb.group({startDate:[i?new Date(i):null,[o.kI.required]],endDate:[a?new Date(a):null,[o.kI.required]],assignedByAppUserId:[null!=n?n:null,[]],traineeAppUserId:[null!=r?r:null,[]],exerciseProgramId:[null!=s?s:null,[]],nutritionProgramId:[null!=u?u:null,[]]})}},{key:"hideForm",value:function(){this.isModalOpen=!1,this.form.reset()}},{key:"showForm",value:function(){this.buildForm(),this.isModalOpen=!0}},{key:"submitForm",value:function(){var t=this;if(!this.form.invalid){var e=this.selected?this.service.update(this.selected.assignHistory.id,this.form.value):this.service.create(this.form.value);this.isModalBusy=!0,e.pipe((0,p.x)(function(){return t.isModalBusy=!1}),(0,c.b)(function(){return t.hideForm()})).subscribe(this.list.get)}}},{key:"create",value:function(){this.selected=void 0,this.showForm()}},{key:"update",value:function(t){this.selected=t,this.showForm()}},{key:"delete",value:function(t){var e=this;this.confirmation.warn("::DeleteConfirmationMessage","::AreYouSure",{messageLocalizationParams:[]}).pipe((0,l.h)(function(t){return t===s.Tv.Status.confirm}),(0,m.w)(function(){return e.service.delete(t.assignHistory.id)})).subscribe(this.list.get)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(r.XNV),d.Y36(r.vR3),d.Y36(f),d.Y36(s.YP),d.Y36(u.R),d.Y36(o.qu))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-assign-history"]],inputs:{appUserId:"appUserId"},features:[d._Bn([r.XNV,u.R])],decls:14,vars:15,consts:[[1,"row","entry-row"],["default","",1,"app-dataview",3,"rows","count","list"],["prop","assignHistory.startDate",3,"name"],["ngx-datatable-cell-template",""],["prop","assignHistory.endDate",3,"name"],["prop","appUser.name",3,"name"],["prop","exerciseProgram.exerciseProgramName",3,"name"],[1,"custom-gray","custom-600"],[1,"custom-black","custom-600"],[3,"value"],[4,"ngIf"],[1,"fa","fa-dumbbell","text-muted"],[1,"fa","fa-apple-alt","text-muted"]],template:function(t,e){1&t&&(d._UZ(0,"div",0),d.TgZ(1,"ngx-datatable",1),d.TgZ(2,"ngx-datatable-column",2),d.ALo(3,"abpLocalization"),d.YNc(4,x,6,6,"ng-template",3),d.qZA(),d.TgZ(5,"ngx-datatable-column",4),d.ALo(6,"abpLocalization"),d.YNc(7,y,6,6,"ng-template",3),d.qZA(),d.TgZ(8,"ngx-datatable-column",5),d.ALo(9,"abpLocalization"),d.YNc(10,Z,5,4,"ng-template",3),d.qZA(),d.TgZ(11,"ngx-datatable-column",6),d.ALo(12,"abpLocalization"),d.YNc(13,N,2,2,"ng-template",3),d.qZA(),d.qZA()),2&t&&(d.xp6(1),d.Q6J("rows",e.data.items)("count",e.data.totalCount)("list",e.list),d.xp6(1),d.s9C("name",d.lcZ(3,7,"::StartDate")),d.xp6(3),d.s9C("name",d.lcZ(6,9,"::EndDate")),d.xp6(3),d.s9C("name",d.lcZ(9,11,"::CoachName")),d.xp6(3),d.s9C("name",d.lcZ(12,13,"::ExerciseProgram")))},directives:[g.nE,s.x7,s.j3,g.UC,g.vq,h.K,v.O5],pipes:[r.fuE,v.uU],encapsulation:2}),t}()},55e3:function(t,a,n){"use strict";n.d(a,{K:function(){return m}});var r=n(46700),s=n(2996),o=n(35366),u=n(61116);function p(t,e){if(1&t&&(o.TgZ(0,"span",2),o.TgZ(1,"span"),o._uU(2),o.qZA(),o.Hsn(3),o.qZA()),2&t){var i=o.oxw();o.xp6(2),o.Oqu(i.parsedDate)}}function c(t,e){if(1&t&&(o.TgZ(0,"span",3),o._uU(1),o.qZA()),2&t){var i=o.oxw();o.xp6(1),o.hij(" ",i.l("NotFound"),"\n")}}var l=["*"],m=function(){var t=function(){function t(e,a){i(this,t),this.dateService=a,this.localization=e.get(r.oQ8)}return e(t,[{key:"value",get:function(){return this._value},set:function(t){this._value=t,this.parsedDate=this.value instanceof Date?this.dateService.parseDate(t):t}},{key:"l",value:function(t){return this.localization.instant("::"+t)}},{key:"isNotEmpty",value:function(){return!!this.value&&("string"!=typeof this.value||this.value.length>0)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.zs3),o.Y36(s.R))},t.\u0275cmp=o.Xpm({type:t,selectors:[["is-empty"]],inputs:{value:"value"},features:[o._Bn([s.R])],ngContentSelectors:l,decls:2,vars:2,consts:[["class","sw-dv-details",4,"ngIf"],["class","sw-dv-details empty-value custom-gray","style","font-size: 12px;font-style: italic;",4,"ngIf"],[1,"sw-dv-details"],[1,"sw-dv-details","empty-value","custom-gray",2,"font-size","12px","font-style","italic"]],template:function(t,e){1&t&&(o.F$t(),o.YNc(0,p,4,1,"span",0),o.YNc(1,c,2,1,"span",1)),2&t&&(o.Q6J("ngIf",e.isNotEmpty()),o.xp6(1),o.Q6J("ngIf",!e.isNotEmpty()))},directives:[u.O5],encapsulation:2}),t}()}}])}();