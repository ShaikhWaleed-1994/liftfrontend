(self.webpackChunkPhysic=self.webpackChunkPhysic||[]).push([[86917],{17288:function(e,t,i){"use strict";i.d(t,{iR:function(){return Z},JH:function(){return D}});var s=i(35366),n=i(61116),r=i(76442),o=i(31041);const a=["sliderHandle"],l=["sliderHandleStart"],c=["sliderHandleEnd"],d=function(e,t){return{left:e,width:t}};function h(e,t){if(1&e&&s._UZ(0,"span",4),2&e){const e=s.oxw();s.Q6J("ngStyle",s.WLB(1,d,e.handleValues[0]+"%",e.handleValues[1]-e.handleValues[0]+"%"))}}const u=function(e,t){return{bottom:e,height:t}};function g(e,t){if(1&e&&s._UZ(0,"span",4),2&e){const e=s.oxw();s.Q6J("ngStyle",s.WLB(1,u,e.handleValues[0]+"%",e.handleValues[1]-e.handleValues[0]+"%"))}}const p=function(e){return{height:e}};function m(e,t){if(1&e&&s._UZ(0,"span",4),2&e){const e=s.oxw();s.Q6J("ngStyle",s.VKq(1,p,e.handleValue+"%"))}}const x=function(e){return{width:e}};function f(e,t){if(1&e&&s._UZ(0,"span",4),2&e){const e=s.oxw();s.Q6J("ngStyle",s.VKq(1,x,e.handleValue+"%"))}}const y=function(e,t){return{left:e,bottom:t}};function v(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"span",5,6),s.NdJ("keydown",function(t){return s.CHM(e),s.oxw().onHandleKeydown(t)})("mousedown",function(t){return s.CHM(e),s.oxw().onMouseDown(t)})("touchstart",function(t){return s.CHM(e),s.oxw().onTouchStart(t)})("touchmove",function(t){return s.CHM(e),s.oxw().onTouchMove(t)})("touchend",function(t){return s.CHM(e),s.oxw().onTouchEnd(t)}),s.qZA()}if(2&e){const e=s.oxw();s.Udp("transition",e.dragging?"none":null),s.Q6J("ngStyle",s.WLB(8,y,"horizontal"==e.orientation?e.handleValue+"%":null,"vertical"==e.orientation?e.handleValue+"%":null)),s.uIk("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)}}const S=function(e){return{"p-slider-handle-active":e}};function I(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"span",7,8),s.NdJ("keydown",function(t){return s.CHM(e),s.oxw().onHandleKeydown(t,0)})("mousedown",function(t){return s.CHM(e),s.oxw().onMouseDown(t,0)})("touchstart",function(t){return s.CHM(e),s.oxw().onTouchStart(t,0)})("touchmove",function(t){return s.CHM(e),s.oxw().onTouchMove(t,0)})("touchend",function(t){return s.CHM(e),s.oxw().onTouchEnd(t)}),s.qZA()}if(2&e){const e=s.oxw();s.Udp("transition",e.dragging?"none":null),s.Q6J("ngStyle",s.WLB(9,y,e.rangeStartLeft,e.rangeStartBottom))("ngClass",s.VKq(12,S,0==e.handleIndex)),s.uIk("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[0]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)}}function C(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"span",7,9),s.NdJ("keydown",function(t){return s.CHM(e),s.oxw().onHandleKeydown(t,1)})("mousedown",function(t){return s.CHM(e),s.oxw().onMouseDown(t,1)})("touchstart",function(t){return s.CHM(e),s.oxw().onTouchStart(t,1)})("touchmove",function(t){return s.CHM(e),s.oxw().onTouchMove(t,1)})("touchend",function(t){return s.CHM(e),s.oxw().onTouchEnd(t)}),s.qZA()}if(2&e){const e=s.oxw();s.Udp("transition",e.dragging?"none":null),s.Q6J("ngStyle",s.WLB(9,y,e.rangeEndLeft,e.rangeEndBottom))("ngClass",s.VKq(12,S,1==e.handleIndex)),s.uIk("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[1]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)}}const w=function(e,t,i,s){return{"p-slider p-component":!0,"p-disabled":e,"p-slider-horizontal":t,"p-slider-vertical":i,"p-slider-animate":s}},b={provide:o.JU,useExisting:(0,s.Gpc)(()=>Z),multi:!0};let Z=(()=>{class e{constructor(e,t,i,n){this.el=e,this.renderer=t,this.ngZone=i,this.cd=n,this.min=0,this.max=100,this.orientation="horizontal",this.tabindex=0,this.onChange=new s.vpe,this.onSlideEnd=new s.vpe,this.handleValues=[],this.onModelChange=()=>{},this.onModelTouched=()=>{},this.handleIndex=0}onMouseDown(e,t){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:t,this.bindDragListeners(),e.target.focus(),e.preventDefault(),this.animate&&r.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onTouchStart(e,t){if(!this.disabled){var i=e.changedTouches[0];this.startHandleValue=this.range?this.handleValues[t]:this.handleValue,this.dragging=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:t,"horizontal"===this.orientation?(this.startx=parseInt(i.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(i.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&r.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),e.preventDefault()}}onTouchMove(e,t){if(!this.disabled){var i,s=e.changedTouches[0];i="horizontal"===this.orientation?Math.floor(100*(parseInt(s.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(s.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(e,i),e.preventDefault()}}onTouchEnd(e,t){this.disabled||(this.dragging=!1,this.onSlideEnd.emit(this.range?{originalEvent:e,values:this.values}:{originalEvent:e,value:this.value}),this.animate&&r.p.addClass(this.el.nativeElement.children[0],"p-slider-animate"),e.preventDefault())}onBarClick(e){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(e)),this.sliderHandleClick=!1)}onHandleKeydown(e,t){this.disabled||(38==e.which||39==e.which?this.spin(e,1,t):37!=e.which&&40!=e.which||this.spin(e,-1,t))}spin(e,t,i){let s=(this.step||1)*t;this.range?(this.handleIndex=i,this.updateValue(this.values[this.handleIndex]+s),this.updateHandleValue()):(this.updateValue(this.value+s),this.updateHandleValue()),e.preventDefault()}handleChange(e){let t=this.calculateHandleValue(e);this.setValueFromHandle(e,t)}bindDragListeners(){this.ngZone.runOutsideAngular(()=>{const e=this.el?this.el.nativeElement.ownerDocument:"document";this.dragListener||(this.dragListener=this.renderer.listen(e,"mousemove",e=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(e)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(e,"mouseup",e=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.onSlideEnd.emit(this.range?{originalEvent:e,values:this.values}:{originalEvent:e,value:this.value}),this.animate&&r.p.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()}setValueFromHandle(e,t){this.sliderHandleClick=!1;let i=this.getValueFromHandle(t);this.range?this.step?this.handleStepChange(i,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=t,this.updateValue(i,e)):this.step?this.handleStepChange(i,this.value):(this.handleValue=t,this.updateValue(i,e)),this.cd.markForCheck()}handleStepChange(e,t){let i=e-t,s=t;i<0?s=t+Math.ceil(e/this.step-t/this.step)*this.step:i>0&&(s=t+Math.floor(e/this.step-t/this.step)*this.step),this.updateValue(s),this.updateHandleValue()}writeValue(e){this.range?this.values=e||[0,0]:this.value=e||0,this.updateHandleValue(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?"auto":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?"auto":this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return"vertical"===this.orientation}updateDomData(){let e=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=e.left+r.p.getWindowScrollLeft(),this.initY=e.top+r.p.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(e){return"horizontal"===this.orientation?100*(e.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-e.pageY)/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.handleValue=this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min)}updateValue(e,t){if(this.range){let i=e;0==this.handleIndex?(i<this.min?(i=this.min,this.handleValues[0]=0):i>this.values[1]&&(i=this.values[1],this.handleValues[0]=this.handleValues[1]),this.sliderHandleStart.nativeElement.focus()):(i>this.max?(i=this.max,this.handleValues[1]=100):i<this.values[0]&&(i=this.values[0],this.handleValues[1]=this.handleValues[0]),this.sliderHandleEnd.nativeElement.focus()),this.values[this.handleIndex]=this.getNormalizedValue(i),this.values=this.values.slice(),this.onModelChange(this.values),this.onChange.emit({event:t,values:this.values})}else e<this.min?(e=this.min,this.handleValue=0):e>this.max&&(e=this.max,this.handleValue=100),this.value=this.getNormalizedValue(e),this.onModelChange(this.value),this.onChange.emit({event:t,value:this.value}),this.sliderHandle.nativeElement.focus()}getValueFromHandle(e){return e/100*(this.max-this.min)+this.min}getDecimalsCount(e){return e&&Math.floor(e)!==e&&e.toString().split(".")[1].length||0}getNormalizedValue(e){let t=this.getDecimalsCount(this.step);return t>0?+e.toFixed(t):Math.floor(e)}ngOnDestroy(){this.unbindDragListeners()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.R0b),s.Y36(s.sBO))},e.\u0275cmp=s.Xpm({type:e,selectors:[["p-slider"]],viewQuery:function(e,t){if(1&e&&(s.Gf(a,5),s.Gf(l,5),s.Gf(c,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.sliderHandle=e.first),s.iGM(e=s.CRH())&&(t.sliderHandleStart=e.first),s.iGM(e=s.CRH())&&(t.sliderHandleEnd=e.first)}},inputs:{min:"min",max:"max",orientation:"orientation",tabindex:"tabindex",disabled:"disabled",animate:"animate",step:"step",range:"range",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[s._Bn([b])],decls:8,vars:16,consts:[[3,"ngStyle","ngClass","click"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],[1,"p-slider-handle",3,"ngStyle","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandle",""],[1,"p-slider-handle",3,"ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandleStart",""],["sliderHandleEnd",""]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.NdJ("click",function(e){return t.onBarClick(e)}),s.YNc(1,h,1,4,"span",1),s.YNc(2,g,1,4,"span",1),s.YNc(3,m,1,3,"span",1),s.YNc(4,f,1,3,"span",1),s.YNc(5,v,2,11,"span",2),s.YNc(6,I,2,14,"span",3),s.YNc(7,C,2,14,"span",3),s.qZA()),2&e&&(s.Tol(t.styleClass),s.Q6J("ngStyle",t.style)("ngClass",s.l5B(11,w,t.disabled,"horizontal"==t.orientation,"vertical"==t.orientation,t.animate)),s.xp6(1),s.Q6J("ngIf",t.range&&"horizontal"==t.orientation),s.xp6(1),s.Q6J("ngIf",t.range&&"vertical"==t.orientation),s.xp6(1),s.Q6J("ngIf",!t.range&&"vertical"==t.orientation),s.xp6(1),s.Q6J("ngIf",!t.range&&"horizontal"==t.orientation),s.xp6(1),s.Q6J("ngIf",!t.range),s.xp6(1),s.Q6J("ngIf",t.range),s.xp6(1),s.Q6J("ngIf",t.range))},directives:[n.PC,n.mk,n.O5],styles:[".p-slider{position:relative}.p-slider .p-slider-handle{cursor:grab;touch-action:none}.p-slider-range,.p-slider .p-slider-handle{display:block;position:absolute}.p-slider-horizontal .p-slider-range{height:100%;left:0;top:0}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}"],encapsulation:2,changeDetection:0}),e})(),D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[n.ez]]}),e})()},26471:function(e,t,i){"use strict";i.d(t,{H:function(){return z}});var s=i(46700),n=i(2996),r=i(83865),o=i(35366),a=i(8099),l=i(55679),c=i(14666),d=i(31041),h=i(61116),u=i(98462),g=i(23733);const p=["adjust"];function m(e,t){if(1&e&&(o.TgZ(0,"div",6),o.TgZ(1,"span"),o._uU(2),o.qZA(),o.qZA()),2&e){const e=o.oxw(2);o.xp6(2),o.Oqu(e.name)}}function x(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(){return o.CHM(e),o.oxw(3).save()}),o._UZ(1,"i",11),o.qZA()}}function f(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",6),o.TgZ(1,"input",7),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw(2).name=t}),o.qZA(),o.TgZ(2,"div",8),o.YNc(3,x,2,0,"button",9),o.qZA(),o.qZA()}if(2&e){const e=o.oxw(2);o.xp6(1),o.Q6J("ngModel",e.name),o.xp6(2),o.Q6J("ngIf",e.exerciseDayModel.name!=e.name)}}function y(e,t){if(1&e&&(o.TgZ(0,"div",26),o._uU(1),o.qZA()),2&e){const e=o.oxw().$implicit;o.xp6(1),o.hij(" ",e.repeatCount," ")}}function v(e,t){if(1&e&&(o.TgZ(0,"div",26),o._uU(1),o.qZA()),2&e){const e=o.oxw().$implicit;o.xp6(1),o.hij(" ",e.exerciseSeconds," ")}}const S=function(e){return{" border-left pl-2":e}};function I(e,t){if(1&e&&(o.TgZ(0,"span",24),o.TgZ(1,"span"),o.YNc(2,y,2,1,"div",25),o.YNc(3,v,2,1,"div",25),o.qZA(),o.qZA()),2&e){const e=o.oxw().$implicit,t=o.oxw(2).$implicit;o.Q6J("ngClass",o.VKq(3,S,e.isDropSet)),o.xp6(2),o.Q6J("ngIf",12==t.exerciseType),o.xp6(1),o.Q6J("ngIf",13==t.exerciseType)}}function C(e,t){if(1&e&&(o.TgZ(0,"span"),o.YNc(1,I,4,5,"span",23),o.qZA()),2&e){const e=t.$implicit,i=o.oxw(5);o.xp6(1),o.Q6J("ngForOf",e.groups)("ngForTrackBy",i.trackByExerciseDayItemGroupModel)}}function w(e,t){if(1&e&&(o.TgZ(0,"div",20),o.TgZ(1,"span"),o._uU(2),o.ALo(3,"abpLocalization"),o.TgZ(4,"div",21),o._uU(5),o.qZA(),o._uU(6," X "),o.qZA(),o.YNc(7,C,2,2,"span",22),o.qZA()),2&e){const e=o.oxw().$implicit,t=o.oxw(3);o.xp6(2),o.hij("",o.lcZ(3,4,"::Groups")," "),o.xp6(3),o.hij(" ",e.groupsContainers.length," "),o.xp6(2),o.Q6J("ngForOf",e.groupsContainers)("ngForTrackBy",t.trackByExerciseDayItemGroupContainerModel)}}function b(e,t){1&e&&(o.TgZ(0,"td"),o._uU(1),o.ALo(2,"abpLocalization"),o.qZA()),2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"::ExerciseSeconds")," "))}function Z(e,t){1&e&&(o.TgZ(0,"td"),o._uU(1),o.ALo(2,"abpLocalization"),o.qZA()),2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"::RepeatCount")," "))}function D(e,t){1&e&&(o.TgZ(0,"td"),o._uU(1),o.ALo(2,"abpLocalization"),o.qZA()),2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"::Weight")," "))}function T(e,t){if(1&e&&(o.TgZ(0,"span"),o.TgZ(1,"table",27),o.TgZ(2,"tr"),o.YNc(3,b,3,3,"td",19),o.YNc(4,Z,3,3,"td",19),o.YNc(5,D,3,3,"td",19),o.TgZ(6,"td"),o._uU(7),o.ALo(8,"abpLocalization"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.oxw(2).$implicit;o.xp6(3),o.Q6J("ngIf",13==e.exerciseType),o.xp6(1),o.Q6J("ngIf",12==e.exerciseType),o.xp6(1),o.Q6J("ngIf",12==e.exerciseType),o.xp6(2),o.Oqu(o.lcZ(8,4,"::Rest"))}}function A(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"abpLocalization"),o.qZA()),2&e){const e=o.oxw().index;o.xp6(1),o.AsE("",o.lcZ(2,2,"::Group")," ",e+1,"")}}function E(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span",31),o.NdJ("click",function(){o.CHM(e);const t=o.oxw(2).$implicit;return o.oxw(6).showAdjust_exerciseSeconds(t)}),o._uU(1),o.qZA()}if(2&e){const e=o.oxw(2).$implicit;o.xp6(1),o.hij(" ",e.exerciseSeconds," ")}}function M(e,t){if(1&e&&(o.TgZ(0,"td"),o.YNc(1,E,2,1,"span",30),o.qZA()),2&e){const e=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",e.exerciseSeconds&&e.exerciseSeconds>0)}}function N(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span",31),o.NdJ("click",function(){o.CHM(e);const t=o.oxw(2).$implicit;return o.oxw(6).showAdjust_repeatCount(t)}),o._uU(1),o.qZA()}if(2&e){const e=o.oxw(2).$implicit;o.xp6(1),o.hij(" ",e.repeatCount," ")}}function k(e,t){if(1&e&&(o.TgZ(0,"td"),o.YNc(1,N,2,1,"span",30),o.qZA()),2&e){const e=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",e.repeatCount&&e.repeatCount>0)}}function q(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span",33),o.NdJ("click",function(){o.CHM(e);const t=o.oxw(2).$implicit;return o.oxw(6).showAdjust_weight(t)}),o._uU(1),o.qZA()}if(2&e){const e=o.oxw(2).$implicit;o.xp6(1),o.Oqu(e.weight)}}function J(e,t){if(1&e&&(o.TgZ(0,"td"),o.YNc(1,q,2,1,"span",32),o.qZA()),2&e){const e=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",e.weight&&e.weight>0)}}function _(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span",34),o.NdJ("click",function(){o.CHM(e);const t=o.oxw().$implicit;return o.oxw(6).showAdjust_restSeconds(t)}),o._uU(1),o.qZA()}if(2&e){const e=o.oxw().$implicit;o.xp6(1),o.Oqu(e.restSeconds)}}const L=function(e){return{"border-left pl-2":e}};function H(e,t){if(1&e&&(o.TgZ(0,"li",24),o.YNc(1,A,3,4,"span",19),o.TgZ(2,"table",27),o.TgZ(3,"tr"),o.YNc(4,M,2,1,"td",19),o.YNc(5,k,2,1,"td",19),o.YNc(6,J,2,1,"td",19),o.TgZ(7,"td"),o.YNc(8,_,2,1,"span",29),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=t.$implicit,i=o.oxw().$implicit,s=o.oxw(2).$implicit;o.Q6J("ngClass",o.VKq(6,L,i.isDropSet)),o.xp6(1),o.Q6J("ngIf",i.isDropSet),o.xp6(3),o.Q6J("ngIf",13==s.exerciseType),o.xp6(1),o.Q6J("ngIf",12==s.exerciseType),o.xp6(1),o.Q6J("ngIf",12==s.exerciseType),o.xp6(2),o.Q6J("ngIf",e.restSeconds&&e.restSeconds>0)}}const U=function(e){return{"is-dropset":e}};function V(e,t){if(1&e&&(o.TgZ(0,"div",14),o.TgZ(1,"span"),o._uU(2),o.ALo(3,"abpLocalization"),o.qZA(),o.TgZ(4,"ul",28),o.YNc(5,H,9,8,"li",23),o.qZA(),o.qZA()),2&e){const e=t.$implicit,i=t.index,s=o.oxw(5);o.xp6(2),o.AsE("",o.lcZ(3,5,"::Group")," ",i+1,""),o.xp6(2),o.Q6J("ngClass",o.VKq(7,U,e.isDropSet)),o.xp6(1),o.Q6J("ngForOf",e.groups)("ngForTrackBy",s.trackByExerciseDayItemGroupModel)}}function F(e,t){if(1&e&&(o.TgZ(0,"div",20),o.YNc(1,T,9,6,"span",19),o.YNc(2,V,6,9,"div",13),o.qZA()),2&e){const e=o.oxw().$implicit,t=o.oxw(3);o.xp6(1),o.Q6J("ngIf",e.groupsContainers.length>0),o.xp6(1),o.Q6J("ngForOf",e.groupsContainers)("ngForTrackBy",t.trackByExerciseDayItemGroupContainerModel)}}function O(e,t){1&e&&(o.TgZ(0,"div",36),o.TgZ(1,"div",37),o._uU(2),o.ALo(3,"abpLocalization"),o._UZ(4,"i",38),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.hij(" ",o.lcZ(3,1,"::SuperSet")," "))}function Q(e,t){if(1&e&&(o.TgZ(0,"div"),o.YNc(1,O,5,3,"div",35),o.qZA()),2&e){const e=o.oxw().index,t=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",e+1<t.exerciseDayItemSets.length)}}function Y(e,t){if(1&e&&(o.TgZ(0,"li",14),o.TgZ(1,"span",15),o.TgZ(2,"span",16),o._uU(3),o.qZA(),o.TgZ(4,"span",17),o._uU(5),o.qZA(),o.qZA(),o.YNc(6,w,8,6,"div",18),o.YNc(7,F,3,3,"div",18),o.YNc(8,Q,2,1,"div",19),o.qZA()),2&e){const e=t.$implicit,i=o.oxw(3);o.xp6(3),o.Oqu(e.name),o.xp6(2),o.Oqu(e.nameEn),o.xp6(1),o.Q6J("ngIf",!i.isSummary),o.xp6(1),o.Q6J("ngIf",!i.isSummary),o.xp6(1),o.Q6J("ngIf",i.isSummary)}}function P(e,t){if(1&e&&(o.TgZ(0,"ul",12),o.YNc(1,Y,9,5,"li",13),o.qZA()),2&e){const e=t.$implicit,i=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.exerciseDayItemSets)("ngForTrackBy",i.trackByExerciseDayItemSetModel)}}function B(e,t){if(1&e&&(o.TgZ(0,"div",3),o.YNc(1,m,3,1,"div",4),o.YNc(2,f,4,2,"div",4),o.YNc(3,P,2,2,"ul",5),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",!e.IsEditable),o.xp6(1),o.Q6J("ngIf",e.IsEditable),o.xp6(1),o.Q6J("ngForOf",e.exerciseDayModel.exerciseDayItems)("ngForTrackBy",e.trackByExerciseDayItemModel)}}let z=(()=>{class e{constructor(e,t,i,s,n,r,o,a){this.list=e,this.track=t,this.service=i,this.confirmation=s,this.dateService=n,this.exerciseDayService=r,this.fb=o,this.loclization=a,this.trackByExerciseDayItemModel=(e,t)=>null==t?void 0:t.id,this.trackByExerciseDayItemSetModel=(e,t)=>null==t?void 0:t.id,this.trackByExerciseDayItemGroupContainerModel=(e,t)=>null==t?void 0:t.dropSetId,this.trackByExerciseDayItemGroupModel=(e,t)=>null==t?void 0:t.id,this.isSummary=!0}get exerciseDayModel(){return this._exerciseDayModel}set exerciseDayModel(e){this._exerciseDayModel=e,this.name=this.exerciseDayModel.name}ngOnInit(){setTimeout(()=>{},100)}get name(){return this._name}set name(e){this._name=e}save(){let e=this,t=this.exerciseDayModel.convertToDto();t.name=this.name,this.service.update(this.exerciseDayModel.id,t).subscribe(t=>{this.exerciseDayModel.name=t.name,this.exerciseDayModel.id=t.id;let i=new r.h(t.id,t.name,this.day,this.exerciseDayModel);e.day.clearItems(),e.day.addItem(i)})}showAdjust_repeatCount(e){this.IsEditable&&(this.selected=e,this.editOption="repeatCount",this.adjust.show(this.selected.repeatCount,this.loclization.instant("::RepeatCount")))}showAdjust_exerciseSeconds(e){this.IsEditable&&(this.selected=e,this.editOption="exerciseSeconds",this.adjust.show(this.selected.exerciseSeconds,this.loclization.instant("::ExerciseSeconds")))}showAdjust_weight(e){this.IsEditable&&(this.selected=e,this.editOption="weight",this.adjust.show(this.selected.weight,this.loclization.instant("::Weight")))}showAdjust_restSeconds(e){this.IsEditable&&(this.selected=e,this.editOption="restSeconds",this.adjust.show(this.selected.restSeconds,this.loclization.instant("::RestSeconds")))}onPastConfirm(e){const t=e;"repeatCount"==this.editOption?this.selected.repeatCount=t:"weight"==this.editOption&&(this.selected.weight=t),"restSeconds"==this.editOption&&(this.selected.restSeconds=t),"exerciseSeconds"==this.editOption&&(this.selected.exerciseSeconds=t),setTimeout(()=>{this.exerciseDayService.save(this.exerciseDayModel,this.day,()=>{})},500)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(s.XNV),o.Y36(s.vR3),o.Y36(a._),o.Y36(l.YP),o.Y36(n.R),o.Y36(c.c),o.Y36(d.qu),o.Y36(s.oQ8))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-exercise-program-day"]],viewQuery:function(e,t){if(1&e&&o.Gf(p,5),2&e){let e;o.iGM(e=o.CRH())&&(t.adjust=e.first)}},inputs:{IsEditable:"IsEditable",day:"day",exerciseDayModel:"exerciseDayModel",isSummary:"isSummary"},features:[o._Bn([s.XNV,n.R])],decls:5,vars:7,consts:[["class","exercise-program",4,"ngIf"],[3,"modalTitle","modalLabel","onConfirm"],["adjust",""],[1,"exercise-program"],["class","input-group",4,"ngIf"],["class","list-exercises",4,"ngFor","ngForOf","ngForTrackBy"],[1,"input-group"],["type","text","name","name",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-check"],[1,"list-exercises"],["class","",4,"ngFor","ngForOf","ngForTrackBy"],[1,""],[1,"d-inline","set-item"],[1,"view-rtl"],[1,"view-ltr"],["class","list-itemSets text-muted text-sm",4,"ngIf"],[4,"ngIf"],[1,"list-itemSets","text-muted","text-sm"],[1,"badge","badge-pill","badge-info-old"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngClass"],["class","badge badge-pill badge-primary",4,"ngIf"],[1,"badge","badge-pill","badge-primary"],[1,"table",2,"margin-bottom","0px"],[1,"list-subSets",3,"ngClass"],["class","badge badge-pill badge-secondary",3,"click",4,"ngIf"],["class","badge badge-pill badge-primary",3,"click",4,"ngIf"],[1,"badge","badge-pill","badge-primary",3,"click"],["class","badge badge-pill badge-info",3,"click",4,"ngIf"],[1,"badge","badge-pill","badge-info",3,"click"],[1,"badge","badge-pill","badge-secondary",3,"click"],["class","text-center m-1",4,"ngIf"],[1,"text-center","m-1"],[1,"badge","badge-info"],[1,"fa","fa-link"]],template:function(e,t){1&e&&(o.YNc(0,B,4,4,"div",0),o.TgZ(1,"past-adjust",1,2),o.NdJ("onConfirm",function(e){return t.onPastConfirm(e)}),o.ALo(3,"abpLocalization"),o.ALo(4,"abpLocalization"),o.qZA()),2&e&&(o.Q6J("ngIf",t.exerciseDayModel),o.xp6(1),o.s9C("modalTitle",o.lcZ(3,3,"::AdjustValues")),o.s9C("modalLabel",o.lcZ(4,5,"::Adjust")))},directives:[h.O5,u.m,h.sg,d.Fj,d.JJ,d.On,g.m,h.mk],pipes:[s.fuE],styles:['.text-sm[_ngcontent-%COMP%]{font-size:smaller}.badge[_ngcontent-%COMP%]{font-size:85%}  .exercise-program ul{list-style-position:inside;padding-left:10px}@media (max-width:1199px){  .exercise-program ul{padding-left:5px}} .rtl .exercise-program ul{padding-right:10px;padding-left:0}@media (max-width:1199px){ .rtl .exercise-program ul{padding-right:5px;padding-left:0}}.list-details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.list-details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#eee}.list-details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{display:inline-block;content:"-";vertical-align:middle}@media (max-width:991px){.list-details[_ngcontent-%COMP%]{display:flex}.list-details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}}.list-subSets[_ngcontent-%COMP%]:not(.is-dropset){list-style:none;padding-right:0!important;padding-left:0!important}.list-subSets.is-dropset[_ngcontent-%COMP%]{padding:0}.list-subSets.is-dropset[_ngcontent-%COMP%]   li.border-left[_ngcontent-%COMP%]{border-width:3px!important}.list-subSets[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{min-width:18px;padding-bottom:0}.list-subSets[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%], .list-subSets[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin:0 2px}@media (min-width:992px){.list-subSets[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{width:50px}}.set-item[_ngcontent-%COMP%]{font-size:11px}ul.list-exercises[_ngcontent-%COMP%]{margin-bottom:2px;margin-right:4px;list-style:disc}.input-group[_ngcontent-%COMP%]{width:92%!important;margin-right:auto;margin-left:auto}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:4%}']}),e})()},75795:function(e,t,i){"use strict";i.d(t,{c:function(){return g}});var s=i(46700),n=i(55679),r=i(10135),o=i(99046),a=i(83845),l=i(73756),c=i(56137),d=i(8266),h=i(69244),u=i(35366);let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[s.IR2,h._t,n.e2,l.Ck,a.vv,o.h2,r.lQ,r.M,c.m,d.ExerciseModule,r.XC]]}),e})()},14666:function(e,t,i){"use strict";i.d(t,{c:function(){return a}});var s=i(83865),n=i(40906),r=i(35366),o=i(94773);let a=(()=>{class e{constructor(e){this.service=e}save(e,t,i){if(e&&!e.isAllSuperSetsValid())return;if(e&&e.hasError())return;let r=e.convertToDto();if(e.id){let o={};o.dayNumber=r.dayNumber,o.exerciseProgramId=r.exerciseProgramId,o.exerciseProgramDayItems=r.exerciseProgramDayItems,o.name=r.name,this.service.update(e.id,o).subscribe(e=>{let r=new s.h(e.id,e.name,t,new n.k(e));t.clearItems(),t.addItem(r),i()},e=>{alert("error")})}else{let e={};e.dayNumber=r.dayNumber,e.exerciseProgramId=r.exerciseProgramId,e.exerciseProgramDayItems=r.exerciseProgramDayItems,e.name=r.name,0!==e.exerciseProgramDayItems.length||e.name&&" "!==e.name||(e.name="Rest Day"),this.service.create(e).subscribe(e=>{t.addItem(new s.h(e.id,e.name,t,new n.k(e))),i()})}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o._k))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},863:function(e,t,i){"use strict";i.d(t,{s:function(){return U}});var s=i(46700),n=i(35366),r=i(47701),o=i(28450),a=i(82477),l=i(94773),c=i(45908),d=i(43117),h=i(73545),u=i(42373),g=i(61116),p=i(31041),m=i(23733),x=i(10135),f=i(16237);function y(e,t){1&e&&(n.TgZ(0,"span"),n._UZ(1,"i",26),n.qZA())}function v(e,t){1&e&&(n.TgZ(0,"span"),n._UZ(1,"i",26),n.qZA())}const S=function(e){return{active:e}};function I(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",27),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(3).selectCategory(t.id,t.exerciseCategoryName)}),n.TgZ(1,"span",28),n._uU(2),n.qZA(),n.TgZ(3,"span",29),n._uU(4),n.qZA(),n.YNc(5,v,2,0,"span",2),n.qZA()}if(2&e){const e=t.$implicit,i=n.oxw(3);n.Q6J("ngClass",n.VKq(4,S,i.isSelectedCategory(e.id))),n.xp6(2),n.hij(" ",e.exerciseCategoryName," "),n.xp6(2),n.hij(" ",e.exerciseCategoryNameEn," "),n.xp6(1),n.Q6J("ngIf",i.isSelectedCategory(e.id))}}function C(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",20),n.TgZ(1,"button",21),n._uU(2),n.ALo(3,"abpLocalization"),n.ALo(4,"abpLocalization"),n.qZA(),n.TgZ(5,"div",22),n.TgZ(6,"a",23),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(2);return t.selectCategory(void 0,t.l("::SwitchAll"))}),n.TgZ(7,"span",24),n._uU(8),n.ALo(9,"abpLocalization"),n.qZA(),n.YNc(10,y,2,0,"span",2),n.qZA(),n.YNc(11,I,6,6,"a",25),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2);n.xp6(2),n.AsE(" ",n.lcZ(3,5,"::ExerciseCategory"),": ",n.lcZ(4,7,e.selectedItem1)," "),n.xp6(6),n.hij(" ",n.lcZ(9,9,"::SwitchAll")," "),n.xp6(2),n.Q6J("ngIf",e.isAllCategorySelected()),n.xp6(1),n.Q6J("ngForOf",e.categories)}}const w=function(e,t){return{active:e,"active-old":t}};function b(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"label",34),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(3).selectCategory(t.id,t.exerciseCategoryName)}),n._uU(1),n.qZA()}if(2&e){const e=t.$implicit,i=n.oxw(3);n.Q6J("ngClass",n.WLB(2,w,i.isSelectedCategory(e.id),!i.isSelectedCategory(e.id))),n.xp6(1),n.hij(" ",e.exerciseCategoryName," ")}}function Z(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",30),n.TgZ(1,"div",31),n.TgZ(2,"label",32),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(2);return t.selectCategory(void 0,t.l("::SwitchAll"))}),n._uU(3),n.ALo(4,"abpLocalization"),n.qZA(),n.YNc(5,b,2,5,"label",33),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2);n.xp6(2),n.Q6J("ngClass",n.WLB(5,w,0===e.exerciseCategoryIds.length,e.exerciseCategoryIds.length>0)),n.xp6(1),n.Oqu(n.lcZ(4,3,"::SwitchAll")),n.xp6(2),n.Q6J("ngForOf",e.categories)}}function D(e,t){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,C,12,11,"div",18),n.YNc(2,Z,6,8,"div",19),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.isMobile),n.xp6(1),n.Q6J("ngIf",!e.isMobile)}}function T(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",23),n.NdJ("click",function(){const t=n.CHM(e).$implicit,i=n.oxw(3);return i.selectGenra(t.id,i.langService.isRtl?t.name:t.nameEn)}),n.TgZ(1,"span",28),n._uU(2),n.qZA(),n.TgZ(3,"span",29),n._uU(4),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit;n.xp6(2),n.hij(" ",e.name," "),n.xp6(2),n.hij(" ",e.nameEn," ")}}function A(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",20),n.TgZ(1,"button",21),n._uU(2),n.ALo(3,"abpLocalization"),n.ALo(4,"abpLocalization"),n.qZA(),n.TgZ(5,"div",22),n.TgZ(6,"a",23),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(2);return t.selectGenra(void 0,t.l("::SwitchAll"))}),n.TgZ(7,"span",24),n._uU(8),n.ALo(9,"abpLocalization"),n.qZA(),n.qZA(),n.YNc(10,T,5,2,"a",37),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2);n.xp6(2),n.AsE(" ",n.lcZ(3,4,"::ExerciseGenre"),": ",n.lcZ(4,6,e.selectedItem2)," "),n.xp6(6),n.hij(" ",n.lcZ(9,8,"::SwitchAll")," "),n.xp6(2),n.Q6J("ngForOf",e.genras)}}function E(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"label",34),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(3).selectGenra(t.id,t.name)}),n._uU(1),n.qZA()}if(2&e){const e=t.$implicit,i=n.oxw(3);n.Q6J("ngClass",n.WLB(2,w,i.filter.exerciseGenresId===e.id,i.filter.exerciseGenresId!==e.id)),n.xp6(1),n.hij(" ",e.name," ")}}function M(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",38),n.TgZ(1,"div",39),n.TgZ(2,"label",32),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(2);return t.selectGenra(void 0,t.l("::SwitchAll"))}),n._uU(3),n.ALo(4,"abpLocalization"),n.qZA(),n.YNc(5,E,2,5,"label",33),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2);n.xp6(2),n.Q6J("ngClass",n.WLB(5,w,!e.filter.exerciseGenresId,e.filter.exerciseGenresId)),n.xp6(1),n.Oqu(n.lcZ(4,3,"::SwitchAll")),n.xp6(2),n.Q6J("ngForOf",e.genras)}}function N(e,t){if(1&e&&(n.TgZ(0,"div",35),n.YNc(1,A,11,10,"div",18),n.YNc(2,M,6,8,"div",36),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.isMobile),n.xp6(1),n.Q6J("ngIf",!e.isMobile)}}function k(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",13),n.TgZ(1,"button",40),n.NdJ("click",function(){return n.CHM(e),n.oxw().done()}),n._uU(2),n.ALo(3,"abpLocalization"),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(2),n.hij(" ",n.xi3(3,1,"::AddxExercise",e.selectedItems.length.toString())," ")}}function q(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"span",41),n.NdJ("click",function(){return n.CHM(e),n.oxw().clear()}),n._UZ(1,"i",42),n.qZA()}}function J(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",47),n.TgZ(1,"app-exercise-item",48),n.NdJ("productSelected",function(t){const i=n.CHM(e).$implicit;return n.oxw(2).itemProductSelected(i.exercise,t)}),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("exerciseItem",e.exercise)("filterText",null==i.filter?null:i.filter.exerciseName)("isSelectable",!0)}}function _(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",49),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).loadData()}),n._uU(1),n.ALo(2,"abpLocalization"),n.qZA()}2&e&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"::LoadMore2")," "))}function L(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",43),n.NdJ("scroll",function(t){return n.CHM(e),n.oxw().onScroll(t)}),n.TgZ(1,"div",44),n.YNc(2,J,2,3,"div",45),n.TgZ(3,"div",13),n.YNc(4,_,3,3,"button",46),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(2),n.Q6J("ngForOf",e.result.items),n.xp6(2),n.Q6J("ngIf",e.isShowMore())}}function H(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",44),n.TgZ(1,"div",50),n._UZ(2,"i",51),n.TgZ(3,"p",24),n._uU(4),n.ALo(5,"abpLocalization"),n.qZA(),n._UZ(6,"br"),n._UZ(7,"br"),n.TgZ(8,"button",52),n.NdJ("click",function(){n.CHM(e),n.oxw();const t=n.MAs(9);return n.MAs(19).create(t.value)}),n._uU(9),n.ALo(10,"abpLocalization"),n.qZA(),n.qZA(),n.qZA()}2&e&&(n.xp6(4),n.hij(" ",n.lcZ(5,2,"::AddExerciseTip")," "),n.xp6(5),n.hij(" ",n.lcZ(10,4,"::AddExerciseIfNotExist")," "))}let U=(()=>{class e{constructor(e,t,i,s,r,o,l){this.service=e,this.serviceCategory=t,this.serviceExerciseGenre=i,this.localizationService=s,this.localCacheService=r,this.langService=o,this.mobileHelperService=l,this.productSelected=new n.vpe,this.filter={},this.isLoading=!0,this.selectedItem1="::SwitchAll",this.selectedItem2="::SwitchAll",this.isMobile=!0,this.exerciseCategoryIds=[],this.exerciseCategoryNames=[],this.query={},this.VideoTypes=a.E,this.showSearch=!0,this.selectedItems=new Array}ngOnInit(){const e=this;this.serviceCategory.getList({maxResultCount:100}).subscribe(t=>{e.categories=t.items}),this.serviceExerciseGenre.getList({maxResultCount:100}).subscribe(t=>{e.genras=t.items}),this.loadDataAgain(),setTimeout(()=>{document.getElementsByTagName("app-exercise-selector")[0].scrollIntoView()},100)}l(e){return this.localizationService.instant(e)}isSelectedCategory(e){return this.exerciseCategoryIds.some(t=>t===e)}isAllCategorySelected(){return 0===this.exerciseCategoryNames.length||this.exerciseCategoryNames.some(e=>e===this.l("::SwitchAll"))}selectCategory(e,t){const i=this;e?(this.exerciseCategoryNames=this.exerciseCategoryNames||[this.l("::SwitchAll")],this.exerciseCategoryIds=this.exerciseCategoryIds||[],this.isSelectedCategory(e)?(this.exerciseCategoryNames=this.exerciseCategoryNames.filter(e=>e!==t),this.exerciseCategoryIds=this.exerciseCategoryIds.filter(t=>t!==e),0===this.exerciseCategoryIds.length&&(this.exerciseCategoryNames=[this.l("::SwitchAll")])):(this.exerciseCategoryNames.push(t),this.exerciseCategoryIds.push(e))):(this.exerciseCategoryIds=[],this.exerciseCategoryNames=[t]),this.exerciseCategoryNames.length>1&&this.isAllCategorySelected()&&(this.exerciseCategoryNames=this.exerciseCategoryNames.filter(e=>e!==i.l("::SwitchAll"))),this.selectedItem1=this.exerciseCategoryNames.toString(),this.loadDataAgain()}selectGenra(e,t){this.filter.exerciseGenresId=e,this.selectedItem2=t,this.loadDataAgain()}loadDataAgain(){this.query.skipCount=-1,this.result=void 0,this.loadData()}isShowMore(){return!this.result||this.result.items.length<this.result.totalCount}loadData(){const e=this;e.query.maxResultCount=this.query.maxResultCount||18,e.query.skipCount=e.query.skipCount<0?0:e.result.items.length,e.filter.statusGeneralLookupId=15,e.isLoading=!0,e.filter.exerciseCategoryIds=e.exerciseCategoryIds.toString();const t=Object.assign(Object.assign({},e.query),e.filter),i=`exerciseSelector_${JSON.stringify(t)}`;e.service.getList(t).pipe((0,r.b)(1e3)).pipe((0,o.z)(e.localCacheService,i,60)).subscribe(t=>{let i=new s.wLZ;i.items=[],i.totalCount=0,e.query.skipCount>0&&e.result&&(i.totalCount=e.result.totalCount,i.items=[...e.result.items]),e.result?(t.items.forEach(e=>{i.items.some(t=>t.exercise.id===e.exercise.id)?console.log("Ignore duplicated value"):i.items.push(e)}),i.totalCount=t.totalCount):i=t,setTimeout(()=>{e.result=i,e.isLoading=!1},5)})}get filterText(){return this.filter.exerciseName}set filterText(e){this.filter.exerciseName=e,setTimeout(()=>{this.query.skipCount=-1,this.loadData()},10)}filterByName(e){this.filter.exerciseName=e,this.showSearch=!1,this.loadDataAgain()}clear(){this.showSearch=!0,this.filter.exerciseName=void 0,this.loadDataAgain()}isSelected(e){return this.selectedItems.findIndex(t=>t.id===e.id)>=0}isAnySelected(){return this.selectedItems.length>0}done(){this.productSelected.emit(this.selectedItems)}selectItem(e){this.productSelected.emit([e])}itemProductSelected(e,t){t&&this.selectItem(e)}onCreateNewExercise(e){this.loadDataAgain()}onScroll(e){let t=e.target;t.scrollHeight-t.scrollTop<=t.clientHeight+50&&this.loadData()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(l.zu),n.Y36(l._D),n.Y36(c.g8),n.Y36(s.oQ8),n.Y36(d.F),n.Y36(h.C),n.Y36(u.k4))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-exercise-selector"]],hostBindings:function(e,t){1&e&&n.NdJ("scroll",function(e){return t.onScroll(e)},!1,n.Jf7)},outputs:{productSelected:"productSelected"},decls:20,vars:11,consts:[[1,"row","small-scrollbar"],[1,"col-6"],[4,"ngIf"],["class","",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"col-12","col-md-12"],[1,"input-group","p-3",2,"flex-wrap","wrap"],["id","filterTextFilter",1,"form-control",3,"ngModel","placeholder","keyup.enter","ngModelChange"],["filterTextControl",""],[1,"input-group-prepend"],["class","input-group-text btn btn-outline-primary",3,"click",4,"ngIf"],[1,"input-group-text","btn","btn-primary",3,"click"],[1,"fas","fa-search","d-block"],[1,"col-12"],["class","bg-scroll-2",3,"scroll",4,"ngIf"],["class","row",4,"ngIf"],[3,"hideList","onSaved"],["appExercise",""],["ngbDropdown","","class","dropdown ",4,"ngIf"],["class","form-inline d-flex align-items-center",4,"ngIf"],["ngbDropdown","",1,"dropdown"],["id","dropdownMenuLink","ngbDropdownToggle","",1,"btn","btn-secondary"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item","pointer",3,"click"],[1,"text-muted"],["class","dropdown-item pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"fa","fa-check"],[1,"dropdown-item","pointer",3,"ngClass","click"],[1,"text-muted","view-rtl"],[1,"text-muted","view-ltr"],[1,"form-inline","d-flex","align-items-center"],[1,"btn-group",2,"flex-wrap","wrap"],[1,"btn","mb-0","btn-secondary",3,"ngClass","click"],["style","flex-direction: column","class","btn mb-0 btn-secondary",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"btn","mb-0","btn-secondary",2,"flex-direction","column",3,"ngClass","click"],[1,""],["class","form-inline d-flex align-items-center","style","flex-direction: row-reverse !important",4,"ngIf"],["class","dropdown-item pointer",3,"click",4,"ngFor","ngForOf"],[1,"form-inline","d-flex","align-items-center",2,"flex-direction","row-reverse !important"],[1,"btn-group"],[1,"btn","btn-success",3,"click"],[1,"input-group-text","btn","btn-outline-primary",3,"click"],[1,"far","fa-times-circle","d-block"],[1,"bg-scroll-2",3,"scroll"],[1,"row"],["class","col-12 col-md-6",4,"ngFor","ngForOf"],["class","btn btn-primary","id","load_more",3,"click",4,"ngIf"],[1,"col-12","col-md-6"],[3,"exerciseItem","filterText","isSelectable","productSelected"],["id","load_more",1,"btn","btn-primary",3,"click"],[1,"col"],[1,"fa","fa-dumbbell","fa-3x","text-primary","my-4"],[1,"btn","btn-sm","btn-outline-success","custom-add-more",3,"click"]],template:function(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.YNc(2,D,3,2,"div",2),n.qZA(),n.TgZ(3,"div",1),n.YNc(4,N,3,2,"div",3),n.qZA(),n.YNc(5,k,4,4,"div",4),n.TgZ(6,"div",5),n.TgZ(7,"div",6),n.TgZ(8,"input",7,8),n.NdJ("keyup.enter",function(e){return t.filterByName(e.target.value)})("ngModelChange",function(e){return t.filterText=e}),n.ALo(10,"abpLocalization"),n.qZA(),n.TgZ(11,"div",9),n.YNc(12,q,2,0,"span",10),n.TgZ(13,"span",11),n.NdJ("click",function(){n.CHM(e);const i=n.MAs(9);return t.filterByName(i.value)}),n._UZ(14,"i",12),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(15,"div",13),n.YNc(16,L,5,2,"div",14),n.YNc(17,H,11,6,"div",15),n.qZA(),n.qZA(),n.TgZ(18,"app-exercise",16,17),n.NdJ("onSaved",function(e){return t.onCreateNewExercise(e)}),n.qZA()}2&e&&(n.xp6(2),n.Q6J("ngIf",t.categories),n.xp6(2),n.Q6J("ngIf",t.genras),n.xp6(1),n.Q6J("ngIf",t.isAnySelected()),n.xp6(3),n.s9C("placeholder",n.lcZ(10,9,"::Search")),n.Q6J("ngModel",t.filterText),n.xp6(4),n.Q6J("ngIf",!t.showSearch),n.xp6(4),n.Q6J("ngIf",t.result&&t.result.items.length>0),n.xp6(1),n.Q6J("ngIf",!(t.result&&0!==t.result.items.length||t.isLoading)),n.xp6(1),n.Q6J("hideList",!0))},directives:[g.O5,p.Fj,p.JJ,p.On,m.m,a.W,x.jt,x.iD,x.Vi,g.sg,g.mk,f.z],pipes:[s.fuE],styles:[".bg-scroll-2[_ngcontent-%COMP%]{max-height:60vh;overflow-y:scroll;overflow-x:hidden}"]}),e})()},40906:function(e,t,i){"use strict";i.d(t,{k:function(){return h}});var s=i(35366),n=i(89443),r=i(30212);class o{constructor(e,t){this.parent=t,this.onDeleted=new s.vpe,this.isEditing=!0,this.isDeleted=!1,this.id=e.id,this.dropSetId=e.dropSetId,this.exerciseSeconds=e.exerciseSeconds,this.repeatCount=e.repeatCount,this.restSeconds=e.restSeconds,this.weight=e.weight}get exerciseSeconds(){return this._exerciseSeconds}set exerciseSeconds(e){if(this._exerciseSeconds!=e&&this.parent){var t=this.parent.getNextItem(this);if(t&&this.dropSetId==t.dropSetId){var i=this.parent.getPreItem(this);if(i&&(i.exerciseSeconds||0)>0){let s=(e||0)+((e||0)-(i.exerciseSeconds||0));s<0&&(s=0),setTimeout(()=>{t.exerciseSeconds=s},10)}else setTimeout(()=>{t.exerciseSeconds=e<0?0:e},10)}}this._exerciseSeconds=e}get repeatCount(){return this._repeatCount}set repeatCount(e){if(this._repeatCount!=e&&this.parent){var t=this.parent.getNextItem(this);if(t&&this.dropSetId==t.dropSetId){var i=this.parent.getPreItem(this);if(i&&(i.repeatCount||0)>0){let s=(e||0)+((e||0)-(i.repeatCount||0));s<0&&(s=0),setTimeout(()=>{t.repeatCount=s},10)}else setTimeout(()=>{t.repeatCount=e<0?0:e},10)}}this._repeatCount=e}get restSeconds(){return this._restSeconds}set restSeconds(e){if(this._restSeconds!=e&&this.parent){var t=this.parent.getNextItem(this);if(t&&this.dropSetId==t.dropSetId){var i=this.parent.getPreItem(this);if(i&&(i.restSeconds||0)>0){let s=(e||0)+((e||0)-(i.restSeconds||0));s<0&&(s=0),setTimeout(()=>{t.restSeconds=s},10)}else setTimeout(()=>{t.restSeconds=e<0?0:e},10)}}this._restSeconds=e}get weight(){return this._weight}set weight(e){if(this._weight!=e&&this.parent){var t=this.parent.getNextItem(this);if(t&&this.dropSetId==t.dropSetId){var i=this.parent.getPreItem(this);if(i&&(i.weight||0)>0){let s=(e||0)+((e||0)-(i.weight||0));s<0&&(s=0),setTimeout(()=>{t.weight=s},10)}else setTimeout(()=>{t.weight=e<0?0:e},10)}}this._weight=e}get isDropSet(){return!!(this.dropSetId&&this.dropSetId.length>0)}undoDropSet(){const e=this,t=this.parent;e.dropSetId=void 0,this.parent.groups=this.parent.groupsUnDeleted.filter(t=>t!=e),this.parent.parent.appendGroup(e.convertToDto()),0==t.groupsUnDeleted.length&&t.delete()}edit(){this.isEditing=!0,this.backup={exerciseSeconds:this.exerciseSeconds,repeatCount:this.repeatCount,weight:this.weight,restSeconds:this.restSeconds}}cancel(){this.isEditing=!1,this.exerciseSeconds=this.backup.exerciseSeconds,this.repeatCount=this.backup.repeatCount,this.restSeconds=this.backup.restSeconds,this.weight=this.backup.weight}exerciseSecondsIsInvalid(){return null!=this.exerciseSeconds&&void 0!==this.exerciseSeconds&&this.exerciseSeconds<0||!!r.d.InIntegerCheckerInvalid(this.exerciseSeconds)||this.exerciseSeconds>1e3}restSecondsIsInvalid(){return null!=this.restSeconds&&void 0!==this.restSeconds&&this.restSeconds<0||!!r.d.InIntegerCheckerInvalid(this.restSeconds)||this.restSeconds>1e3}repeatCountIsInvalid(){return null!=this.repeatCount&&void 0!==this.repeatCount&&this.repeatCount<0||!!r.d.InIntegerCheckerInvalid(this.repeatCount)||this.repeatCount>1e3}weightIsInvalid(){return null!=this.weight&&void 0!==this.weight&&this.weight<0||this.weight>1e3}hasError(){return this.exerciseSecondsIsInvalid()||this.weightIsInvalid()||this.repeatCountIsInvalid()||this.restSecondsIsInvalid()}save(){this.hasError()||(this.isEditing=!1)}delete(){this.isDeleted=!0,this.onDeleted.emit()}convertToDto(){let e={};return e.id=this.id,e.dropSetId=this.dropSetId||void 0,e.exerciseSeconds=this.exerciseSeconds||void 0,e.repeatCount=this.repeatCount||void 0,e.restSeconds=this.restSeconds||void 0,e.weight=this.weight||void 0,e}}var a=i(40594);class l{constructor(e,t){this.dropSetId=e,this.parent=t,this.onDeleted=new s.vpe,this.groups=[],this.isDeleted=!1}get groupsUnDeleted(){return this.groups.filter(e=>!e.isDeleted)}add(e){const t=this;let i=new o(e,this);return i.onDeleted.subscribe(e=>{0===t.groupsUnDeleted.length&&this.delete()}),this.groups.push(i),i}get isDropSet(){return!!(this.dropSetId&&this.dropSetId.length>0)}delete(){this.isDeleted=!0,this.onDeleted.emit()}hasError(){let e=!1;return this.groupsUnDeleted.forEach(t=>{e||(e=t.hasError())}),e}addNewDetail(){let e={};e.dropSetId=this.dropSetId,this.add(e).edit()}convertToDropSet(){this.dropSetId=a.i.generate(),this.groups.forEach(e=>{e.restSeconds=0,e.dropSetId=this.dropSetId})}isEditing(){let e=!1;return this.groupsUnDeleted.forEach(t=>{e=e||t.isEditing}),e}getPreItem(e){let t,i;return this.isDropSet?(this.groupsUnDeleted.forEach(s=>{s===e&&(t=i),i=s}),t):(this.parent.groupsContainersUnDeleted.forEach(e=>{e===this&&(t=i),i=e.groupsUnDeleted[0]}),t)}getNextItem(e){let t,i=!1;return this.isDropSet?(this.groupsUnDeleted.forEach(s=>{i&&!t&&(t=s),i=s===e}),t):(this.parent.groupsContainersUnDeleted.forEach(e=>{i&&!t&&(t=e.groupsUnDeleted[0]),i=e===this}),t)}}class c{constructor(e){this.onDeleted=new s.vpe,this.groupsContainers=[],this.isExpaneded=!0,this.isDeleted=!1,this.id=e.id,this.exerciseId=e.exerciseId,this.exerciseNote=e.exerciseNote,console.log(e),this.exerciseType=e.exercise?e.exercise.exerciseTypeGeneralLookupId:n.$.Count,this.exercise=e.exercise,this.name=e.name,this.nameEn=e.nameEn,e.exerciseProgramDayItemGroups&&e.exerciseProgramDayItemGroups.length>0?e.exerciseProgramDayItemGroups.forEach(e=>{this.appendGroup(e)}):this.addFakeData()}get groupsContainersUnDeleted(){return this.groupsContainers.filter(e=>!e.isDeleted)}addFakeData(){}appendGroup(e){let t=new o(e,null),i=this.groupsContainers.filter(e=>e.dropSetId==t.dropSetId);if(t.isDropSet&&i.length>0){const t=i[0],s=t.add(e);return this.listenToDelete(t),s}{let i=new l(t.dropSetId,this),s=i.add(e);return this.groupsContainers.push(i),this.listenToDelete(i),s}}listenToDelete(e){e.onDeleted.subscribe(e=>{0===this.groupsContainersUnDeleted.length&&this.delete()})}delete(){this.isDeleted=!0,this.onDeleted.emit()}hasError(){let e=!1;return this.groupsContainersUnDeleted.forEach(t=>{e||(e=t.hasError())}),e}addNewDetail(){this.appendGroup({}).edit()}convertToDto(){let e={};return e.id=this.id,e.name=this.name,e.nameEn=this.nameEn,e.exerciseId=this.exerciseId,e.exerciseNote=this.exerciseNote,e.exercise=this.exercise,e.exerciseProgramDayItemGroups=[],this.groupsContainersUnDeleted.forEach(t=>{t.groupsUnDeleted.forEach(t=>{e.exerciseProgramDayItemGroups.push(t.convertToDto())})}),e}isEditing(){let e=!1;return this.groupsContainersUnDeleted.forEach(t=>{e=e||t.isEditing()}),e}}class d{constructor(e){this.onDeleted=new s.vpe,this.exerciseDayItemSets=[],this.isExpaneded=!0,this.isDeleted=!1,this.id=e.id,this.name=e.name,e.exerciseProgramDayItemSets&&e.exerciseProgramDayItemSets.length>0?e.exerciseProgramDayItemSets.forEach(e=>{this.addSet(e)}):this.addFakeData()}get exerciseDayItemSetsUnDeleted(){return this.exerciseDayItemSets.filter(e=>!e.isDeleted)}addSet(e){let t=new c(e);t.onDeleted.subscribe(e=>{0===this.exerciseDayItemSetsUnDeleted.length&&this.delete()}),this.exerciseDayItemSets.push(t)}addFakeData(){}delete(){this.isDeleted=!0,this.onDeleted.emit()}convertToDto(){let e={};return e.id=this.id,e.name=this.name,e.exerciseProgramDayItemSets=[],this.exerciseDayItemSetsUnDeleted.forEach(t=>{e.exerciseProgramDayItemSets.push(t.convertToDto())}),e}isSuperSetValid(){let e,t=this.exerciseDayItemSetsUnDeleted.map(e=>e.groupsContainersUnDeleted.length),i=!0;return t.forEach(t=>{void 0!==e&&e!==t&&(i=!1),e=t}),i}hasError(){let e=!0;return this.exerciseDayItemSetsUnDeleted.forEach(t=>{e&&(e=!t.hasError())}),!e}isEditing(){let e=!1;return this.exerciseDayItemSetsUnDeleted.forEach(t=>{e=e||t.isEditing()}),e}}class h{constructor(e){this.onEmpty=new s.vpe,this.exerciseDayItems=[],e&&(this.id=e.id,this.dayNumber=e.dayNumber,this.name=e.name||" ",this.nameEn=e.nameEn||" ",this.exerciseProgramId=e.exerciseProgramId,e.exerciseProgramDayItems&&e.exerciseProgramDayItems.length>0?e.exerciseProgramDayItems.forEach(e=>{this.add(e)}):this.addFakeData())}get exerciseDayItemsUnDeleted(){return this.exerciseDayItems.filter(e=>!e.isDeleted)}addFakeData(){}add(e,t,i){const s=this;if(i){e.exerciseProgramDayItemSets=e.exerciseProgramDayItemSets||[];let s={};console.log(i),s.exerciseId=i.id,s.exercise=i,s.name=i.exerciseName,s.nameEn=i.exerciseNameEn,s.exerciseProgramDayItemGroups=[],t.forEach(e=>{let t={};t.exerciseSeconds=e.exerciseSeconds,t.restSeconds=e.restSeconds,t.repeatCount=e.repeatCount,t.weight=e.weight,s.exerciseProgramDayItemGroups.push(t)}),t&&0!==t.length||s.exerciseProgramDayItemGroups.push({}),e.exerciseProgramDayItemSets.push(s)}let n=new d(e);return n.onDeleted.subscribe(e=>{0===s.exerciseDayItemsUnDeleted.length&&s.onEmpty.emit()}),this.exerciseDayItems.push(n),n}addNewDetail(e,t){this.add({},e,t)}UnMergeSuperSet(e,t){let i=new d({});e.exerciseDayItemSetsUnDeleted.forEach((s,n)=>{n>t&&(e.exerciseDayItemSets=e.exerciseDayItemSets.filter(e=>e!=s),i.exerciseDayItemSets.push(s))}),this.exerciseDayItems.splice(this.exerciseDayItems.indexOf(e)+1,0,i)}MergeSuperSet(e,t){t.exerciseDayItemSetsUnDeleted.forEach(i=>{t.exerciseDayItemSets=t.exerciseDayItemSets.filter(e=>e!=i),e.exerciseDayItemSets.push(i)}),t.delete()}convertToDto(){let e={};return e.id=this.id,e.dayNumber=this.dayNumber,e.exerciseProgramId=this.exerciseProgramId,e.name=this.name,e.nameEn=this.nameEn,e.exerciseProgramDayItems=[],this.exerciseDayItemsUnDeleted.forEach(t=>{e.exerciseProgramDayItems.push(t.convertToDto())}),e}isAllSuperSetsValid(){let e=!0;return this.exerciseDayItemsUnDeleted.forEach(t=>{e&&(e=t.isSuperSetValid())}),e}hasError(){let e=!0;return this.exerciseDayItemsUnDeleted.forEach(t=>{e&&(e=!t.hasError())}),!e}isEditing(){let e=!1;return this.exerciseDayItemsUnDeleted.forEach(t=>{e=e||t.isEditing()}),e}}},40594:function(e,t,i){"use strict";i.d(t,{i:function(){return s}});class s{static generate(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}static generateByLength(e){var t="";for(let i=0;i<e;i++)t+="x".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)});return t}}}}]);