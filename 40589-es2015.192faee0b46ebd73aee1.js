(self.webpackChunkPhysic=self.webpackChunkPhysic||[]).push([[40589,55e3],{40589:function(t,e,i){"use strict";i.r(e),i.d(e,{AssignHistoryModule:function(){return g}});var s=i(46700),a=i(55679),r=i(10135),n=i(99046),o=i(83845),p=i(73756),l=i(56410),u=i(71753),c=i(35366);const m=[{path:"",component:u.I,canActivate:[s.a1M,s.nG9]}];let d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[l.Bz.forChild(m)],l.Bz]}),t})();var h=i(56137);let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[d,s.IR2,a.e2,p.Ck,o.vv,n.h2,r.lQ,r.M,h.m,r.XC]]}),t})()},71753:function(t,e,i){"use strict";i.d(e,{I:function(){return y}});var s=i(46700),a=i(55679),r=i(31041),n=i(2996),o=i(11520),p=i(44019),l=i(43835),u=i(44689),c=i(35366);let m=(()=>{class t{constructor(t){this.restService=t,this.apiName="Default",this.create=t=>this.restService.request({method:"POST",url:"/api/app/assign-histories",body:t},{apiName:this.apiName}),this.delete=t=>this.restService.request({method:"DELETE",url:`/api/app/assign-histories/${t}`},{apiName:this.apiName}),this.get=t=>this.restService.request({method:"GET",url:`/api/app/assign-histories/${t}`},{apiName:this.apiName}),this.getAppUserLookup=t=>this.restService.request({method:"GET",url:"/api/app/assign-histories/app-user-lookup",params:{filter:t.filter,skipCount:t.skipCount,maxResultCount:t.maxResultCount}},{apiName:this.apiName}),this.getExerciseProgramLookup=t=>this.restService.request({method:"GET",url:"/api/app/assign-histories/exercise-program-lookup",params:{filter:t.filter,skipCount:t.skipCount,maxResultCount:t.maxResultCount}},{apiName:this.apiName}),this.getList=t=>this.restService.request({method:"GET",url:"/api/app/assign-histories",params:{filterText:t.filterText,startDateMin:t.startDateMin,startDateMax:t.startDateMax,endDateMin:t.endDateMin,endDateMax:t.endDateMax,assignedByAppUserId:t.assignedByAppUserId,traineeAppUserId:t.traineeAppUserId,exerciseProgramId:t.exerciseProgramId,nutritionProgramId:t.nutritionProgramId,sorting:t.sorting,skipCount:t.skipCount,maxResultCount:t.maxResultCount}},{apiName:this.apiName}),this.getNutritionProgramLookup=t=>this.restService.request({method:"GET",url:"/api/app/assign-histories/nutrition-program-lookup",params:{filter:t.filter,skipCount:t.skipCount,maxResultCount:t.maxResultCount}},{apiName:this.apiName}),this.getWithNavigationProperties=t=>this.restService.request({method:"GET",url:`/api/app/assign-histories/with-navigation-properties/${t}`},{apiName:this.apiName}),this.update=(t,e)=>this.restService.request({method:"PUT",url:`/api/app/assign-histories/${t}`,body:e},{apiName:this.apiName})}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(s.vgb))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=i(17647),h=i(55e3),g=i(61116);function f(t,e){if(1&t&&(c.TgZ(0,"div",7),c._uU(1),c.ALo(2,"abpLocalization"),c.qZA(),c.TgZ(3,"span",8),c._UZ(4,"is-empty",9),c.ALo(5,"date"),c.qZA()),2&t){const t=e.row;c.xp6(1),c.Oqu(c.lcZ(2,2,"::StartDate")),c.xp6(3),c.Q6J("value",c.lcZ(5,4,t.assignHistory.startDate))}}function v(t,e){if(1&t&&(c.TgZ(0,"div",7),c._uU(1),c.ALo(2,"abpLocalization"),c.qZA(),c.TgZ(3,"span",8),c._UZ(4,"is-empty",9),c.ALo(5,"date"),c.qZA()),2&t){const t=e.row;c.xp6(1),c.Oqu(c.lcZ(2,2,"::EndDate")),c.xp6(3),c.Q6J("value",c.lcZ(5,4,t.assignHistory.endDate))}}function x(t,e){if(1&t&&(c.TgZ(0,"div",7),c._uU(1),c.ALo(2,"abpLocalization"),c.qZA(),c.TgZ(3,"span",8),c._uU(4),c.qZA()),2&t){const t=e.row;c.xp6(1),c.Oqu(c.lcZ(2,2,"::CoachName")),c.xp6(3),c.hij(" ",null==t.appUser?null:t.appUser.name," ")}}function Z(t,e){if(1&t&&(c.TgZ(0,"div"),c.TgZ(1,"div",7),c._uU(2),c.ALo(3,"abpLocalization"),c.qZA(),c.TgZ(4,"span",8),c._UZ(5,"i",11),c._uU(6),c.qZA(),c.qZA()),2&t){const t=c.oxw().row;c.xp6(2),c.Oqu(c.lcZ(3,2,"::ExerciseProgramName")),c.xp6(4),c.hij(" ",null==t.exerciseProgram?null:t.exerciseProgram.exerciseProgramName," ")}}function A(t,e){if(1&t&&(c.TgZ(0,"div"),c.TgZ(1,"div",7),c._uU(2),c.ALo(3,"abpLocalization"),c.qZA(),c.TgZ(4,"span",8),c._UZ(5,"i",12),c._uU(6),c.qZA(),c.qZA()),2&t){const t=c.oxw().row;c.xp6(2),c.Oqu(c.lcZ(3,2,"::NutriitionProgramName")),c.xp6(4),c.hij(" ",null==t.nutritionProgram?null:t.nutritionProgram.nutriitionProgramName," ")}}function N(t,e){if(1&t&&(c.YNc(0,Z,7,4,"div",10),c.YNc(1,A,7,4,"div",10)),2&t){const t=e.row;c.Q6J("ngIf",t.exerciseProgram),c.xp6(1),c.Q6J("ngIf",t.nutritionProgram)}}let y=(()=>{class t{constructor(t,e,i,s,a,r){this.list=t,this.track=e,this.service=i,this.confirmation=s,this.dateService=a,this.fb=r,this.data={items:[],totalCount:0},this.filters={},this.isFiltersHidden=!0,this.isModalBusy=!1,this.isModalOpen=!1}get appUserId(){return this._appUserId}set appUserId(t){t!=this._appUserId&&(this.filters.traineeAppUserId=t,this.list.get()),this._appUserId=t}get showFilter(){return this._showFilter}set showFilter(t){this._showFilter=t,this.isFiltersHidden=!t}ngOnInit(){this.list.hookToQuery(t=>{let e=Object.assign({},this.filters);return e.startDateMin=this.dateService.parseMomentToString(e.startDateMin),e.startDateMax=this.dateService.parseMomentToString(e.startDateMax),e.endDateMin=this.dateService.parseMomentToString(e.endDateMin),e.endDateMax=this.dateService.parseMomentToString(e.endDateMax),this.service.getList(Object.assign(Object.assign(Object.assign({},t),e),{filterText:t.filter}))}).subscribe(t=>this.data=t)}clearFilters(){this.filters={}}buildForm(){var t;const{startDate:e,endDate:i,assignedByAppUserId:s,traineeAppUserId:a,exerciseProgramId:n,nutritionProgramId:o}=(null===(t=this.selected)||void 0===t?void 0:t.assignHistory)||{};this.form=this.fb.group({startDate:[e?new Date(e):null,[r.kI.required]],endDate:[i?new Date(i):null,[r.kI.required]],assignedByAppUserId:[null!=s?s:null,[]],traineeAppUserId:[null!=a?a:null,[]],exerciseProgramId:[null!=n?n:null,[]],nutritionProgramId:[null!=o?o:null,[]]})}hideForm(){this.isModalOpen=!1,this.form.reset()}showForm(){this.buildForm(),this.isModalOpen=!0}submitForm(){if(this.form.invalid)return;const t=this.selected?this.service.update(this.selected.assignHistory.id,this.form.value):this.service.create(this.form.value);this.isModalBusy=!0,t.pipe((0,o.x)(()=>this.isModalBusy=!1),(0,p.b)(()=>this.hideForm())).subscribe(this.list.get)}create(){this.selected=void 0,this.showForm()}update(t){this.selected=t,this.showForm()}delete(t){this.confirmation.warn("::DeleteConfirmationMessage","::AreYouSure",{messageLocalizationParams:[]}).pipe((0,l.h)(t=>t===a.Tv.Status.confirm),(0,u.w)(()=>this.service.delete(t.assignHistory.id))).subscribe(this.list.get)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(s.XNV),c.Y36(s.vR3),c.Y36(m),c.Y36(a.YP),c.Y36(n.R),c.Y36(r.qu))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-assign-history"]],inputs:{appUserId:"appUserId"},features:[c._Bn([s.XNV,n.R])],decls:14,vars:15,consts:[[1,"row","entry-row"],["default","",1,"app-dataview",3,"rows","count","list"],["prop","assignHistory.startDate",3,"name"],["ngx-datatable-cell-template",""],["prop","assignHistory.endDate",3,"name"],["prop","appUser.name",3,"name"],["prop","exerciseProgram.exerciseProgramName",3,"name"],[1,"custom-gray","custom-600"],[1,"custom-black","custom-600"],[3,"value"],[4,"ngIf"],[1,"fa","fa-dumbbell","text-muted"],[1,"fa","fa-apple-alt","text-muted"]],template:function(t,e){1&t&&(c._UZ(0,"div",0),c.TgZ(1,"ngx-datatable",1),c.TgZ(2,"ngx-datatable-column",2),c.ALo(3,"abpLocalization"),c.YNc(4,f,6,6,"ng-template",3),c.qZA(),c.TgZ(5,"ngx-datatable-column",4),c.ALo(6,"abpLocalization"),c.YNc(7,v,6,6,"ng-template",3),c.qZA(),c.TgZ(8,"ngx-datatable-column",5),c.ALo(9,"abpLocalization"),c.YNc(10,x,5,4,"ng-template",3),c.qZA(),c.TgZ(11,"ngx-datatable-column",6),c.ALo(12,"abpLocalization"),c.YNc(13,N,2,2,"ng-template",3),c.qZA(),c.qZA()),2&t&&(c.xp6(1),c.Q6J("rows",e.data.items)("count",e.data.totalCount)("list",e.list),c.xp6(1),c.s9C("name",c.lcZ(3,7,"::StartDate")),c.xp6(3),c.s9C("name",c.lcZ(6,9,"::EndDate")),c.xp6(3),c.s9C("name",c.lcZ(9,11,"::CoachName")),c.xp6(3),c.s9C("name",c.lcZ(12,13,"::ExerciseProgram")))},directives:[d.nE,a.x7,a.j3,d.UC,d.vq,h.K,g.O5],pipes:[s.fuE,g.uU],encapsulation:2}),t})()},55e3:function(t,e,i){"use strict";i.d(e,{K:function(){return u}});var s=i(46700),a=i(2996),r=i(35366),n=i(61116);function o(t,e){if(1&t&&(r.TgZ(0,"span",2),r.TgZ(1,"span"),r._uU(2),r.qZA(),r.Hsn(3),r.qZA()),2&t){const t=r.oxw();r.xp6(2),r.Oqu(t.parsedDate)}}function p(t,e){if(1&t&&(r.TgZ(0,"span",3),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.hij(" ",t.l("NotFound"),"\n")}}const l=["*"];let u=(()=>{class t{constructor(t,e){this.dateService=e,this.localization=t.get(s.oQ8)}get value(){return this._value}set value(t){this._value=t,this.parsedDate=this.value instanceof Date?this.dateService.parseDate(t):t}l(t){return this.localization.instant("::"+t)}isNotEmpty(){return!!this.value&&("string"!=typeof this.value||this.value.length>0)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.zs3),r.Y36(a.R))},t.\u0275cmp=r.Xpm({type:t,selectors:[["is-empty"]],inputs:{value:"value"},features:[r._Bn([a.R])],ngContentSelectors:l,decls:2,vars:2,consts:[["class","sw-dv-details",4,"ngIf"],["class","sw-dv-details empty-value custom-gray","style","font-size: 12px;font-style: italic;",4,"ngIf"],[1,"sw-dv-details"],[1,"sw-dv-details","empty-value","custom-gray",2,"font-size","12px","font-style","italic"]],template:function(t,e){1&t&&(r.F$t(),r.YNc(0,o,4,1,"span",0),r.YNc(1,p,2,1,"span",1)),2&t&&(r.Q6J("ngIf",e.isNotEmpty()),r.xp6(1),r.Q6J("ngIf",!e.isNotEmpty()))},directives:[n.O5],encapsulation:2}),t})()}}]);