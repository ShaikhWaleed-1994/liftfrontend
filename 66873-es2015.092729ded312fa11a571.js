(self.webpackChunkPhysic=self.webpackChunkPhysic||[]).push([[66873],{66873:function(t,e,i){"use strict";i.r(e),i.d(e,{MonthlyReportModule:function(){return q}});var o=i(46700),a=i(55679),r=i(10135),n=i(99046),s=i(83845),l=i(73756),c=i(56137),d=i(56410),u=i(31041),m=i(66028),p=i(2996),Z=i(35366);let f=(()=>{class t{constructor(t){this.restService=t,this.apiName="Default",this.downloadExcelByInput=t=>this.restService.request({method:"GET",url:"/api/app/MonthlyReport/export",params:{dateMin:t.dateMin,dateMax:t.dateMax}},{apiName:this.apiName})}}return t.\u0275fac=function(e){return new(e||t)(Z.LFG(o.vgb))},t.\u0275prov=Z.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=i(61116),h=i(40739),b=i(23733);function v(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"form",9,10),Z.NdJ("ngSubmit",function(){return Z.CHM(t),Z.oxw().submitForm()}),Z.TgZ(2,"div",11),Z.TgZ(3,"div",12),Z.TgZ(4,"div",13),Z.TgZ(5,"label"),Z._uU(6),Z.ALo(7,"abpLocalization"),Z.qZA(),Z.TgZ(8,"div",14),Z._UZ(9,"sw-date-picker",15),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(10,"div",12),Z.TgZ(11,"div",13),Z.TgZ(12,"label"),Z._uU(13),Z.ALo(14,"abpLocalization"),Z.qZA(),Z.TgZ(15,"div",14),Z._UZ(16,"sw-date-picker",16),Z.qZA(),Z.qZA(),Z.qZA(),Z._UZ(17,"div",17),Z.TgZ(18,"div",18),Z.TgZ(19,"div",11),Z.TgZ(20,"div",19),Z.TgZ(21,"div",20),Z.TgZ(22,"button",21),Z.NdJ("click",function(){return Z.CHM(t),Z.oxw().clearFilters()}),Z.TgZ(23,"span"),Z._uU(24),Z.ALo(25,"abpLocalization"),Z.qZA(),Z.qZA(),Z.TgZ(26,"button",22),Z.TgZ(27,"span"),Z._uU(28),Z.ALo(29,"abpLocalization"),Z.qZA(),Z._UZ(30,"i",23),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()}if(2&t){const t=Z.oxw();Z.Q6J("formGroup",t.form),Z.xp6(6),Z.hij(" ",Z.lcZ(7,5,"::FromDate")," "),Z.xp6(7),Z.hij(" ",Z.lcZ(14,7,"::ToDate")," "),Z.xp6(11),Z.Oqu(Z.lcZ(25,9,"::Clear")),Z.xp6(4),Z.Oqu(Z.lcZ(29,11,"::ExportToExcel"))}}const A=[{path:"",component:(()=>{class t{constructor(t,e,i){this.dateService=t,this.fb=e,this.service=i,this.isFiltersHidden=!0,this.filters={}}ngOnInit(){this.buildForm()}buildForm(){this.form=this.fb.group({dateMin:[null,[u.kI.required]],dateMax:[null,[u.kI.required]]})}submitForm(){console.log("submitForm"),this.form.invalid?console.log(this.form.errors):(this.filters.dateMax=this.form.get("dateMax").value,this.filters.dateMin=this.form.get("dateMin").value,this.exportToExcel())}get showFilter(){return this._showFilter}set showFilter(t){this._showFilter=t,this.isFiltersHidden=!t}clearFilters(){this.filters={}}exportToExcel(){let t={},e=Object.assign({},this.filters);e.dateMin=this.dateService.parseMomentToString(e.dateMin),e.dateMax=this.dateService.parseMomentToString(e.dateMax);let i=Object.assign(Object.assign(Object.assign({},t),e),{filterText:t.filter});this.service.downloadExcelByInput(i).subscribe(t=>{var e=(new m.A).b64toBlob(t.data,"application/vnd.ms-excel");const i=window.URL.createObjectURL(e),o=document.createElement("a");o.style.display="none",o.href=i,o.download=t.filename,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(i)})}}return t.\u0275fac=function(e){return new(e||t)(Z.Y36(p.R),Z.Y36(u.qu),Z.Y36(f))},t.\u0275cmp=Z.Xpm({type:t,selectors:[["app-qr-usage-log"]],features:[Z._Bn([o.XNV,p.R])],decls:13,vars:4,consts:[[1,"row","entry-row","align-items-center"],[1,"col-12","col-sm-auto"],[1,"content-header-title"],[1,"col-lg-auto","pl-lg-0"],[1,"col-auto"],["id","advanced-content-filters"],[1,"card","mb-4"],[1,"card-body"],["validateOnSubmit","",3,"formGroup","ngSubmit",4,"ngIf"],["validateOnSubmit","",3,"formGroup","ngSubmit"],["filterForm",""],[1,"row"],[1,"col-md-4","col-sm-auto"],[1,"form-group"],["validationTarget","",1,""],["id","minDate","formControlName","dateMin","name","minDate"],["id","maxDate","formControlName","dateMax","name","maxDate"],[1,"col"],[1,"col-auto","align-self-end","mb-3"],[1,"col-12"],[1,""],["type","button",1,"btn","btn-outline-primary","btn-block",3,"click"],["type","submit",1,"btn","btn-success"],[1,"fa","fa-file-excel-o","fa-lg"]],template:function(t,e){1&t&&(Z.TgZ(0,"div",0),Z.TgZ(1,"div",1),Z.TgZ(2,"h1",2),Z._uU(3),Z.ALo(4,"abpLocalization"),Z.qZA(),Z.qZA(),Z.TgZ(5,"div",3),Z._UZ(6,"abp-breadcrumb"),Z.qZA(),Z._UZ(7,"div",3),Z._UZ(8,"div",4),Z.qZA(),Z.TgZ(9,"div",5),Z.TgZ(10,"div",6),Z.TgZ(11,"div",7),Z.YNc(12,v,31,13,"form",8),Z.qZA(),Z.qZA(),Z.qZA()),2&t&&(Z.xp6(3),Z.Oqu(Z.lcZ(4,2,"::MonthlyReport")),Z.xp6(9),Z.Q6J("ngIf",e.form))},directives:[a.LI,g.O5,u._Y,u.JL,o.YzZ,u.sg,n.hL,n.kG,h.L,u.JJ,u.u,n.J5,b.m],pipes:[o.fuE],encapsulation:2}),t})(),canActivate:[o.a1M]}];let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Z.oAB({type:t}),t.\u0275inj=Z.cJS({imports:[[d.Bz.forChild(A)],d.Bz]}),t})(),q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Z.oAB({type:t}),t.\u0275inj=Z.cJS({imports:[[T,o.IR2,a.e2,l.Ck,s.vv,n.h2,r.lQ,r.M,c.m,r.XC]]}),t})()}}]);