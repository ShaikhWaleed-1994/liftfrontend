(self.webpackChunkPhysic=self.webpackChunkPhysic||[]).push([[8266],{66297:function(e,t,i){"use strict";i.d(t,{E:function(){return g}});var o=i(46700),s=i(55679),n=i(10135),a=i(99046),r=i(83845),c=i(73756),l=i(56137),p=i(99416),d=i(56874),u=i(35366);let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[d.e,p.vO,o.IR2,s.e2,c.Ck,r.vv,a.h2,n.lQ,n.M,l.m,n.XC]]}),e})()},25349:function(e,t,i){"use strict";i.d(t,{d:function(){return y}});var o=i(55679),s=i(31041),n=i(2996),a=i(43835),r=i(44689),c=(i(29609),i(35366)),l=i(46700),p=i(94773),d=i(42373),u=i(99046),g=i(40739),m=i(23733),h=i(1254),f=i(28451),x=i(61116);function Z(e,t){if(1&e&&(c.TgZ(0,"h3"),c._uU(1),c.ALo(2,"abpLocalization"),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.hij(" ",c.lcZ(2,1,e.selected?"AbpUi::Edit":null!=e.exerciseId&&null!=e.exerciseId?"::NewAssignedExercise":"::NewAssignedExerciseProgram")," ")}}function b(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",19),c.TgZ(1,"span"),c._uU(2),c.TgZ(3,"span",20),c.NdJ("click",function(t){const i=c.CHM(e).$implicit;return c.oxw(3).removeItem(t,i.value)}),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=t.$implicit;c.xp6(2),c.hij(" ",e.label," ")}}function v(e,t){1&e&&(c.TgZ(0,"span",21),c._uU(1),c.ALo(2,"abpLocalization"),c.qZA()),2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"::StoreCategory")," "))}function A(e,t){if(1&e&&(c.YNc(0,b,4,1,"div",17),c.YNc(1,v,3,3,"span",18)),2&e){const e=t.$implicit;c.Q6J("ngForOf",e),c.xp6(1),c.Q6J("ngIf",!e||0===e.length)}}function T(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"form",3),c.NdJ("ngSubmit",function(){return c.CHM(e),c.oxw().submitForm()}),c.TgZ(1,"div",4),c.TgZ(2,"div",5),c.TgZ(3,"label",6),c._uU(4),c.ALo(5,"abpLocalization"),c.qZA(),c._UZ(6,"sw-date-picker",7),c.qZA(),c.TgZ(7,"div",5),c.TgZ(8,"label",8),c._uU(9),c.ALo(10,"abpLocalization"),c.qZA(),c.TgZ(11,"p-multiSelect",9,10),c.NdJ("onFocus",function(t){return c.CHM(e),c.oxw().onInputFocus(t)}),c.YNc(13,A,2,2,"ng-template",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(14,"div",12),c.TgZ(15,"button",13,14),c._uU(17),c.ALo(18,"abpLocalization"),c.qZA(),c.TgZ(19,"button",15),c._UZ(20,"i",16),c._uU(21),c.ALo(22,"abpLocalization"),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.Q6J("formGroup",e.form),c.xp6(4),c.hij(" ",c.lcZ(5,11,"::StartDate")," "),c.xp6(5),c.hij(" ",c.lcZ(10,13,"::TraineesSelect")," "),c.xp6(2),c.Q6J("options",e.linksList)("virtualScroll",!0)("showHeader",!e.isMobile)("showTransitionOptions","0ms")("hideTransitionOptions","0ms")("maxSelectedLabels",4),c.xp6(6),c.hij(" ",c.lcZ(18,15,"AbpUi::Cancel")," "),c.xp6(4),c.hij(" ",c.lcZ(22,17,"::Ok")," ")}}let y=(()=>{class e{constructor(e,t,i,o,s,n,a,r){this.list=e,this.track=t,this.service=i,this.confirmation=o,this.toast=s,this.mobileHelperService=n,this.dateService=a,this.fb=r,this.isModalBusy=!1,this.isModalOpen=!1,this.isMobile=!1}ngOnInit(){this.getUsers(),this.isMobile=this.mobileHelperService.GetMobile()}getUsers(){this.service.getAppUserLookup({}).subscribe(e=>{this.linksList=e.items.map(e=>{let t={};return t.label=e.displayName,t.value=e.id,t})})}buildForm(){var e;const{exerciseProgramId:t}=(null===(e=this.selected)||void 0===e?void 0:e.assignedExerciseProgram)||{};this.form=this.fb.group({exerciseProgramId:[null!=t?t:null,[]],users:[[]],startDate:[void 0,[s.kI.required]]})}createUser(){return this.fb.group({value:"",label:""})}hideForm(){this.isModalOpen=!1,setTimeout(()=>{this.form.reset()},100)}showForm(){this.getUsers(),this.buildForm(),this.isModalOpen=!0}submitForm(){this.submitFormInternal(!1)}addDays(e,t){var i=new Date(e);return i.setDate(i.getDate()+t),i}submitFormInternal(e){let t=this.form.get("startDate").value,i=this;if(this.form.invalid)return;var s=new Date;if(s.setHours(0),s.setMinutes(0),s.setSeconds(0),t<s)return void this.toast.error("::CannotSetOldDate");let n=this.form.get("users").value;if(!n||0===n.length)return void this.toast.error("::PleaseTraineesSelect");let c=n.map(e=>e.value),l={};l.exerciseProgramId=this.programId,l.exerciseId=this.exerciseId,l.traineeUserId=c,l.startDate=this.dateService.parseMomentToString(t),l.isOverride=e,this.service.assignByAssignInput(l).subscribe(e=>{e?(this.isModalBusy=!1,this.hideForm(),this.toast.success(this.exerciseId?"::NewAssignedExerciseDone":"::NewAssignedExerciseProgramDone")):i.confirmation.warn("::ProgramOverride","::AreYouSure",{messageLocalizationParams:[]}).pipe((0,a.h)(e=>e===o.Tv.Status.confirm),(0,r.w)(()=>(i.submitFormInternal(!0),null))).subscribe(()=>{})})}create(e,t){this.programId=e,this.exerciseId=t,this.selected=void 0,this.showForm()}removeItem(e,t){e.preventDefault(),e.stopPropagation();let i=this.form.get("users").value;return i=i.filter(e=>e!=t),this.form.get("users").setValue(i),!1}onInputFocus(e){setTimeout(()=>{},500)}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(l.XNV),c.Y36(l.vR3),c.Y36(p.RT),c.Y36(o.YP),c.Y36(o.MJ),c.Y36(d.k4),c.Y36(n.R),c.Y36(s.qu))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-assign-exercise-program"]],inputs:{programId:"programId"},outputs:{create:"create"},features:[c._Bn([n.R])],decls:5,vars:2,consts:[["size","md",3,"busy","visible","visibleChange"],["abpHeader",""],["abpBody",""],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"mt-2","fade-in-top","row"],[1,"form-group","col-md-12"],["for","app-user-coordinator-app-user-id"],["id","startDate","formControlName","startDate","name","startDate"],["for","app-user-coordinator-app-user-id",2,"display","block"],["name","storeCategoryLinks","id","storeCategoryLinks","itemSize","30","formControlName","users","optionLabel","label","dataKey","value",1,"sw-tags","form-control",3,"options","virtualScroll","showHeader","showTransitionOptions","hideTransitionOptions","maxSelectedLabels","onFocus"],["selectedActivity",""],["pTemplate","selectedItems"],[1,"col-12","modal-footer"],["type","button",1,"btn","btn-secondary","btn-cancel"],["abpClose",""],["type","submit",1,"btn","btn-success","btn-save"],[1,"fa","fa-check"],["class","ui-multiselected-item-token ui-corner-all sw-tag",4,"ngFor","ngForOf"],["class","ui-multiselected-empty-token ui-corner-all sw-tag",4,"ngIf"],[1,"ui-multiselected-item-token","ui-corner-all","sw-tag"],[1,"remove-item",3,"click"],[1,"ui-multiselected-empty-token","ui-corner-all","sw-tag"]],template:function(e,t){1&e&&(c.TgZ(0,"abp-modal",0),c.NdJ("visibleChange",function(e){return t.isModalOpen=e}),c.YNc(1,Z,3,3,"ng-template",null,1,c.W1O),c.YNc(3,T,23,19,"ng-template",null,2,c.W1O),c.qZA()),2&e&&c.Q6J("busy",t.isModalBusy)("visible",t.isModalOpen)},directives:[o.zS,s._Y,s.JL,l.YzZ,s.sg,u.hL,g.L,s.JJ,s.u,u.J5,m.m,h.NU,f.jx,x.sg,x.O5],pipes:[l.fuE],encapsulation:2}),e})()},16237:function(e,t,i){"use strict";i.d(t,{z:function(){return x}});var o=i(35366),s=i(82477),n=i(61116),a=i(29942),r=i(29871),c=i(52201);const l=function(e){return{attachmentId:e,entity:"ExercisePhotos"}};function p(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",10),o.NdJ("click",function(){o.CHM(e);const t=o.oxw();return t.showVideoIfPosible(t.exerciseItem)}),o._UZ(1,"img",11),o.ALo(2,"async"),o.ALo(3,"imgdownload"),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("src",o.lcZ(2,1,o.lcZ(3,3,o.VKq(5,l,e.exerciseItem.photosAttachmentId))),o.LSH)}}function d(e,t){1&e&&(o.TgZ(0,"div",12),o._UZ(1,"i",13),o.qZA())}function u(e,t){1&e&&o._UZ(0,"i",19)}function g(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"button",14),o.NdJ("click",function(){o.CHM(e);const t=o.oxw();return t.selectItem(t.exerciseItem)}),o.YNc(1,u,1,0,"i",15),o.TgZ(2,"span",16),o._UZ(3,"app-highlighter",17),o.qZA(),o.TgZ(4,"span",18),o._UZ(5,"app-highlighter",17),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.isSelected&&e.isSelectable),o.xp6(2),o.Q6J("value",null==e.exerciseItem?null:e.exerciseItem.exerciseName)("filter",e.filterText),o.xp6(2),o.Q6J("value",null==e.exerciseItem?null:e.exerciseItem.exerciseNameEn)("filter",e.filterText)}}function m(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"button",20),o.NdJ("click",function(){o.CHM(e);const t=o.oxw();return o.MAs(11).showByAttachmentId(t.exerciseItem.videoAttachmentId,"ExerciseVideo")}),o._UZ(1,"i",21),o.qZA()}}function h(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"button",20),o.NdJ("click",function(){o.CHM(e);const t=o.oxw();return o.MAs(11).showByUrl(t.exerciseItem.videoUrl)}),o._UZ(1,"i",21),o.qZA()}}function f(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"button",20),o.NdJ("click",function(){o.CHM(e);const t=o.oxw();return o.MAs(11).showByAttachmentId(t.exerciseItem.photosAttachmentId,"ExercisePhotos")}),o._UZ(1,"i",22),o.qZA()}}let x=(()=>{class e{constructor(){this.isSelectable=!1,this.isShowTitle=!0,this.productSelected=new o.vpe,this.exerciseWithVideos=Array(),this.isSelected=!1}ngOnInit(){}isShowPhoto(e){return!!e&&e.photosAttachmentId&&e.photosAttachmentId>0}isShowVideoAttachmentInner(e){return!!e&&e.videoAttachmentId&&e.videoType==s.E.videoAttachment}isShowVideoAttachment(e){return this.isShowVideoAttachmentInner(e)}isShowVideoUrlInner(e){return!!e&&e.videoUrl&&e.videoType==s.E.videoUrl}isShowVideoUrl(e){return this.isShowVideoUrlInner(e)}showVideoIfPosible(e){(this.isShowVideoUrlInner(e)||this.isShowVideoAttachmentInner(e))&&this.exerciseWithVideos.push(e)}selectItem(e){this.isSelected=!this.isSelected,this.productSelected.emit(this.isSelected)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-exercise-item"]],inputs:{exerciseItem:"exerciseItem",filterText:"filterText",isSelectable:"isSelectable",isShowTitle:"isShowTitle"},outputs:{productSelected:"productSelected"},decls:12,vars:6,consts:[[1,"card","shadow-sm","p-0",2,"min-width","137px"],[1,"card-body","m-0","p-0"],[1,"img-thumbnail",2,"background","#343a4012 !important","min-height","100px"],[3,"click",4,"ngIf"],["class","text-center pt-4",4,"ngIf"],[1,"card-footer-old","btn-group"],["class","btn btn-default btn-sm ",3,"click",4,"ngIf"],["class","btn btn-primary btn-sm b-small",3,"click",4,"ngIf"],["Entity","ExercisePhotos"],["mediaViewer",""],[3,"click"],["alt","",1,"s-icon-lg",3,"src"],[1,"text-center","pt-4"],[1,"fa","fa-dumbbell","fa-3x","text-primary",2,"position","absolute","z-index","100","top","43px","left","63px","color","#c4a61c70 !important"],[1,"btn","btn-default","btn-sm",3,"click"],["class","fa fa-check",4,"ngIf"],[1,"view-rtl"],[3,"value","filter"],[1,"view-ltr"],[1,"fa","fa-check"],[1,"btn","btn-primary","btn-sm","b-small",3,"click"],[1,"fa","fa-video"],[1,"fa","fa-search"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.YNc(3,p,4,7,"div",3),o.YNc(4,d,2,0,"div",4),o.qZA(),o.qZA(),o.TgZ(5,"div",5),o.YNc(6,g,6,5,"button",6),o.YNc(7,m,2,0,"button",7),o.YNc(8,h,2,0,"button",7),o.YNc(9,f,2,0,"button",7),o.qZA(),o.qZA(),o._UZ(10,"app-media-viewer",8,9)),2&e&&(o.xp6(3),o.Q6J("ngIf",t.isShowPhoto(t.exerciseItem)),o.xp6(1),o.Q6J("ngIf",!t.isShowPhoto(t.exerciseItem)),o.xp6(2),o.Q6J("ngIf",t.isShowTitle),o.xp6(1),o.Q6J("ngIf",t.isShowVideoAttachment(t.exerciseItem)),o.xp6(1),o.Q6J("ngIf",t.isShowVideoUrl(t.exerciseItem)),o.xp6(1),o.Q6J("ngIf",!t.isShowVideoUrl(t.exerciseItem)&&!t.isShowVideoAttachment(t.exerciseItem)&&t.isShowPhoto(t.exerciseItem)))},directives:[n.O5,a.$,r.$],pipes:[n.Ov,c.H],styles:[".btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{text-align:center}.b-small[_ngcontent-%COMP%]{flex:0 1 auto}.s-icon-lg[_ngcontent-%COMP%]{width:130px;height:100px;-o-object-fit:cover;object-fit:cover}@media (max-width:992px){.s-icon-lg[_ngcontent-%COMP%]{width:45px;height:45px}}"]}),e})()},89443:function(e,t,i){"use strict";i.d(t,{$:function(){return o}});var o=function(e){return e[e.Count=12]="Count",e[e.Time=13]="Time",e}({})},82477:function(e,t,i){"use strict";i.d(t,{W:function(){return se},E:function(){return ne}});var o=i(46700),s=i(55679),n=i(35366),a=i(31041),r=i(2996),c=i(11520),l=i(43835),p=i(44689),d=i(44019),u=i(64569),g=i(8183),m=i(30212),h=i(40878),f=i(28450),x=i(43117),Z=i(40547),b=i(44879),v=i(73545),A=i(45908);const T=["tagInput"];function y(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",39),n.NdJ("click",function(){return n.CHM(e),n.oxw().create()}),n._UZ(1,"i",40),n._uU(2),n.ALo(3,"abpLocalization"),n.qZA()}2&e&&(n.xp6(2),n.hij(" ",n.lcZ(3,1,"::NewExercise")," "))}const L=function(){return{standalone:!0}};function q(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",41),n.TgZ(1,"div",20),n.TgZ(2,"label",42),n._uU(3),n.ALo(4,"abpLocalization"),n.qZA(),n.TgZ(5,"p-autoComplete",43),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().filters.assignedAppUserId=t})("onClear",function(){return n.CHM(e),n.oxw().onClear()})("completeMethod",function(t){return n.CHM(e),n.oxw().startSearchUser(t)})("search",function(t){return n.CHM(e),n.oxw().startSearchUser(t)}),n.ALo(6,"abpLocalization"),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(3),n.hij(" ",n.lcZ(4,7,"::CoachName")," "),n.xp6(2),n.s9C("placeholder",n.lcZ(6,9,"::CoachName")),n.Q6J("ngModel",e.filters.assignedAppUserId)("ngModelOptions",n.DdM(11,L))("suggestions",e.AllUsers)("type",e.searchType())("dropdown",!0)}}function w(e,t){1&e&&n._UZ(0,"app-exercise-item",52),2&e&&n.Q6J("exerciseItem",t.row.exercise)("isShowTitle",!1)}function I(e,t){1&e&&n._UZ(0,"i",58)}function U(e,t){if(1&e&&(n.TgZ(0,"div",53),n._uU(1),n.ALo(2,"abpLocalization"),n.qZA(),n.TgZ(3,"span",54),n._UZ(4,"is-empty",55),n.YNc(5,I,1,0,"i",56),n.qZA(),n.TgZ(6,"span",57),n._UZ(7,"is-empty",55),n.qZA()),2&e){const e=t.row;n.xp6(1),n.Oqu(n.lcZ(2,4,"::ExerciseName")),n.xp6(3),n.Q6J("value",e.exercise.exerciseName),n.xp6(1),n.Q6J("ngIf",e.isPublic),n.xp6(2),n.Q6J("value",e.exercise.exerciseNameEn)}}function N(e,t){if(1&e&&(n.TgZ(0,"div",53),n._uU(1),n.ALo(2,"abpLocalization"),n.qZA(),n.TgZ(3,"span",59),n._UZ(4,"is-empty",55),n.qZA()),2&e){const e=t.row,i=n.oxw(2);n.xp6(1),n.Oqu(n.lcZ(2,2,"::ExerciseTypeGeneralLookup")),n.xp6(3),n.Q6J("value",i.langService.isRtl?null==e.generalLookup?null:e.generalLookup.generalLookupName:null==e.generalLookup?null:e.generalLookup.generalLookupValue)}}function C(e,t){if(1&e&&(n.TgZ(0,"div",53),n._uU(1),n.ALo(2,"abpLocalization"),n.qZA(),n.TgZ(3,"span",54),n._UZ(4,"is-empty",55),n.qZA(),n.TgZ(5,"span",57),n._UZ(6,"is-empty",55),n.qZA()),2&e){const e=t.row;n.xp6(1),n.Oqu(n.lcZ(2,3,"::ExerciseCategoryName")),n.xp6(3),n.Q6J("value",null==e.exerciseCategory?null:e.exerciseCategory.exerciseCategoryName),n.xp6(2),n.Q6J("value",null==e.exerciseCategory?null:e.exerciseCategory.exerciseCategoryNameEn)}}function k(e,t){if(1&e&&(n.TgZ(0,"div",53),n._uU(1),n.ALo(2,"abpLocalization"),n.qZA(),n.TgZ(3,"span",59),n._UZ(4,"is-empty",55),n.qZA()),2&e){const e=t.row;n.xp6(1),n.Oqu(n.lcZ(2,2,"::ExerciseGroupsCount")),n.xp6(3),n.Q6J("value",e.groupsCount)}}function S(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",66),n.NdJ("click",function(){n.CHM(e);const t=n.oxw().row;return n.oxw(2).update(t)}),n._UZ(1,"i",67),n.TgZ(2,"span"),n._uU(3),n.ALo(4,"abpLocalization"),n.qZA(),n.qZA()}2&e&&(n.xp6(3),n.hij(" ",n.lcZ(4,1,"AbpUi::Edit")," "))}function E(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",68),n.NdJ("click",function(){n.CHM(e);const t=n.oxw().row;return n.oxw(2).activate(t)}),n.ALo(1,"abpLocalization"),n._UZ(2,"i",69),n.TgZ(3,"span"),n._uU(4),n.ALo(5,"abpLocalization"),n.qZA(),n.qZA()}2&e&&(n.Q6J("ngbTooltip",n.lcZ(1,2,"::Activate")),n.xp6(4),n.hij(" ",n.lcZ(5,4,"::StatusGeneralLookup")," "))}function J(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",70),n.NdJ("click",function(){n.CHM(e);const t=n.oxw().row;return n.oxw(2).deactivate(t)}),n.ALo(1,"abpLocalization"),n._UZ(2,"i",71),n.TgZ(3,"span"),n._uU(4),n.ALo(5,"abpLocalization"),n.qZA(),n.qZA()}2&e&&(n.Q6J("ngbTooltip",n.lcZ(1,2,"::Deactivate")),n.xp6(4),n.hij(" ",n.lcZ(5,4,"::StatusGeneralLookup")," "))}function _(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",60),n.YNc(1,S,5,3,"div",61),n.YNc(2,E,6,6,"div",62),n.YNc(3,J,6,6,"div",63),n.TgZ(4,"div",64),n.NdJ("click",function(){const t=n.CHM(e).row;return n.oxw(2).view(t)}),n._UZ(5,"i",65),n.TgZ(6,"span"),n._uU(7),n.ALo(8,"abpLocalization"),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.row,i=n.oxw(2);n.xp6(1),n.Q6J("ngIf",e.editable),n.xp6(1),n.Q6J("ngIf",e.exercise.statusGeneralLookupId==i.ItemStatus.Deactivated),n.xp6(1),n.Q6J("ngIf",e.exercise.statusGeneralLookupId==i.ItemStatus.Activated),n.xp6(4),n.hij(" ",n.lcZ(8,4,"::View")," ")}}const O=function(e){return{emptyMessage:e}};function Q(e,t){if(1&e&&(n.TgZ(0,"ngx-datatable",44),n.TgZ(1,"ngx-datatable-column",45),n.ALo(2,"abpLocalization"),n.YNc(3,w,1,2,"ng-template",46),n.qZA(),n.TgZ(4,"ngx-datatable-column",47),n.ALo(5,"abpLocalization"),n.YNc(6,U,8,6,"ng-template",46),n.qZA(),n.TgZ(7,"ngx-datatable-column",48),n.ALo(8,"abpLocalization"),n.YNc(9,N,5,4,"ng-template",46),n.qZA(),n.TgZ(10,"ngx-datatable-column",49),n.ALo(11,"abpLocalization"),n.YNc(12,C,7,5,"ng-template",46),n.qZA(),n.TgZ(13,"ngx-datatable-column",50),n.ALo(14,"abpLocalization"),n.YNc(15,k,5,4,"ng-template",46),n.qZA(),n.TgZ(16,"ngx-datatable-column",51),n.ALo(17,"abpLocalization"),n.YNc(18,_,9,6,"ng-template",46),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.Q6J("messages",n.VKq(26,O,e.isLoading?"<div class=loader><div></div></div>":"<div class=data-empty></div>"))("rows",e.data.items)("count",e.data.totalCount)("list",e.list)("headerHeight",0),n.xp6(1),n.s9C("name",n.lcZ(2,14,"::ExerciseName")),n.xp6(3),n.s9C("name",n.lcZ(5,16,"::ExerciseName")),n.xp6(3),n.s9C("name",n.lcZ(8,18,"::GeneralLookup")),n.xp6(3),n.s9C("name",n.lcZ(11,20,"::ExerciseCategory")),n.xp6(3),n.s9C("name",n.lcZ(14,22,"::ExerciseGroupsCount")),n.xp6(3),n.Q6J("name",n.lcZ(17,24,"AbpUi::Actions"))("maxWidth",300)("width",300)("sortable",!1)}}function F(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",74),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).isAdvanced=!0}),n.ALo(1,"abpLocalization"),n._UZ(2,"i",75),n.TgZ(3,"span"),n._uU(4),n.ALo(5,"abpLocalization"),n.qZA(),n.qZA()}2&e&&(n.Q6J("ngbTooltip",n.lcZ(1,2,"::Activate")),n.xp6(4),n.hij(" ",n.lcZ(5,4,"::isAdvanced")," "))}function z(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",74),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).isAdvanced=!1}),n.ALo(1,"abpLocalization"),n._UZ(2,"i",76),n.TgZ(3,"span"),n._uU(4),n.ALo(5,"abpLocalization"),n.qZA(),n.qZA()}2&e&&(n.Q6J("ngbTooltip",n.lcZ(1,2,"::Deactivate")),n.xp6(4),n.hij(" ",n.lcZ(5,4,"::isAdvanced")," "))}function Y(e,t){if(1&e&&(n.TgZ(0,"h3"),n._uU(1),n.ALo(2,"abpLocalization"),n.qZA(),n.TgZ(3,"div",72),n.YNc(4,F,6,6,"div",73),n.YNc(5,z,6,6,"div",73),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.hij(" ",n.lcZ(2,3,e.selected.exercise.id?e.isReadOnly?"::View":"AbpUi::Edit":"::NewExercise")," "),n.xp6(3),n.Q6J("ngIf",!e.isAdvanced),n.xp6(1),n.Q6J("ngIf",e.isAdvanced)}}function M(e,t){1&e&&(n.TgZ(0,"div",133),n._uU(1),n.ALo(2,"abpLocalization"),n.qZA()),2&e&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"::InPublicLibrary")," "))}function G(e,t){1&e&&(n.TgZ(0,"label",134),n._uU(1),n.ALo(2,"abpLocalization"),n.qZA()),2&e&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"::CreatedBy")," "))}function P(e,t){if(1&e&&(n.TgZ(0,"div",100),n.YNc(1,M,3,3,"div",131),n.YNc(2,G,3,3,"label",132),n._uU(3),n.qZA()),2&e){const e=n.oxw(3);n.xp6(1),n.Q6J("ngIf",!e.getAssignedToCoach),n.xp6(1),n.Q6J("ngIf",e.getAssignedToCoach),n.xp6(1),n.hij(" ",e.getAssignedToCoach," ")}}function V(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",137),n.NdJ("click",function(t){return n.CHM(e),n.oxw(4).clearAssignedCoach(t)}),n._uU(1),n.ALo(2,"abpLocalization"),n.qZA()}2&e&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"::MoveToPublicLibrary")," "))}function j(e,t){if(1&e&&(n.TgZ(0,"div",135),n.YNc(1,V,3,3,"button",136),n.qZA()),2&e){const e=n.oxw(3);n.xp6(1),n.Q6J("ngIf",e.isAssignedToCoach)}}function H(e,t){1&e&&(n.TgZ(0,"span",138),n._uU(1),n.ALo(2,"abpLocalization"),n.qZA()),2&e&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"::Optional")," "))}function R(e,t){1&e&&(n.TgZ(0,"span",138),n._uU(1),n.ALo(2,"abpLocalization"),n.qZA()),2&e&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"::Optional")," "))}function D(e,t){1&e&&(n.TgZ(0,"span",138),n._uU(1),n.ALo(2,"abpLocalization"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"::Optional")))}function B(e,t){1&e&&(n.TgZ(0,"span",138),n._uU(1),n.ALo(2,"abpLocalization"),n.ALo(3,"abpLocalization"),n.qZA()),2&e&&(n.xp6(1),n.AsE(" ",n.lcZ(2,2,"::Optional")," ",n.lcZ(3,4,"::ImageRequiredSize")," "))}function $(e,t){if(1&e&&n._UZ(0,"app-video-url",139),2&e){const e=n.oxw(3);n.Q6J("src",e.thumbSRC)}}function W(e,t){1&e&&(n.TgZ(0,"div",100),n.TgZ(1,"label",140),n._uU(2),n.ALo(3,"abpLocalization"),n.qZA(),n.TgZ(4,"select",141),n._UZ(5,"option"),n.TgZ(6,"option",142),n._uU(7),n.ALo(8,"abpLocalization"),n.qZA(),n.TgZ(9,"option",142),n._uU(10),n.ALo(11,"abpLocalization"),n.qZA(),n.TgZ(12,"option",142),n._uU(13),n.ALo(14,"abpLocalization"),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(2),n.Oqu(n.lcZ(3,7,"::ProgramCategory")),n.xp6(4),n.Q6J("ngValue",0),n.xp6(1),n.Oqu(n.lcZ(8,9,"::Normal")),n.xp6(2),n.Q6J("ngValue",1),n.xp6(1),n.Oqu(n.lcZ(11,11,"::SelfTraining")),n.xp6(2),n.Q6J("ngValue",2),n.xp6(1),n.Oqu(n.lcZ(14,13,"::LiftPrime")))}function K(e,t){1&e&&(n.TgZ(0,"span",138),n._uU(1),n.ALo(2,"abpLocalization"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"::Optional")))}function X(e,t){if(1&e&&(n.TgZ(0,"button",143),n._uU(1),n.ALo(2,"abpLocalization"),n.qZA()),2&e){const e=n.oxw(3);n.Q6J("disabled",e.isModalBusy),n.xp6(1),n.hij(" ",n.lcZ(2,2,"AbpUi::Save")," ")}}const ee=function(e){return{"d-none":e}},te=function(){return[32]};function ie(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"form",81),n.NdJ("ngSubmit",function(){return n.CHM(e),n.oxw(2).submitForm()}),n.TgZ(1,"div",82),n.YNc(2,P,4,3,"div",83),n.YNc(3,j,2,1,"div",84),n.TgZ(4,"div",85),n.TgZ(5,"label",86),n._uU(6),n.ALo(7,"abpLocalization"),n.qZA(),n._UZ(8,"input",87),n.qZA(),n.TgZ(9,"div",85),n.TgZ(10,"label",88),n._uU(11),n.ALo(12,"abpLocalization"),n.qZA(),n._UZ(13,"input",89),n.qZA(),n.TgZ(14,"div",90),n.TgZ(15,"label",91),n._uU(16),n.ALo(17,"abpLocalization"),n.YNc(18,H,3,3,"span",92),n.qZA(),n._UZ(19,"input",93),n.qZA(),n.TgZ(20,"div",90),n.TgZ(21,"label",94),n._uU(22),n.ALo(23,"abpLocalization"),n.YNc(24,R,3,3,"span",92),n.qZA(),n._UZ(25,"input",95),n.qZA(),n.TgZ(26,"div",96),n.TgZ(27,"label",97),n._uU(28),n.ALo(29,"abpLocalization"),n.YNc(30,D,3,3,"span",92),n.qZA(),n._UZ(31,"tag-input",98,99),n.ALo(33,"abpLocalization"),n.ALo(34,"abpLocalization"),n.qZA(),n.TgZ(35,"div",100),n.TgZ(36,"label",101),n._uU(37),n.ALo(38,"abpLocalization"),n.YNc(39,B,4,6,"span",92),n.qZA(),n.TgZ(40,"sw-attachment",102),n.NdJ("attachmentUpdated",function(t){return n.CHM(e),n.oxw(2).photosAttachmentUpdated(t)}),n.qZA(),n.qZA(),n.TgZ(41,"div",100),n.TgZ(42,"label",103),n._uU(43),n.ALo(44,"abpLocalization"),n.qZA(),n.TgZ(45,"div",104),n._UZ(46,"input",105),n.TgZ(47,"label",106),n._uU(48),n.ALo(49,"abpLocalization"),n.qZA(),n.qZA(),n.TgZ(50,"div",104),n._UZ(51,"input",105),n.TgZ(52,"label",106),n._uU(53),n.ALo(54,"abpLocalization"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(55,"div",107),n.TgZ(56,"label",108),n._uU(57),n.ALo(58,"abpLocalization"),n.qZA(),n.TgZ(59,"sw-attachment",109),n.NdJ("attachmentUpdated",function(t){return n.CHM(e),n.oxw(2).videoAttachmentUpdated(t)}),n.qZA(),n.qZA(),n.TgZ(60,"div",107),n.TgZ(61,"label",110),n._uU(62),n.ALo(63,"abpLocalization"),n.qZA(),n.TgZ(64,"div",111),n.TgZ(65,"input",112),n.NdJ("change",function(t){return n.CHM(e),n.oxw(2).videoUrl(t)}),n.qZA(),n.TgZ(66,"div",113),n.TgZ(67,"span",114),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(2);return t.isShowPreview=!t.isShowPreview}),n._uU(68),n.ALo(69,"abpLocalization"),n.qZA(),n.qZA(),n.qZA(),n.YNc(70,$,1,1,"app-video-url",115),n.qZA(),n.TgZ(71,"div",100),n.TgZ(72,"label",116),n._uU(73),n.ALo(74,"abpLocalization"),n.qZA(),n._UZ(75,"sw-lookup-select",117),n.qZA(),n.TgZ(76,"div",100),n.TgZ(77,"label",118),n._uU(78),n.ALo(79,"abpLocalization"),n.qZA(),n._UZ(80,"sw-lookup-select",119),n.qZA(),n.TgZ(81,"div",100),n.TgZ(82,"label",120),n._uU(83),n.ALo(84,"abpLocalization"),n.qZA(),n._UZ(85,"sw-lookup-select",121),n.qZA(),n.YNc(86,W,15,15,"div",122),n.TgZ(87,"div",100),n.TgZ(88,"label",123),n._uU(89),n.ALo(90,"abpLocalization"),n.qZA(),n.YNc(91,K,3,3,"span",92),n._UZ(92,"input",124),n.qZA(),n.TgZ(93,"div",125),n._UZ(94,"div",126),n.qZA(),n.TgZ(95,"div",127),n.YNc(96,X,3,4,"button",128),n.TgZ(97,"button",129,130),n._uU(99),n.ALo(100,"abpLocalization"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){n.oxw();const e=n.MAs(4),t=n.oxw();n.Q6J("formGroup",t.form),n.xp6(2),n.Q6J("ngIf",t.isCurrentUserAdmin),n.xp6(1),n.Q6J("ngIf",t.isCurrentUserAdmin),n.xp6(3),n.hij(" ",n.lcZ(7,61,"::ExerciseName")," "),n.xp6(2),n.Q6J("readOnly",t.isReadOnly),n.xp6(3),n.hij(" ",n.lcZ(12,63,"::ExerciseNameEn")," "),n.xp6(2),n.Q6J("readOnly",t.isReadOnly),n.xp6(1),n.Q6J("ngClass",n.VKq(99,ee,!t.isAdvanced)),n.xp6(2),n.hij(" ",n.lcZ(17,65,"::Description")," "),n.xp6(2),n.Q6J("ngIf",!t.isReadOnly),n.xp6(1),n.Q6J("readOnly",t.isReadOnly),n.xp6(1),n.Q6J("ngClass",n.VKq(101,ee,!t.isAdvanced)),n.xp6(2),n.hij(" ",n.lcZ(23,67,"::DescriptionEn")," "),n.xp6(2),n.Q6J("ngIf",!t.isReadOnly),n.xp6(1),n.Q6J("readOnly",t.isReadOnly),n.xp6(1),n.Q6J("ngClass",n.VKq(103,ee,!t.isAdvanced)),n.xp6(2),n.hij(" ",n.lcZ(29,69,"::Tags")," "),n.xp6(2),n.Q6J("ngIf",!t.isReadOnly),n.xp6(1),n.s9C("secondaryPlaceholder",n.lcZ(33,71,"::Tags")),n.s9C("placeholder",n.lcZ(34,73,"::AddTag")),n.Q6J("onAdding",t.onAdding)("separatorKeyCodes",n.DdM(105,te)),n.xp6(6),n.hij(" ",n.lcZ(38,75,"::PhotosAttachmentId")," "),n.xp6(2),n.Q6J("ngIf",!t.isReadOnly),n.xp6(1),n.Q6J("maxFilesCount",1)("readonly",t.isReadOnly),n.xp6(3),n.hij(" ",n.lcZ(44,77,"::VideoType")," "),n.xp6(3),n.Q6J("id",t.VideoTypes.videoUrl)("value",t.VideoTypes.videoUrl),n.xp6(1),n.Q6J("for",t.VideoTypes.videoUrl),n.xp6(1),n.hij(" ",n.lcZ(49,79,"::VideoUrl"),""),n.xp6(3),n.Q6J("id",t.VideoTypes.videoAttachment)("value",t.VideoTypes.videoAttachment),n.xp6(1),n.Q6J("for",t.VideoTypes.videoAttachment),n.xp6(1),n.hij(" ",n.lcZ(54,81,"::VideoAttachmentId")," "),n.xp6(2),n.Q6J("hidden",t.isShowVideoUrl()),n.xp6(2),n.hij(" ",n.lcZ(58,83,"::VideoAttachmentId")," "),n.xp6(2),n.Q6J("maxFilesCount",1)("readonly",t.isReadOnly),n.xp6(1),n.Q6J("hidden",!t.isShowVideoUrl()),n.xp6(2),n.hij(" ",n.lcZ(63,85,"::VideoUrl")," "),n.xp6(3),n.Q6J("readOnly",t.isReadOnly),n.xp6(3),n.hij(" ",n.lcZ(69,87,t.isShowPreview?"::HidePreview":"::ViewPreview")," "),n.xp6(2),n.Q6J("ngIf",t.isShowPreview),n.xp6(3),n.hij(" ",n.lcZ(74,89,"::ExerciseTypeGeneralLookup")," "),n.xp6(2),n.Q6J("getFn",t.langService.isRtl?t.lookupService.getExerciseTypesLookup:t.lookupService.getExerciseTypesLookupValues)("disabled",t.isReadOnly),n.xp6(3),n.hij(" ",n.lcZ(79,91,"::ExerciseCategory")," "),n.xp6(2),n.Q6J("lookupNameProp",t.langService.isRtl?"displayName":"displayNameEn")("getFn",t.service.getExerciseCategoryLookup)("disabled",t.isReadOnly),n.xp6(3),n.hij(" ",n.lcZ(84,93,"::ExerciseGenre")," "),n.xp6(2),n.Q6J("lookupNameProp",t.langService.isRtl?"name":"nameEn")("getFn",t.serviceGenre.getList)("disabled",t.isReadOnly),n.xp6(1),n.Q6J("abpPermission","Physic.SelfTraining"),n.xp6(3),n.hij(" ",n.lcZ(90,95,"::OrderInList")," "),n.xp6(2),n.Q6J("ngIf",!t.isReadOnly),n.xp6(2),n.Q6J("ngClass",n.VKq(106,ee,!t.isAdvanced)),n.xp6(3),n.Q6J("ngIf",!t.isReadOnly&&e&&!e.selected),n.xp6(3),n.hij(" ",n.lcZ(100,97,"AbpUi::Cancel")," ")}}function oe(e,t){if(1&e){const e=n.EpF();n.YNc(0,ie,101,108,"form",77),n.TgZ(1,"app-action",78),n.TgZ(2,"div"),n.TgZ(3,"app-exercise-group",79,80),n.NdJ("changed",function(t){return n.CHM(e),n.oxw().detailsChanged(t)}),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("ngIf",e.form),n.xp6(3),n.Q6J("ExerciseGroups",e.ExerciseGroups)("SelectedExerciseTypes",e.CurrentExerciseType)("disabled",e.isReadOnly)}}let se=(()=>{class e{constructor(e,t,i,o,s,a,r,c,l,p,d,m){this.list=e,this.track=t,this.localCacheService=i,this.service=o,this.lookupService=s,this.confirmation=a,this.permissionService=r,this.dateService=c,this.langService=l,this.serviceGenre=p,this.fb=d,this.toast=m,this.data={items:[],totalCount:0},this.ItemStatus=g.M,this.isReadOnly=!1,this.isShowPreview=!0,this.isAdvanced=!1,this.onSaved=new n.vpe,this.hideList=!1,this.filters={publicLibraryFilter:u.wx.All},this.isFiltersHidden=!0,this.isModalBusy=!1,this.isModalOpen=!1,this.isShowActive=!0,this.isLoading=!0,this.PublicLibraryFilter=u.wx,this.preventSubmit=!1,this.VideoTypes=ne,this.thumbSRC=""}get showFilter(){return this._showFilter}set showFilter(e){this._showFilter=e,this.isFiltersHidden=!e}ngOnInit(){let e=this;this.getData=t=>{let i,o=Object.assign({},this.filters);this.isShowActive&&(o.statusGeneralLookupId=15),i=o.assignedAppUserId,o.assignedAppUserId=i&&i.id?i.id:void 0;const s=Object.assign(Object.assign({},t),o),n=`exercise_${JSON.stringify(s)}`;return this.service.getList(s).pipe((0,f.z)(e.localCacheService,n,60)).pipe((0,c.x)(()=>e.isLoading=!1))},this.setData=e=>this.data=e,this.list.hookToQuery(this.getData).subscribe(this.setData)}get isCurrentUserAdmin(){return this.permissionService.getGrantedPolicy("PhysicAdmin")}clearFilters(){this.filters={},this.filters.publicLibraryFilter=u.wx.All,this.list.get()}buildForm(){var e,t,i;const o=this;let{programCategory:s,orderInList:n,exerciseName:r,exerciseNameEn:c,description:l,descriptionEn:p,tags:d,photosAttachmentId:u,videoAttachmentId:g,videoUrl:h,assignedAppUserId:f,exerciseTypeGeneralLookupId:x,exerciseCategoryId:Z,exerciseGenreId:b,videoType:v}=(null===(e=this.selected)||void 0===e?void 0:e.exercise)||{};d=(d||"").trim();let A=[];d.length>0&&d.split(",").forEach(e=>{A.push({value:e,display:e})});let T={};(null===(t=this.selected)||void 0===t?void 0:t.appUser)&&(T.id=this.selected.appUser.id,T.displayName=this.selected.appUser.name),n||0===n||(n=1e3),this.form=this.fb.group({programCategory:[null!=s?s:0,[a.kI.required]],orderInList:[null!=n?n:0,[a.kI.required]],exerciseName:[null!=r?r:null,[a.kI.required,a.kI.minLength(1),a.kI.maxLength(100)]],exerciseNameEn:[null!=c?c:"",[a.kI.required,a.kI.minLength(1),a.kI.maxLength(100)]],description:[null!=l?l:null,[a.kI.maxLength(100)]],descriptionEn:[null!=p?p:null,[a.kI.maxLength(100)]],tags:[null!=d?d:null,[]],tagsList:[A,[]],photosAttachmentId:[null!=u?u:null,[]],videoAttachmentId:[null!=g?g:null,[]],videoUrl:[null!=h?h:null,[m.d.UrlValidator(),a.kI.maxLength(250)]],assignedAppUserId:[null!=f?f:null,[]],assignedAppUserId2:[T,[]],exerciseTypeGeneralLookupId:[null!=x?x:12,[a.kI.required]],exerciseCategoryId:[null!=Z?Z:1,[a.kI.required]],exerciseGenreId:[null!=b?b:1,[a.kI.required]],photosAttachmentFiles:[void 0],videoAttachmentFiles:[void 0],videoType:[v||ne.videoUrl,[a.kI.required]]});let y=null!==(i=o.form.get("exerciseName").value)&&void 0!==i?i:"";o.form.get("exerciseName").valueChanges.subscribe(e=>{y==o.form.get("exerciseNameEn").value&&o.form.get("exerciseNameEn").setValue(e),y=o.form.get("exerciseName").value}),this.ExerciseGroups=void 0,setTimeout(()=>{this.ExerciseGroups=this.selected.exerciseGroups},500),setTimeout(()=>{this.form.get("videoType").valueChanges.subscribe(e=>{this.form.get("photosAttachmentId"),this.form.get("videoType")}),this.form.get("assignedAppUserId2").valueChanges.subscribe(e=>{e&&e.id?this.form.get("assignedAppUserId").setValue(e.id):this.form.get("assignedAppUserId").reset()})},10)}get getAssignedToCoach(){var e;return this.form?null===(e=this.form.get("assignedAppUserId2").value)||void 0===e?void 0:e.displayName:""}get isAssignedToCoach(){return this.form.get("assignedAppUserId2").value&&this.form.get("assignedAppUserId2").value.id}clearAssignedCoach(e){e.preventDefault(),e.stopPropagation();const t=this;this.confirmation.warn("::MoveExerciseToPublicLibraryConfirm","::AreYouSure",{messageLocalizationParams:[]}).pipe((0,l.h)(e=>e===s.Tv.Status.confirm),(0,p.w)(()=>(t.form.get("assignedAppUserId2").setValue({}),null))).subscribe(()=>{})}isShowVideoUrl(){return!!(this.form&&this.form.get("videoType")&&this.form.get("videoType").value)&&+this.form.get("videoType").value==ne.videoUrl}get CurrentExerciseType(){if(this.form&&this.form.get("exerciseTypeGeneralLookupId")&&this.form.get("exerciseTypeGeneralLookupId").value)return this.form.get("exerciseTypeGeneralLookupId").value}hideForm(){this.isModalOpen=!1,this.form.reset(),this.thumbSRC=void 0}showForm(){this.buildForm(),this.isModalOpen=!0,setTimeout(()=>{document.getElementsByTagName("body")[0].classList.add("modal-open")},10),this.thumbSRC=void 0,this.selected&&this.selected.exercise.videoUrl&&(this.thumbSRC=this.selected.exercise.videoUrl)}detailsChanged(e){this.selected.exerciseGroups=e}onAdding(e){return this.preventSubmit=!0,setTimeout(()=>{this.preventSubmit=!1},500),(0,h.of)(e)}submitForm(){if(this.tagInput.preventSubmit)return;if(this.form.patchValue(this.form.value),this.form.updateValueAndValidity(),this.form.invalid)return;this.isModalBusy=!0;let e=[...this.selected.exerciseGroups],t=this.form.value;t.exerciseGroups=e;let i=[...t.tagsList||[]].map(e=>e.value);t.tagsList=void 0,t.tags=i.toString();const o=this.selected&&this.selected.exercise.id?this.service.update(this.selected.exercise.id,t):this.service.create(t),s=this;o.pipe((0,c.x)(()=>{this.isModalBusy=!1}),(0,d.b)(e=>this.hideForm())).subscribe(e=>{s.onSaved.emit(e),s.localCacheService.clearAll();let t={};t.skipCount=10*this.list.page,s.getData(t).subscribe(e=>{0==e.items.length?s.list.get():s.setData(e)})})}create(e){this.isReadOnly=!1,this.selected={},this.selected.exercise={},this.selected.exercise.exerciseName=e||"",this.selected.exerciseGroups=[],this.showForm()}view(e){this.isReadOnly=!0,this.service.getWithNavigationProperties(e.exercise.id).subscribe(t=>{this.selected=e,this.selected.exerciseGroups=t.exerciseGroups,this.showForm()})}updateExternally(e){this.service.getWithNavigationProperties(e).subscribe(e=>{this.selected=e,this.selected.exerciseGroups=e.exerciseGroups,this.showForm()})}update(e){this.isReadOnly=!1,this.service.getWithNavigationProperties(e.exercise.id).subscribe(t=>{this.selected=e,this.selected.exerciseGroups=t.exerciseGroups,this.showForm()})}activate(e){if(!e.editable)return void this.toast.error("::ExerciseBelongsToAnotherCoach");const t=this;this.confirmation.warn("::ActivateExcerciseConfirmationMessage","::AreYouSure",{messageLocalizationParams:[]}).pipe((0,l.h)(e=>e===s.Tv.Status.confirm),(0,p.w)(()=>(this.service.enableExerciseById(e.exercise.id).subscribe(e=>{this.toast.success("::ActivatedSuccessfully");let i={};i.skipCount=10*this.list.page,t.getData(i).subscribe(e=>{0==e.items.length?t.list.get():t.setData(e)})}),null))).subscribe(()=>{})}deactivate(e){if(!e.editable)return void this.toast.error("::ExerciseBelongsToAnotherCoach");const t=this;this.confirmation.warn("::DeactivateExcerciseConfirmationMessage","::AreYouSure",{messageLocalizationParams:[]}).pipe((0,l.h)(e=>e===s.Tv.Status.confirm),(0,p.w)(()=>(this.service.disableExerciseById(e.exercise.id).subscribe(e=>{this.toast.success("::DeactivatedSuccessfully");let i={};i.skipCount=10*this.list.page,t.getData(i).subscribe(e=>{0==e.items.length?t.list.get():t.setData(e)})}),null))).subscribe(()=>{})}photosAttachmentUpdated(e){this.form.get("photosAttachmentFiles").setValue(e.files.toString())}videoAttachmentUpdated(e){this.form.get("videoAttachmentFiles").setValue(e.files.toString())}startSearchUser(e){let t={};t.filter=e.query,this.service.getAppUserLookup(t).subscribe(e=>{this.AllUsers=e.items})}onSelect(e){}onClear(){this.filters.assignedAppUserId=void 0}searchType(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)?"text":"search"}videoUrl(e){this.thumbSRC=e.target.value}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(o.XNV),n.Y36(o.vR3),n.Y36(x.F),n.Y36(Z.z),n.Y36(b.W),n.Y36(s.YP),n.Y36(o.$AH),n.Y36(r.R),n.Y36(v.C),n.Y36(A.g8),n.Y36(a.qu),n.Y36(s.MJ))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-exercise"]],viewQuery:function(e,t){if(1&e&&n.Gf(T,5),2&e){let e;n.iGM(e=n.CRH())&&(t.tagInput=e.first)}},inputs:{hideList:"hideList"},outputs:{onSaved:"onSaved"},features:[n._Bn([o.XNV,r.R])],decls:72,vars:46,consts:[[3,"hidden"],[1,"row","entry-row","align-items-center"],[1,"col-12","col-sm-auto","content-header-container"],[1,"col-lg-auto","pl-lg-0"],[1,"col-lg"],[1,"text-lg-right"],[1,"custom-control","custom-switch"],["type","checkbox","id","customSwitch1",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","customSwitch1",1,"custom-control-label"],[1,"col-auto"],[1,"btn-group"],["type","button","routerLink","/exercise-programs",1,"btn","btn-secondary","btn-lg"],["class","btn btn-success btn-new btn-lg","type","button",3,"click",4,"abpPermission"],["id","advanced-content-filters",3,"ngbCollapse"],[1,"card","mb-4"],[1,"card-body"],[3,"keyup.enter"],["filterForm",""],[1,"row"],[1,"col-8"],[1,"form-group"],["for","filterTextFilter"],["id","filterTextFilter","maxlength","100",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["class","col-md-4 col-sm-auto",4,"ngIf"],[1,"btn-group","mt-4"],[1,"btn","btn-secondary",3,"click"],[1,"col-auto","my-md-auto"],["id","customstatusSwitch1","type","checkbox",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","customstatusSwitch1",1,"custom-control-label"],[1,"col-md-12","align-self-end"],[1,"col"],[1,"col-auto","pr-0"],["type","button",1,"btn","btn-outline-primary","btn-block",3,"click"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],["class","app-dataview","default","",3,"messages","rows","count","list","headerHeight",4,"ngIf"],["size","xl",3,"busy","visible","suppressUnsavedChangesWarning","visibleChange"],["abpHeader",""],["abpBody",""],["assign",""],["type","button",1,"btn","btn-success","btn-new","btn-lg",3,"click"],["aria-hidden","true",1,"fa","fa-plus","mr-1"],[1,"col-md-4","col-sm-auto"],[2,"display","block"],["id","coachAppUserId","name","coachAppUserId","dataKey","id","field","displayName","forceSelection","true",1,"",3,"ngModel","ngModelOptions","suggestions","type","dropdown","placeholder","ngModelChange","onClear","completeMethod","search"],["default","",1,"app-dataview",3,"messages","rows","count","list","headerHeight"],["prop","exercise.exerciseName","width","100",3,"name"],["ngx-datatable-cell-template",""],["prop","exercise.exerciseName",3,"name"],["prop","generalLookup.generalLookupName",3,"name"],["prop","exerciseCategory.exerciseCategoryName",3,"name"],["prop","exerciseCategory.groupsCount",3,"name"],[3,"name","maxWidth","width","sortable"],[3,"exerciseItem","isShowTitle"],[1,"dv-title"],[1,"dv-details","view-rtl"],[3,"value"],["class","fa fa-globe-asia text-muted pull-left",4,"ngIf"],[1,"dv-details","view-ltr"],[1,"fa","fa-globe-asia","text-muted","pull-left"],[1,"dv-details"],[1,"action-items"],["class","action-item action-edit",3,"click",4,"ngIf"],["class","action-item action-deactivate",3,"ngbTooltip","click",4,"ngIf"],["class","action-item action-activate",3,"ngbTooltip","click",4,"ngIf"],[1,"action-item","action-view",3,"click"],[1,"fa","fa-eye"],[1,"action-item","action-edit",3,"click"],[1,"fa","fa-pen"],[1,"action-item","action-deactivate",3,"ngbTooltip","click"],[1,"fa","fa-toggle-off"],[1,"action-item","action-activate",3,"ngbTooltip","click"],[1,"fas","fa-toggle-on","custom-green","action-boarder","text-success"],[1,"col","mt-1"],["class","action-item cursor pull-left",3,"ngbTooltip","click",4,"ngIf"],[1,"action-item","cursor","pull-left",3,"ngbTooltip","click"],[1,"fa","fa-toggle-off","custom-green","action-boarder"],[1,"fa","fa-toggle-on","custom-green","action-boarder","text-success"],["validateOnSubmit","",3,"formGroup","ngSubmit",4,"ngIf"],["placeholder",".exercise-group-items"],[3,"ExerciseGroups","SelectedExerciseTypes","disabled","changed"],["appExerciseGroupRef",""],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"mt-2","fade-in-top","row"],["class","form-group col-md-4",4,"ngIf"],["class","form-group col-8",4,"ngIf"],[1,"form-group","col-md-6"],["for","exercise-exercise-name"],["id","exercise-exercise-name","formControlName","exerciseName","maxlength","250","minlength","1","autofocus","",1,"form-control",3,"readOnly"],["for","exercise-exercise-name-en"],["id","exercise-exercise-name-en","formControlName","exerciseNameEn","maxlength","250","minlength","1","autofocus","",1,"form-control",3,"readOnly"],[1,"form-group","col-md-6",3,"ngClass"],["for","exercise-description"],["class","optional-input badge badge-info",4,"ngIf"],["id","exercise-description","formControlName","description",1,"form-control",3,"readOnly"],["for","exercise-description-en"],["id","exercise-description-en","formControlName","descriptionEn",1,"form-control",3,"readOnly"],[1,"form-group","col-12",3,"ngClass"],["for","exercise-tags"],["id","exercise-tags","formControlName","tagsList",3,"onAdding","separatorKeyCodes","secondaryPlaceholder","placeholder"],["tagInput",""],[1,"form-group","col-md-4"],["for","exercise-photos-attachment-id"],["id","exercise-photos-attachment-id","formControlName","photosAttachmentId","acceptTypes",".gif,.png,.jpg,.jpeg","Entity","ExercisePhotos","name","photosAttachmentId",3,"maxFilesCount","readonly","attachmentUpdated"],["for","exercise-photos-attachment-id","for","videoType",2,"display","block"],[1,"form-check","custom-control","custom-radio","custom-control-inline"],["name","videoType","type","radio","formControlName","videoType",1,"custom-control-input","form-check-input",3,"id","value"],[1,"form-check-label","custom-control-label",3,"for"],[1,"form-group","col-md-4",3,"hidden"],["for","exercise-video-attachment-id"],["id","exercise-video-attachment-id","formControlName","videoAttachmentId","acceptTypes",".mp4","Entity","ExerciseVideo","name","videoAttachmentId",3,"maxFilesCount","readonly","attachmentUpdated"],["for","exercise-video-url"],[1,"input-group"],["id","exercise-video-url","formControlName","videoUrl",1,"form-control",3,"readOnly","change"],[1,"input-group-append"],[1,"btn","btn-primary",3,"click"],[3,"src",4,"ngIf"],["for","general-lookup-exercise-type-general-lookup-id"],["formControlName","exerciseTypeGeneralLookupId",3,"getFn","disabled"],["for","exercise-category-exercise-category-id"],["formControlName","exerciseCategoryId",3,"lookupNameProp","getFn","disabled"],["for","exercise-Genra-exercise-Genra-id"],["formControlName","exerciseGenreId",3,"lookupNameProp","getFn","disabled"],["class","form-group col-md-4",4,"abpPermission"],["for","order-in-list"],["id","order-in-list","type","number","formControlName","orderInList",1,"form-control"],[1,"col-sm-12",3,"ngClass"],[1,"exercise-group-items"],[1,"col-sm-12","modal-footer"],["type","submit","class","btn btn-success btn-save",3,"disabled",4,"ngIf"],["type","button",1,"btn","btn-secondary","btn-cancel"],["abpClose",""],["class","badge badge-success",4,"ngIf"],["for","app-user-assigned-app-user-id","style","display: block",4,"ngIf"],[1,"badge","badge-success"],["for","app-user-assigned-app-user-id",2,"display","block"],[1,"form-group","col-8"],["class","btn btn-sm btn-success mt-4",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-success","mt-4",3,"click"],[1,"optional-input","badge","badge-info"],[3,"src"],["for","programCategory"],["id","programCategory","name","programCategory","formControlName","programCategory",1,"custom-select","form-control","valid"],[3,"ngValue"],["type","submit",1,"btn","btn-success","btn-save",3,"disabled"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n._UZ(3,"abp-breadcrumb"),n.qZA(),n._UZ(4,"div",3),n.TgZ(5,"div",4),n.TgZ(6,"div",5),n.TgZ(7,"div",6),n.TgZ(8,"input",7),n.NdJ("ngModelChange",function(e){return t.showFilter=e}),n.qZA(),n.TgZ(9,"label",8),n._uU(10),n.ALo(11,"abpLocalization"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(12,"div",9),n.TgZ(13,"div",5),n.TgZ(14,"div",10),n.TgZ(15,"a",11),n._uU(16),n.ALo(17,"abpLocalization"),n.qZA(),n.YNc(18,y,4,3,"button",12),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(19,"div",13),n.TgZ(20,"div",14),n.TgZ(21,"div",15),n.TgZ(22,"form",16,17),n.NdJ("keyup.enter",function(){return t.list.get()}),n.TgZ(24,"div",18),n.TgZ(25,"div",19),n.TgZ(26,"div",20),n.TgZ(27,"label",21),n._uU(28),n.ALo(29,"abpLocalization"),n.qZA(),n.TgZ(30,"input",22),n.NdJ("ngModelChange",function(e){return t.filters.filterText=e}),n.qZA(),n.qZA(),n.qZA(),n.YNc(31,q,7,12,"div",23),n.TgZ(32,"div",19),n.TgZ(33,"div",5),n.TgZ(34,"div",24),n.TgZ(35,"div",25),n.NdJ("click",function(){return t.filters.publicLibraryFilter=t.PublicLibraryFilter.All}),n._uU(36),n.ALo(37,"abpLocalization"),n.qZA(),n.TgZ(38,"div",25),n.NdJ("click",function(){return t.filters.publicLibraryFilter=t.PublicLibraryFilter.PublicOnly}),n._uU(39),n.ALo(40,"abpLocalization"),n.qZA(),n.TgZ(41,"div",25),n.NdJ("click",function(){return t.filters.publicLibraryFilter=t.PublicLibraryFilter.PrivateOnly}),n._uU(42),n.ALo(43,"abpLocalization"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(44,"div",26),n.TgZ(45,"div",5),n.TgZ(46,"div",6),n.TgZ(47,"input",27),n.NdJ("ngModelChange",function(e){return t.isShowActive=e}),n.qZA(),n.TgZ(48,"label",28),n._uU(49),n.ALo(50,"abpLocalization"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(51,"div",29),n.TgZ(52,"div",18),n._UZ(53,"div",30),n.TgZ(54,"div",31),n.TgZ(55,"button",32),n.NdJ("click",function(){return t.clearFilters()}),n.TgZ(56,"span"),n._uU(57),n.ALo(58,"abpLocalization"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(59,"div",9),n.TgZ(60,"button",33),n.NdJ("click",function(){return t.list.get()}),n.TgZ(61,"span"),n._uU(62),n.ALo(63,"abpLocalization"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(64,Q,19,28,"ngx-datatable",34),n.qZA(),n.TgZ(65,"abp-modal",35),n.NdJ("visibleChange",function(e){return t.isModalOpen=e}),n.YNc(66,Y,6,5,"ng-template",null,36,n.W1O),n.YNc(68,oe,5,4,"ng-template",null,37,n.W1O),n.qZA(),n._UZ(70,"app-assign-exercise-program",null,38)),2&e&&(n.Q6J("hidden",t.hideList),n.xp6(8),n.Q6J("ngModel",t.showFilter),n.xp6(2),n.Oqu(n.lcZ(11,27,"::SeeAdvancedFilters")),n.xp6(6),n.hij(" ",n.lcZ(17,29,"::Menu:ExercisePrograms")," "),n.xp6(2),n.Q6J("abpPermission","Physic.Exercises.Create"),n.xp6(1),n.Q6J("ngbCollapse",t.isFiltersHidden),n.xp6(9),n.hij(" ",n.lcZ(29,31,"::SearchFor")," "),n.xp6(2),n.Q6J("ngModel",t.filters.filterText)("ngModelOptions",n.DdM(45,L)),n.xp6(1),n.Q6J("ngIf",t.isCurrentUserAdmin),n.xp6(4),n.ekj("active",t.filters.publicLibraryFilter===t.PublicLibraryFilter.All),n.xp6(1),n.hij(" ",n.lcZ(37,33,"::All")," "),n.xp6(2),n.ekj("active",t.filters.publicLibraryFilter===t.PublicLibraryFilter.PublicOnly),n.xp6(1),n.hij(" ",n.lcZ(40,35,"::PublicOnly")," "),n.xp6(2),n.ekj("active",t.filters.publicLibraryFilter===t.PublicLibraryFilter.PrivateOnly),n.xp6(1),n.hij(" ",n.lcZ(43,37,"::PrivateOnly")," "),n.xp6(5),n.Q6J("ngModel",t.isShowActive),n.xp6(2),n.Oqu(n.lcZ(50,39,"::ViewActiveOnly")),n.xp6(8),n.Oqu(n.lcZ(58,41,"::ClearDate")),n.xp6(5),n.Oqu(n.lcZ(63,43,"::Search")),n.xp6(2),n.Q6J("ngIf",!t.hideList),n.xp6(1),n.Q6J("busy",t.isModalBusy)("visible",t.isModalOpen)("suppressUnsavedChangesWarning",t.isReadOnly))},styles:[""],encapsulation:2}),e})();var ne=function(e){return e[e.videoUrl=33]="videoUrl",e[e.videoAttachment=34]="videoAttachment",e}({})},8266:function(e,t,i){"use strict";i.r(t),i.d(t,{ExerciseModule:function(){return de}});var o=i(46700),s=i(55679),n=i(10135),a=i(99046),r=i(83845),c=i(73756),l=i(82477),p=i(56410),d=i(35366);const u=[{path:"",component:l.W,canActivate:[o.a1M,o.nG9]}];let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[p.Bz.forChild(u)],p.Bz]}),e})();var m=i(56137),h=i(31041),f=i(2996),x=i(43835),Z=i(44689),b=i(30212),v=i(89443),A=i(61116),T=i(17647),y=i(55e3),L=i(23733);function q(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"button",8),d.NdJ("click",function(){return d.CHM(e),d.oxw().create()}),d._UZ(1,"i",9),d._uU(2),d.ALo(3,"abpLocalization"),d.qZA()}2&e&&(d.xp6(2),d.hij(" ",d.lcZ(3,1,"::NewExerciseGroup")," "))}function w(e,t){1&e&&(d.TgZ(0,"div"),d.TgZ(1,"div",10),d.TgZ(2,"div",11),d.TgZ(3,"div",12),d._UZ(4,"br"),d._UZ(5,"i",13),d._UZ(6,"br"),d._UZ(7,"br"),d.TgZ(8,"h5"),d._uU(9),d.ALo(10,"abpLocalization"),d.qZA(),d._UZ(11,"br"),d.TgZ(12,"p"),d._uU(13),d.ALo(14,"abpLocalization"),d.qZA(),d._UZ(15,"br"),d._UZ(16,"br"),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(9),d.Oqu(d.lcZ(10,2,"::NoGroupsHint")),d.xp6(4),d.Oqu(d.lcZ(14,4,"::NoGroupsHints")))}function I(e,t){if(1&e&&(d.TgZ(0,"div",24),d.TgZ(1,"div",25),d._uU(2),d.ALo(3,"abpLocalization"),d.qZA(),d.TgZ(4,"span",26),d.TgZ(5,"is-empty",27),d.TgZ(6,"span"),d._uU(7),d.ALo(8,"abpLocalization"),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){const e=d.oxw(3).row;d.xp6(2),d.hij(" ",d.lcZ(3,3,"::ExerciseSeconds")," "),d.xp6(3),d.Q6J("value",e.exerciseSeconds),d.xp6(2),d.Oqu(d.lcZ(8,5,"::Minute"))}}function U(e,t){if(1&e&&(d.TgZ(0,"div",24),d.TgZ(1,"div",25),d._uU(2),d.ALo(3,"abpLocalization"),d.qZA(),d.TgZ(4,"span",26),d._UZ(5,"is-empty",27),d.qZA(),d.qZA()),2&e){const e=d.oxw(3).row;d.xp6(2),d.hij(" ",d.lcZ(3,2,"::Weight")," "),d.xp6(3),d.Q6J("value",e.weight)}}function N(e,t){if(1&e&&(d.TgZ(0,"div",24),d.TgZ(1,"div",25),d._uU(2),d.ALo(3,"abpLocalization"),d.qZA(),d.TgZ(4,"span",26),d.TgZ(5,"is-empty",27),d.TgZ(6,"span"),d._uU(7),d.ALo(8,"abpLocalization"),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){const e=d.oxw(3).row;d.xp6(2),d.hij(" ",d.lcZ(3,3,"::RepeatCount")," "),d.xp6(3),d.Q6J("value",e.repeatCount),d.xp6(2),d.hij(" ",d.lcZ(8,5,"::TimeCount")," ")}}function C(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"button",32),d.NdJ("click",function(){d.CHM(e);const t=d.oxw(4).row;return d.oxw(2).update(t)}),d._UZ(1,"i",33),d.TgZ(2,"span"),d._uU(3),d.ALo(4,"abpLocalization"),d.qZA(),d.qZA()}2&e&&(d.xp6(3),d.Oqu(d.lcZ(4,1,"AbpUi::Edit")))}function k(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"button",34),d.NdJ("click",function(){d.CHM(e);const t=d.oxw(4).row;return d.oxw(2).delete(t)}),d._UZ(1,"i",35),d.TgZ(2,"span"),d._uU(3),d.ALo(4,"abpLocalization"),d.qZA(),d.qZA()}2&e&&(d.xp6(3),d.Oqu(d.lcZ(4,1,"AbpUi::Delete")))}function S(e,t){if(1&e&&(d.TgZ(0,"div",29),d.YNc(1,C,5,3,"button",30),d.YNc(2,k,5,3,"button",31),d.qZA()),2&e){const e=d.oxw(5);d.xp6(1),d.Q6J("ngIf",!e.selected),d.xp6(1),d.Q6J("ngIf",!e.selected)}}function E(e,t){if(1&e&&(d.TgZ(0,"div",22),d.YNc(1,I,9,7,"div",23),d.YNc(2,U,6,4,"div",23),d.YNc(3,N,9,7,"div",23),d.TgZ(4,"div",24),d.TgZ(5,"div",25),d._uU(6),d.ALo(7,"abpLocalization"),d.qZA(),d.TgZ(8,"span",26),d.TgZ(9,"is-empty",27),d.TgZ(10,"span"),d._uU(11),d.ALo(12,"abpLocalization"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.YNc(13,S,3,2,"div",28),d.qZA()),2&e){const e=d.oxw(2).row,t=d.oxw(2);d.xp6(1),d.Q6J("ngIf",t.SelectedExerciseTypes&&t.SelectedExerciseTypes===t.ExerciseTypes.Time),d.xp6(1),d.Q6J("ngIf",t.SelectedExerciseTypes&&t.SelectedExerciseTypes===t.ExerciseTypes.Count),d.xp6(1),d.Q6J("ngIf",t.SelectedExerciseTypes&&t.SelectedExerciseTypes===t.ExerciseTypes.Count),d.xp6(3),d.hij(" ",d.lcZ(7,7,"::RestSeconds")," "),d.xp6(3),d.Q6J("value",e.restSeconds),d.xp6(2),d.Oqu(d.lcZ(12,9,"::Minute")),d.xp6(2),d.Q6J("ngIf",!t.disabled)}}function J(e,t){1&e&&(d.TgZ(0,"span",39),d._uU(1),d.ALo(2,"abpLocalization"),d.qZA()),2&e&&(d.xp6(1),d.Oqu(d.lcZ(2,1,"::Optional")))}function _(e,t){1&e&&(d.TgZ(0,"span",26),d._UZ(1,"input",40),d.qZA())}function O(e,t){if(1&e&&(d.TgZ(0,"div",24),d.TgZ(1,"div",25),d.YNc(2,J,3,3,"span",37),d._uU(3),d.ALo(4,"abpLocalization"),d.qZA(),d.YNc(5,_,2,0,"span",38),d.qZA()),2&e){const e=d.oxw(3).row,t=d.oxw(2);d.xp6(2),d.Q6J("ngIf",t.isEditing(e)&&t.disabled),d.xp6(1),d.hij(" ",d.lcZ(4,3,"::ExerciseSeconds")," "),d.xp6(2),d.Q6J("ngIf",t.isEditing(e))}}function Q(e,t){1&e&&(d.TgZ(0,"span",39),d._uU(1),d.ALo(2,"abpLocalization"),d.qZA()),2&e&&(d.xp6(1),d.Oqu(d.lcZ(2,1,"::Optional")))}function F(e,t){1&e&&(d.TgZ(0,"span",26),d._UZ(1,"input",41),d.qZA())}function z(e,t){if(1&e&&(d.TgZ(0,"div",24),d.TgZ(1,"div",25),d.YNc(2,Q,3,3,"span",37),d._uU(3),d.ALo(4,"abpLocalization"),d.qZA(),d.YNc(5,F,2,0,"span",38),d.qZA()),2&e){const e=d.oxw(3).row,t=d.oxw(2);d.xp6(2),d.Q6J("ngIf",t.isEditing(e)&&t.disabled),d.xp6(1),d.hij(" ",d.lcZ(4,3,"::Weight")," "),d.xp6(2),d.Q6J("ngIf",t.isEditing(e))}}function Y(e,t){1&e&&(d.TgZ(0,"span",39),d._uU(1),d.ALo(2,"abpLocalization"),d.qZA()),2&e&&(d.xp6(1),d.Oqu(d.lcZ(2,1,"::Optional")))}function M(e,t){1&e&&(d.TgZ(0,"span",26),d._UZ(1,"input",42),d.qZA())}function G(e,t){if(1&e&&(d.TgZ(0,"div",24),d.TgZ(1,"div",25),d.YNc(2,Y,3,3,"span",37),d._uU(3),d.ALo(4,"abpLocalization"),d.qZA(),d.YNc(5,M,2,0,"span",38),d.qZA()),2&e){const e=d.oxw(3).row,t=d.oxw(2);d.xp6(2),d.Q6J("ngIf",t.isEditing(e)&&t.disabled),d.xp6(1),d.hij(" ",d.lcZ(4,3,"::RepeatCount")," "),d.xp6(2),d.Q6J("ngIf",t.isEditing(e))}}function P(e,t){1&e&&(d.TgZ(0,"span",39),d._uU(1),d.ALo(2,"abpLocalization"),d.qZA()),2&e&&(d.xp6(1),d.Oqu(d.lcZ(2,1,"::Optional")))}function V(e,t){1&e&&(d.TgZ(0,"span",26),d._UZ(1,"input",43),d.qZA())}function j(e,t){1&e&&(d.TgZ(0,"button",48),d._UZ(1,"i",49),d.TgZ(2,"span"),d._uU(3),d.ALo(4,"abpLocalization"),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Oqu(d.lcZ(4,1,"AbpUi::Save")))}function H(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"button",50),d.NdJ("click",function(){return d.CHM(e),d.oxw(6).cancel()}),d._UZ(1,"i",51),d.TgZ(2,"span"),d._uU(3),d.ALo(4,"abpLocalization"),d.qZA(),d.qZA()}2&e&&(d.xp6(3),d.Oqu(d.lcZ(4,1,"AbpUi::Cancel")))}function R(e,t){if(1&e&&(d.TgZ(0,"div",29),d._UZ(1,"input",44,45),d.YNc(3,j,5,3,"button",46),d.YNc(4,H,5,3,"button",47),d.qZA()),2&e){const e=d.oxw(3).row,t=d.oxw(2);d.xp6(3),d.Q6J("ngIf",t.isEditing(e)),d.xp6(1),d.Q6J("ngIf",t.isEditing(e))}}function D(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"form",36),d.NdJ("ngSubmit",function(){return d.CHM(e),d.oxw(4).save()}),d.YNc(1,O,6,5,"div",23),d.YNc(2,z,6,5,"div",23),d.YNc(3,G,6,5,"div",23),d.TgZ(4,"div",24),d.TgZ(5,"div",25),d.YNc(6,P,3,3,"span",37),d._uU(7),d.ALo(8,"abpLocalization"),d.qZA(),d.YNc(9,V,2,0,"span",38),d.qZA(),d.YNc(10,R,5,2,"div",28),d.qZA()}if(2&e){const e=d.oxw(2).row,t=d.oxw(2);d.Q6J("formGroup",t.form),d.xp6(1),d.Q6J("ngIf",t.SelectedExerciseTypes&&t.SelectedExerciseTypes===t.ExerciseTypes.Time),d.xp6(1),d.Q6J("ngIf",t.SelectedExerciseTypes&&t.SelectedExerciseTypes===t.ExerciseTypes.Count),d.xp6(1),d.Q6J("ngIf",t.SelectedExerciseTypes&&t.SelectedExerciseTypes===t.ExerciseTypes.Count),d.xp6(3),d.Q6J("ngIf",t.isEditing(e)&&t.disabled),d.xp6(1),d.hij(" ",d.lcZ(8,8,"::RestSeconds")," "),d.xp6(2),d.Q6J("ngIf",t.isEditing(e)),d.xp6(1),d.Q6J("ngIf",!t.disabled)}}function B(e,t){if(1&e&&(d.TgZ(0,"div",19),d.YNc(1,E,14,11,"div",20),d.YNc(2,D,11,10,"form",21),d.qZA()),2&e){const e=d.oxw().row,t=d.oxw(2);d.xp6(1),d.Q6J("ngIf",!t.isEditing(e)),d.xp6(1),d.Q6J("ngIf",t.isEditing(e))}}function $(e,t){if(1&e&&d.YNc(0,B,3,2,"div",18),2&e){const e=t.row,i=d.oxw(2);d.Q6J("ngIf",i.isAnyEditing()===i.isEditing(e))}}function W(e,t){if(1&e&&(d.TgZ(0,"div",14),d.TgZ(1,"ngx-datatable",15),d.TgZ(2,"ngx-datatable-column",16),d.ALo(3,"abpLocalization"),d.YNc(4,$,1,1,"ng-template",17),d.qZA(),d.qZA(),d.qZA()),2&e){const e=d.oxw();d.xp6(1),d.Q6J("count",e.data.totalCount)("footerHeight",0)("headerHeight",0)("list",e.list)("rows",e.data.items)("scrollbarV",!0),d.xp6(1),d.s9C("name",d.lcZ(3,7,"::ExerciseSeconds"))}}let K=(()=>{class e{constructor(e,t,i,o,s){this.list=e,this.track=t,this.confirmation=i,this.dateService=o,this.fb=s,this.changed=new d.vpe,this.data={items:[],totalCount:0},this.ExerciseTypes=v.$,this.disabled=!1,this.filters={},this.isFiltersHidden=!0,this.isModalOpen=!1,this.isLoaded=!1,this.addedCount=-1,this.isAdding=!1}get ExerciseGroups(){return this._ExerciseGroups}set ExerciseGroups(e){let t=!1;this._ExerciseGroups!=e&&(t=!0),this._ExerciseGroups=e,t&&this.refreshList()}get showFilter(){return this._showFilter}set showFilter(e){this._showFilter=e,this.isFiltersHidden=!e}ngOnInit(){setTimeout(()=>{this.isLoaded=!0},10)}refreshList(){this.data=new o.wLZ,this.data.totalCount=this.ExerciseGroups.length,this.data.items=this.ExerciseGroups}clearFilters(){this.filters={},this.list.get()}buildForm(){const{exerciseSeconds:e,repeatCount:t,totals:i,exerciseId:o,restSeconds:s,weight:n}=this.selected||{};this.form=this.fb.group({exerciseSeconds:[null!=e?e:null,[h.kI.max(1e3),h.kI.min(0),b.d.isIntegerValidator()]],repeatCount:[null!=t?t:null,[h.kI.max(1e3),h.kI.min(0),b.d.isIntegerValidator()]],totals:[null!=i?i:null,[h.kI.max(1e3),h.kI.min(0),b.d.isIntegerValidator()]],weight:[null!=n?n:null,[h.kI.max(1e3),h.kI.min(0)]],exerciseId:[null!=o?o:null,[]],restSeconds:[null!=s?s:null,[h.kI.max(1e3),h.kI.min(0),b.d.isIntegerValidator()]]}),console.log(document.querySelector(".exercise-group-con")),console.log(document.querySelector(".exercise-group-con input"))}hideForm(){this.form.reset()}showForm(){this.buildForm()}submitForm(){}isValid(e){if(e){if(e.restSeconds<0&&e.restSeconds>1e4)return!1;if(e.totals<0&&e.totals>1e4)return!1;if(e.repeatCount<0&&e.repeatCount>1e4)return!1;if(e.weight<0&&e.weight>1e4)return!1;if(e.restSeconds<0&&e.restSeconds>1e4)return!1}}isEditing(e){return!(!e||!this.selected||e.id!=this.selected.id)}isAnyEditing(){return!(!this.selected||!this.selected.id)}create(){this.isAdding=!0,this.selected=void 0,this.selected={},this.selected.id=--this.addedCount,this.ExerciseGroups.push(this.selected),this.refreshList(),this.changed.emit(this.ExerciseGroups),this.showForm()}update(e){this.isAdding=!1,this.selected=e,this.showForm()}save(){this.form.invalid||(this.selected.restSeconds=+this.form.get("restSeconds").value||0,this.selected.totals=+this.form.get("totals").value||0,this.selected.repeatCount=+this.form.get("repeatCount").value||0,this.selected.weight=+this.form.get("weight").value||0,this.selected.exerciseSeconds=+this.form.get("exerciseSeconds").value||0,this.refreshList(),this.changed.emit(this.ExerciseGroups),this.selected=void 0,this.hideForm())}cancel(){const e=this.selected.id;this.selected=void 0,this.isAdding&&(this.data.items=this.data.items.filter(t=>t.id!=e)),this.ExerciseGroups=this.data.items,this.hideForm()}delete(e){this.confirmation.warn("::DeleteConfirmationMessage","::AreYouSure",{messageLocalizationParams:[]}).pipe((0,x.h)(e=>e===s.Tv.Status.confirm),(0,Z.w)(()=>(this.ExerciseGroups=this.ExerciseGroups.filter(t=>t.id!=e.id),this.refreshList(),this.changed.emit(this.ExerciseGroups),null))).subscribe(this.list.get)}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(o.XNV),d.Y36(o.vR3),d.Y36(s.YP),d.Y36(f.R),d.Y36(h.qu))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-exercise-group"]],inputs:{SelectedExerciseTypes:"SelectedExerciseTypes",disabled:"disabled",ExerciseGroups:"ExerciseGroups"},outputs:{changed:"changed",selected:"selected"},features:[d._Bn([o.XNV,f.R])],decls:10,vars:6,consts:[[1,"row"],[1,"col","my-auto"],[1,"content-header-title","custom-green"],[1,"col-auto","my-auto"],[1,"text-lg-right","pt-2"],["class","btn btn-success btn-new btn-lg","type","button",3,"click",4,"ngIf"],[4,"ngIf"],["class","table-con",4,"ngIf"],["type","button",1,"btn","btn-success","btn-new","btn-lg",3,"click"],["aria-hidden","true",1,"fa","fa-plus","mr-1"],[1,"card","bg-light-2","col","mt-4"],[1,"mt-2","fade-in-top","text-center"],[1,"col"],[1,"fa","fa-exclamation-circle","text-warning",2,"font-size","48px"],[1,"table-con"],["default","",1,"app-dataview-old",2,"height","25vh",3,"count","footerHeight","headerHeight","list","rows","scrollbarV"],["prop","exerciseGroup.exerciseSeconds","cellClass","exercise-group-con",1,"",3,"name"],["ngx-datatable-cell-template",""],["class","col-12",4,"ngIf"],[1,"col-12"],["class","row mb-3",4,"ngIf"],["class","row mb-3","validateOnSubmit","",3,"formGroup","ngSubmit",4,"ngIf"],[1,"row","mb-3"],["class","col mt-auto",4,"ngIf"],[1,"col","mt-auto"],[1,"dv-title"],[1,"dv-details"],[3,"value"],["class","col-auto mt-auto action-btns",4,"ngIf"],[1,"col-auto","mt-auto","action-btns"],["class","action-item btn btn-primary btn-sm mx-2",3,"click",4,"ngIf"],["class","action-item btn btn-danger btn-sm mx-2",3,"click",4,"ngIf"],[1,"action-item","btn","btn-primary","btn-sm","mx-2",3,"click"],[1,"fa","fa-pen","custom-green","action-boarder","mr-2"],[1,"action-item","btn","btn-danger","btn-sm","mx-2",3,"click"],[1,"fa","fa-times","custom-green","action-boarder","mr-2"],["validateOnSubmit","",1,"row","mb-3",3,"formGroup","ngSubmit"],["class","optional-input badge badge-info",4,"ngIf"],["class","dv-details",4,"ngIf"],[1,"optional-input","badge","badge-info"],["formControlName","exerciseSeconds","old-max","100000","old-min","0","type","number",1,"form-control"],["formControlName","weight","old-max","100000","old-min","0","type","number",1,"form-control"],["formControlName","repeatCount","old-max","100000","old-min","0","type","number",1,"form-control"],["formControlName","restSeconds","old-max","100000","old-min","0","type","number",1,"form-control"],["type","submit",1,"hidden",2,"display","none"],["submit",""],["class","action-item btn btn-success btn-sm mx-2",4,"ngIf"],["class","btn btn-danger btn-cancel btn-sm mx-2",3,"click",4,"ngIf"],[1,"action-item","btn","btn-success","btn-sm","mx-2"],[1,"fa","fa-pen","custom-green","mr-2"],[1,"btn","btn-danger","btn-cancel","btn-sm","mx-2",3,"click"],[1,"fa","fa-times","mr-2"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"h4",2),d._uU(3),d.ALo(4,"abpLocalization"),d.qZA(),d.qZA(),d.TgZ(5,"div",3),d.TgZ(6,"div",4),d.YNc(7,q,4,3,"button",5),d.qZA(),d.qZA(),d.qZA(),d.YNc(8,w,17,6,"div",6),d.YNc(9,W,5,9,"div",7)),2&e&&(d.xp6(3),d.Oqu(d.lcZ(4,4,"::ExerciseGroups")),d.xp6(4),d.Q6J("ngIf",!t.disabled&&!t.selected),d.xp6(1),d.Q6J("ngIf",0===t.data.items.length),d.xp6(1),d.Q6J("ngIf",t.isLoaded&&t.data.items.length>0))},directives:[A.O5,T.nE,s.x7,s.j3,T.UC,T.vq,y.K,h._Y,h.JL,o.YzZ,h.sg,a.hL,h.Fj,h.wV,h.JJ,h.u,a.J5,L.m],pipes:[o.fuE],styles:[":host ::ng-deep .action-item{display:inline-block!important;width:46px!important}.hidden{display:none}.bg-light{background-color:#e2e2e285!important}.bg-dark-2{background:#dde0e0}.modal .datatable-body{background:none;background-color:transparent}.table-con{background:#f2f2f2;border-radius:6px;padding:6px;margin-top:15px}.dv-title{color:#7a7d81}.dv-details{color:#000}@media screen and (max-width:460px){.action-btns{margin-top:15px!important}}.exercise-group-con{background:#fff;border-radius:8px;margin:2px 2px 2px 0;padding:2px 0;box-shadow:0 2px 6px rgba(0,0,0,.1)}.modal-footer{margin:0;padding:0}"],encapsulation:2}),e})();var X=i(66297),ee=i(99416),te=i(16237),ie=i(42163),oe=i(1663),se=i(80093),ne=i(3183),ae=i(82151);function re(e,t){1&e&&(d.ynx(0,null,1),d.Hsn(2),d.BQk())}const ce=["*"];let le=(()=>{class e{constructor(e,t,i){this.componentFactoryResolver=e,this.applicationRef=t,this.injector=i}ngAfterViewInit(){setTimeout(()=>{this.host=new ae.u0(document.querySelector(this.placeholder),this.componentFactoryResolver,this.applicationRef,this.injector),this.host.attach(this.portal)},10)}ngOnDestroy(){this.host&&this.host.detach()}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(d._Vd),d.Y36(d.z2F),d.Y36(d.zs3))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-action"]],viewQuery:function(e,t){if(1&e&&d.Gf(ae.ig,5),2&e){let e;d.iGM(e=d.CRH())&&(t.portal=e.first)}},inputs:{placeholder:"placeholder"},ngContentSelectors:ce,decls:1,vars:0,consts:[[4,"cdkPortal"],["cdkPortal",""]],template:function(e,t){1&e&&(d.F$t(),d.YNc(0,re,3,0,"ng-container",0))},directives:[ae.ig],encapsulation:2}),e})();var pe=i(25349);let de=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[g,X.E,o.IR2,s.e2,c.Ck,r.vv,a.h2,n.lQ,n.M,ee.vO,m.m,n.XC]]}),e})();d.B6R(l.W,[s.LI,h.Wl,h.JJ,h.On,L.m,p.yS,o.l97,n._D,h._Y,h.JL,h.F,h.Fj,h.nD,A.O5,ie.Qc,T.nE,s.x7,s.j3,T.UC,T.vq,te.z,y.K,n._L,s.zS,o.YzZ,h.sg,a.hL,h.u,a.J5,h.wO,o.Uqp,A.mk,ee.m7,oe.Y,h._,se.s,ne.X,h.EJ,h.YN,h.Kr,h.wV,le,K,pe.d],[o.fuE])},44879:function(e,t,i){"use strict";i.d(t,{W:function(){return a}});var o=i(45908),s=i(35366),n=i(46700);let a=(()=>{class e{constructor(e){this.restService=e,this.apiName="Default",this.getCoachTypeLookup=()=>this.restService.request({method:"GET",url:`/api/app/general-lookups/${o.qs.CoachType}`},{apiName:this.apiName}),this.getCoachTypeLookupValues=()=>this.restService.request({method:"GET",url:`/api/app/general-lookups/${o.qs.CoachType}/values`},{apiName:this.apiName}),this.getGenderTypeLookup=()=>this.restService.request({method:"GET",url:`/api/app/general-lookups/${o.qs.Gender}`},{apiName:this.apiName}),this.getGenderTypeLookupValues=()=>this.restService.request({method:"GET",url:`/api/app/general-lookups/${o.qs.Gender}/values`},{apiName:this.apiName}),this.getTargetGenderLookup=()=>this.restService.request({method:"GET",url:`/api/app/general-lookups/${o.qs.TargetGender}`},{apiName:this.apiName}),this.getTargetGenderLookupValues=()=>this.restService.request({method:"GET",url:`/api/app/general-lookups/${o.qs.TargetGender}/values`},{apiName:this.apiName}),this.getDeliveryTypesLookup=()=>this.restService.request({method:"GET",url:`/api/app/general-lookups/${o.qs.DeliveryTypes}`},{apiName:this.apiName}),this.getDeliveryTypesLookupValues=()=>this.restService.request({method:"GET",url:`/api/app/general-lookups/${o.qs.DeliveryTypes}/values`},{apiName:this.apiName}),this.getExerciseTypesLookup=()=>this.restService.request({method:"GET",url:`/api/app/general-lookups/${o.qs.ExerciseTypes}`},{apiName:this.apiName}),this.getExerciseTypesLookupValues=()=>this.restService.request({method:"GET",url:`/api/app/general-lookups/${o.qs.ExerciseTypes}/values`},{apiName:this.apiName}),this.getItemStatusLookup=()=>this.restService.request({method:"GET",url:`/api/app/general-lookups/${o.qs.ItemStatus}`},{apiName:this.apiName}),this.getItemStatusLookupValues=()=>this.restService.request({method:"GET",url:`/api/app/general-lookups/${o.qs.ItemStatus}/values`},{apiName:this.apiName}),this.getPackageTypeLookup=()=>this.restService.request({method:"GET",url:`/api/app/general-lookups/${o.qs.PackageTypes}`},{apiName:this.apiName}),this.getPackageTypeLookupValues=()=>this.restService.request({method:"GET",url:`/api/app/general-lookups/${o.qs.PackageTypes}/values`},{apiName:this.apiName}),this.getPromotionCodeTypeLookup=()=>this.restService.request({method:"GET",url:`/api/app/general-lookups/${o.qs.PromocodesType}`},{apiName:this.apiName}),this.getPromotionCodeTypeLookupValues=()=>this.restService.request({method:"GET",url:`/api/app/general-lookups/${o.qs.PromocodesType}/values`},{apiName:this.apiName})}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(n.vgb))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);