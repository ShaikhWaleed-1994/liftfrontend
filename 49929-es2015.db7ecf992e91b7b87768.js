(self.webpackChunkPhysic=self.webpackChunkPhysic||[]).push([[49929],{49929:function(t,e,i){"use strict";i.r(e),i.d(e,{DashboardModule:function(){return xi}});var o=i(99046),a=i(46700),n=i(55679),r=i(10135),s=i(96972),c=i(13250),l=i(73756),u=i(61023),d=i(15451),p=i(68111),g=i(98204),m=i(56137),h=i(529),Z=i(35366),f=i(56410),b=i(83449),A=i(91861);let v=(()=>{class t{constructor(t){this.restService=t,this.apiName="Default",this.createCoach=t=>this.restService.request({method:"POST",url:"/api/app/onboarding-for-coach/create-coach",body:t},{apiName:this.apiName}),this.getCurrentAccountSummaryDto=()=>this.restService.request({method:"GET",url:"/api/app/onboarding-for-coach/get-current-account-summary"},{apiName:this.apiName}),this.getCurrentCoachSubscription=()=>this.restService.request({method:"GET",url:"/api/app/onboarding-for-coach/get-current-coach-subscription"},{apiName:this.apiName}),this.getMyPorfile=()=>this.restService.request({method:"GET",url:"/api/app/onboarding-for-coach/get-my-porfile"},{apiName:this.apiName}),this.getNormalPackageList=()=>this.restService.request({method:"GET",url:"/api/app/onboarding-for-coach/get-normal-package-list"},{apiName:this.apiName}),this.getPaymentSummaryByInput=t=>this.restService.request({method:"GET",url:"/api/app/onboarding-for-coach/get-payment-summary",params:{normalPackageId:t.normalPackageId}},{apiName:this.apiName}),this.setNormalCoachPaymentPaidByInput=t=>this.restService.request({method:"POST",url:"/api/app/onboarding-for-coach/set-normal-payment-paid",body:t},{apiName:this.apiName}),this.validateNormalCoachPaymentByInput=t=>this.restService.request({method:"POST",url:"/api/app/onboarding-for-coach/validate-normal-coach-payment",body:t},{apiName:this.apiName}),this.validatePromocodeByInput=t=>this.restService.request({method:"POST",url:"/api/app/onboarding-for-coach/validate-promocode",body:t},{apiName:this.apiName})}}return t.\u0275fac=function(e){return new(e||t)(Z.LFG(a.vgb))},t.\u0275prov=Z.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var x=i(2996),S=i(31041),T=i(41690),y=i(43252),q=i(99607),C=i(61116),I=i(52201);const L=function(t){return{attachmentId:t,entity:"PackageNormals"}};function w(t,e){if(1&t&&(Z._UZ(0,"img",20),Z.ALo(1,"async"),Z.ALo(2,"imgdownload")),2&t){const t=Z.oxw().$implicit;Z.Q6J("src",Z.lcZ(1,1,Z.lcZ(2,3,Z.VKq(5,L,t.attachmentId))),Z.LSH)}}function U(t,e){if(1&t&&(Z.TgZ(0,"div",12),Z.TgZ(1,"h4",21),Z._uU(2),Z.qZA(),Z._UZ(3,"hr"),Z.qZA()),2&t){const t=Z.oxw().$implicit;Z.xp6(2),Z.Oqu(t.description)}}function N(t,e){if(1&t&&(Z.TgZ(0,"div",12),Z.TgZ(1,"span",15),Z._uU(2),Z.ALo(3,"abpLocalization"),Z.qZA(),Z.TgZ(4,"span",22),Z._uU(5),Z.qZA(),Z._UZ(6,"hr"),Z.qZA()),2&t){const t=Z.oxw().$implicit;Z.xp6(2),Z.Oqu(Z.lcZ(3,2,"::Trainee")),Z.xp6(3),Z.Oqu(t.allowedTraineesCount)}}function _(t,e){1&t&&(Z.TgZ(0,"div",12),Z.TgZ(1,"span",15),Z._uU(2),Z.ALo(3,"abpLocalization"),Z.qZA(),Z.TgZ(4,"span",22),Z._uU(5),Z.ALo(6,"abpLocalization"),Z.qZA(),Z._UZ(7,"hr"),Z.qZA()),2&t&&(Z.xp6(2),Z.Oqu(Z.lcZ(3,2,"::Trainee")),Z.xp6(3),Z.hij("\xa0",Z.lcZ(6,4,"::Unlimited"),""))}function k(t,e){1&t&&(Z.TgZ(0,"span",22),Z._uU(1),Z.ALo(2,"abpLocalization"),Z.qZA()),2&t&&(Z.xp6(1),Z.hij("\xa0",Z.lcZ(2,1,"::Yes"),""))}function J(t,e){1&t&&(Z.TgZ(0,"span",22),Z._uU(1),Z.ALo(2,"abpLocalization"),Z.qZA()),2&t&&(Z.xp6(1),Z.hij("\xa0",Z.lcZ(2,1,"::No"),""))}function O(t,e){if(1&t&&(Z.TgZ(0,"div",12),Z.TgZ(1,"span",15),Z._uU(2),Z.ALo(3,"abpLocalization"),Z.qZA(),Z.TgZ(4,"span",23),Z._uU(5),Z.qZA(),Z.TgZ(6,"span",18),Z._uU(7),Z.ALo(8,"abpLocalization"),Z.qZA(),Z._UZ(9,"hr"),Z.qZA()),2&t){const t=Z.oxw(3);Z.xp6(2),Z.Oqu(Z.lcZ(3,3,"::RemainingDuration")),Z.xp6(3),Z.Oqu(t.lastSubscriptionEndDateRemaining),Z.xp6(2),Z.Oqu(Z.lcZ(8,5,"::ADay"))}}function M(t,e){if(1&t&&(Z.TgZ(0,"div",12),Z.TgZ(1,"span",24),Z._uU(2),Z.qZA(),Z.TgZ(3,"span",25),Z._uU(4),Z.ALo(5,"abpLocalization"),Z.qZA(),Z._UZ(6,"hr"),Z.qZA()),2&t){const t=Z.oxw().$implicit;Z.xp6(2),Z.Oqu(t.price),Z.xp6(2),Z.Oqu(Z.lcZ(5,2,"::Ryal"))}}function Y(t,e){1&t&&(Z.TgZ(0,"div",12),Z.TgZ(1,"h4",26),Z._uU(2),Z.ALo(3,"abpLocalization"),Z.qZA(),Z.qZA()),2&t&&(Z.xp6(2),Z.Oqu(Z.lcZ(3,1,"::Free")))}function P(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"div",12),Z.TgZ(1,"button",27),Z.NdJ("click",function(){Z.CHM(t);const e=Z.oxw().$implicit;return Z.oxw(2).subscribe(e.id)}),Z._uU(2),Z.ALo(3,"abpLocalization"),Z.qZA(),Z.qZA()}2&t&&(Z.xp6(2),Z.Oqu(Z.lcZ(3,1,"::ExtendOrChange")))}function D(t,e){if(1&t&&(Z.TgZ(0,"div",7),Z.TgZ(1,"div",8),Z.TgZ(2,"div",9),Z.YNc(3,w,3,7,"img",10),Z.qZA(),Z.TgZ(4,"div",11),Z.TgZ(5,"div",5),Z.TgZ(6,"div",12),Z.TgZ(7,"h3",13),Z._uU(8),Z.qZA(),Z._UZ(9,"hr"),Z.qZA(),Z.YNc(10,U,4,1,"div",14),Z.YNc(11,N,7,4,"div",14),Z.YNc(12,_,8,6,"div",14),Z.TgZ(13,"div",12),Z.TgZ(14,"span",15),Z._uU(15),Z.ALo(16,"abpLocalization"),Z.qZA(),Z.YNc(17,k,3,3,"span",16),Z.YNc(18,J,3,3,"span",16),Z._UZ(19,"hr"),Z.qZA(),Z.TgZ(20,"div",12),Z.TgZ(21,"span",17),Z._uU(22),Z.ALo(23,"abpLocalization"),Z.qZA(),Z.TgZ(24,"span",18),Z._uU(25),Z.qZA(),Z._UZ(26,"hr"),Z.qZA(),Z.YNc(27,O,10,7,"div",14),Z.YNc(28,M,7,4,"div",19),Z.YNc(29,Y,4,3,"div",14),Z.YNc(30,P,4,3,"div",14),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&t){const t=e.$implicit,i=Z.oxw(2);Z.xp6(3),Z.Q6J("ngIf",t.attachmentId),Z.xp6(5),Z.Oqu(t.packageName),Z.xp6(2),Z.Q6J("ngIf",t.description&&t.description.length>0),Z.xp6(1),Z.Q6J("ngIf",!t.allowedPaidTrainees),Z.xp6(1),Z.Q6J("ngIf",t.allowedPaidTrainees),Z.xp6(3),Z.Oqu(Z.lcZ(16,14,"::AllowedPaidTrainees")),Z.xp6(2),Z.Q6J("ngIf",t.allowedPaidTrainees),Z.xp6(1),Z.Q6J("ngIf",!t.allowedPaidTrainees),Z.xp6(4),Z.Oqu(Z.lcZ(23,16,"::DurationMonthes")),Z.xp6(3),Z.Oqu(t.durationMonthes),Z.xp6(2),Z.Q6J("ngIf",i.lastSubscriptionEndDateRemaining>0),Z.xp6(1),Z.Q6J("ngIf",t.price>0),Z.xp6(1),Z.Q6J("ngIf",0==t.price),Z.xp6(1),Z.Q6J("ngIf",!i.disablePayment)}}function F(t,e){if(1&t&&(Z.TgZ(0,"div",5),Z.YNc(1,D,31,18,"div",6),Z.qZA()),2&t){const t=Z.oxw();Z.xp6(1),Z.Q6J("ngForOf",t.items)}}let Q=(()=>{class t{constructor(t,e,i,o,a,n,r,s,c,l,u,d,p,g,m){this._router=t,this.authService=e,this.list=i,this.track=o,this.service=a,this.service2=n,this.confirmation=r,this.dateService=s,this.fb=c,this.coachService=l,this.toast=u,this.oAuthService=d,this.environment=p,this._attachmentService=g,this.sessionExtraInfoService=m,this.data={items:[],totalCount:0,lastSubscriptionEndDateRemaining:0,currentTraineesCount:0},this.filters={},this.lastSubscriptionEndDateRemaining=0,this.disablePayment=!1,this.isLoading=!0,m.whoAmI(()=>{})}get userId(){var t,e,i;return null!==(i=null===(e=null===(t=this.sessionExtraInfoService)||void 0===t?void 0:t.userStatus)||void 0===e?void 0:e.userId)&&void 0!==i?i:""}ngOnInit(){this.getList(),this.disablePayment=h.N.disablePayment}getList(){let t=this;this.service2.getCurrentCoachSubscription().subscribe(e=>{t.data=e.data.dataItem,t.items=[e.data.dataItem],t.lastSubscriptionEndDateRemaining=e.data.dataItem.lastSubscriptionEndDateRemaining})}subscribe(t){this._router.navigate(["onboarding/subscription"])}login(){this.authService.initLogin()}get hasLoggedIn(){return this.oAuthService.hasValidAccessToken()}}return t.\u0275fac=function(e){return new(e||t)(Z.Y36(f.F0),Z.Y36(a.e80),Z.Y36(a.XNV),Z.Y36(a.vR3),Z.Y36(b.v),Z.Y36(v),Z.Y36(n.YP),Z.Y36(x.R),Z.Y36(S.qu),Z.Y36(A.u),Z.Y36(n.MJ),Z.Y36(T.Ct),Z.Y36(a.L$R),Z.Y36(y.L),Z.Y36(q.G))},t.\u0275cmp=Z.Xpm({type:t,selectors:[["app-view-my-subscription-component"]],decls:10,vars:7,consts:[[1,"row","entry-row","align-items-center"],[1,"col-12","col-sm-auto","content-header-container"],[1,"content-header-title","custom-green"],[1,"alert","alert-primary","text-center"],["class","row",4,"ngIf"],[1,"row"],["class","col-md mx-auto",4,"ngFor","ngForOf"],[1,"col-md","mx-auto"],[1,"card","mx-auto","my-0","textstyle"],[1,"card-img-top"],["alt","package","class","img-fluid","onerror","this.src='../../../../../assets/package1.png'",3,"src",4,"ngIf"],[1,"p-3"],[1,"col-md-12"],[1,"m-0","text-orange","text-truncate"],["class","col-md-12",4,"ngIf"],[1,"text-truncate"],["class","font-weight-bolder mr-2",4,"ngIf"],[1,"text-truncate","mr-2"],[1,"font-weight-bolder"],["class","col-md-12 ",4,"ngIf"],["alt","package","onerror","this.src='../../../../../assets/package1.png'",1,"img-fluid",3,"src"],[1,"font-weight-bolder","description","m-0","text-truncate"],[1,"font-weight-bolder","mr-2"],[1,"font-weight-bolder","mx-2"],[1,"text-orange","mr-2"],[1,"text-truncate","text-orange"],[1,"text-orange","text-truncate"],["type","submit",1,"btn","btn-outline-primary",3,"click"]],template:function(t,e){1&t&&(Z.TgZ(0,"div",0),Z.TgZ(1,"div",1),Z.TgZ(2,"h1",2),Z._uU(3),Z.ALo(4,"abpLocalization"),Z.qZA(),Z._UZ(5,"abp-breadcrumb"),Z.qZA(),Z.qZA(),Z.TgZ(6,"div",3),Z._uU(7),Z.ALo(8,"abpLocalization"),Z.qZA(),Z.YNc(9,F,2,1,"div",4)),2&t&&(Z.xp6(3),Z.Oqu(Z.lcZ(4,3,"::ViewMySubscription")),Z.xp6(4),Z.hij(" ",Z.lcZ(8,5,"::UpgradeInfo"),"\n"),Z.xp6(2),Z.Q6J("ngIf",e.items))},directives:[n.LI,C.O5,C.sg],pipes:[a.fuE,C.Ov,I.H],styles:[".textstyle[_ngcontent-%COMP%]{text-align:center}.text-orange[_ngcontent-%COMP%]{color:#fdb915!important;font-weight:700!important;font-size:15px}.text-truncate[_ngcontent-%COMP%]{font-weight:100;color:#000}.card[_ngcontent-%COMP%]{background-color:#fff!important}.font-weight-bolder[_ngcontent-%COMP%]{color:#000!important;font-weight:700!important;font-size:15px}.description[_ngcontent-%COMP%]{white-space:break-spaces;font-size:12px}.text-warning[_ngcontent-%COMP%]{font-size:28px;margin:23px;display:inline-block}.border-secondary[_ngcontent-%COMP%]{border-color:#8191a64f!important}.card-img-top[_ngcontent-%COMP%]{background:#000}hr[_ngcontent-%COMP%]{border-top:1px solid #e2e2e2;margin:.8rem 0}hr.hidden[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]{max-width:320px}"]}),t})();var z=i(45908),j=i(11520),E=i(16185),G=i(30212),H=i(29609),R=i(44879),V=i(73545),W=i(89366),K=i(42373),$=i(23733),B=i(3183),X=i(22077),tt=i(1254),et=i(28451),it=i(40739),ot=i(1663);function at(t,e){if(1&t&&Z._UZ(0,"img",44),2&t){const t=Z.oxw();Z.Q6J("src",t.image,Z.LSH)}}function nt(t,e){1&t&&(Z.TgZ(0,"span"),Z._uU(1," *"),Z.qZA())}function rt(t,e){if(1&t&&Z._UZ(0,"sw-lookup-select",45),2&t){const t=Z.oxw();Z.Q6J("disabled",t.isReadOnly)("getFn",t.lookupService.getTargetGenderLookup)}}function st(t,e){if(1&t&&Z._UZ(0,"sw-lookup-select",45),2&t){const t=Z.oxw();Z.Q6J("disabled",t.isReadOnly)("getFn",t.lookupService.getTargetGenderLookupValues)}}function ct(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"div",48),Z.TgZ(1,"span"),Z.TgZ(2,"span",49),Z._uU(3),Z.qZA(),Z.TgZ(4,"span",50),Z._uU(5),Z.qZA(),Z.TgZ(6,"span",51),Z.NdJ("click",function(e){const i=Z.CHM(t).$implicit;return Z.oxw(2).removeItem(e,i)}),Z.qZA(),Z.qZA(),Z.qZA()}if(2&t){const t=e.$implicit;Z.xp6(3),Z.Oqu(t.nameAr),Z.xp6(2),Z.Oqu(t.nameEn)}}function lt(t,e){1&t&&(Z.TgZ(0,"span",52),Z._uU(1),Z.ALo(2,"abpLocalization"),Z.qZA()),2&t&&(Z.xp6(1),Z.hij(" ",Z.lcZ(2,1,"::coachCategories")," "))}function ut(t,e){if(1&t&&(Z.YNc(0,ct,7,2,"div",46),Z.YNc(1,lt,3,3,"span",47)),2&t){const t=e.$implicit;Z.Q6J("ngForOf",t),Z.xp6(1),Z.Q6J("ngIf",!t||0===t.length)}}function dt(t,e){1&t&&(Z.TgZ(0,"span",53),Z._uU(1),Z.ALo(2,"abpLocalization"),Z.qZA()),2&t&&(Z.xp6(1),Z.hij(" ",Z.lcZ(2,1,"::ImageRequiredSize"),""))}function pt(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"div",36),Z.TgZ(1,"div",9),Z.TgZ(2,"label",54),Z._uU(3),Z.ALo(4,"abpLocalization"),Z.qZA(),Z.TgZ(5,"div",55),Z._UZ(6,"input",56),Z.TgZ(7,"div",57),Z.TgZ(8,"span",58),Z.TgZ(9,"i",59),Z.NdJ("click",function(){return Z.CHM(t),Z.oxw().copy()}),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()}2&t&&(Z.xp6(3),Z.Oqu(Z.lcZ(4,2,"::GeneralInvitationUrl")),Z.xp6(3),Z.Q6J("readOnly",!0))}function gt(t,e){1&t&&(Z.TgZ(0,"button",60),Z._uU(1),Z.ALo(2,"abpLocalization"),Z.qZA()),2&t&&(Z.xp6(1),Z.Oqu(Z.lcZ(2,1,"AbpUi::Save")))}let mt=(()=>{class t{constructor(t,e,i,o,a,n,r,s,c,l,u,d,p,g){this.track=t,this.service=e,this.lookupService=i,this.dateService=o,this.langService=a,this.fb=n,this.clipboardService=r,this.toaster=s,this._router=c,this.environment=l,this.mobileHelperService=u,this._attachmentService=d,this.packageNormalService=p,this.sessionExtraInfoService=g,this.isModalBusy=!1,this.isReadOnly=!1,this.image="",this.GeneralLookupTypes=E.q,this.CoachChanged=new Z.vpe,this.isMobile=!1}get countryId(){return this.form.get("countryId")}removeItem(t,e){return t.preventDefault(),t.stopPropagation(),!1}get isVipCoach(){return!!this.userStatus&&this.userStatus.coachType===z.Tz.Vip}get isMySubscriptionCanInviteTrainee(){return!!this.currentSubscription&&this.currentSubscription.allowedPaidTrainees}loadCurrentSubscription(){this.packageNormalService.getList({isGetCurrentMode:!0}).subscribe(t=>{t.items.length>0&&(this.currentSubscription=t.items[0])})}ngOnInit(){const t=this;t.sessionExtraInfoService.whoAmI(e=>{t.userStatus=e,e.coachType===z.Tz.Normal&&e.userType===z.bZ.Coach&&t.loadCurrentSubscription()}),this.isMobile=this.mobileHelperService.GetMobile(),this.service.getCoachCategoryLookup({}).subscribe(e=>{t.linksList=e.items}),this.buildForm(),this.service.getMyPorfile().subscribe(t=>{this.form.get("name").setValue(t.name),this.form.get("bio").setValue(t.bio),this.form.get("email").setValue(t.email),this.form.get("phoneNumber").setValue(t.phoneNumber),this.form.get("generalInvitationUrl").setValue(t.generalInvitationUrl),this.form.get("coachCategories").setValue(t.coachCategories),this.form.get("galleryAttachmentId").setValue(t.galleryAttachmentId),this.form.get("photosAttachmentId").setValue(t.photosAttachmentId),this.form.get("portofolioAttachmentId").setValue(t.portofolioAttachmentId),this.form.get("cityId").setValue(t.cityId),this.form.get("countryId").setValue(t.countryId),this.form.get("targetGenderGeneralLookupId").setValue(t.targetGenderGeneralLookupId),this.form.get("genderGeneralLookupId").setValue(t.genderGeneralLookupId),this.form.get("genderGeneralLookupId").setValue(t.genderGeneralLookupId),t.photosAttachmentId&&this._attachmentService.getImageLink(t.photosAttachmentId,"coachphoto").then(t=>{this.image=t}),this.form.get("birthdate").setValue(H(t.birthdate))})}buildForm(){this.form=this.fb.group({name:[null,[S.kI.required,S.kI.minLength(2),S.kI.maxLength(60),G.d.InvalidCharacterValidator()]],bio:[null,[S.kI.minLength(2),S.kI.maxLength(250),G.d.InvalidCharacterValidator()]],email:[null,[S.kI.maxLength(70)]],phoneNumber:[null,[S.kI.maxLength(15)]],generalInvitationUrl:[null,[]],birthdate:[new Date,[]],galleryAttachmentId:[null,[]],photosAttachmentId:[null,[]],portofolioAttachmentId:[null,[]],cityId:[null,[S.kI.required]],countryId:[null,[S.kI.required]],targetGenderGeneralLookupId:[null,[S.kI.required]],genderGeneralLookupId:[null,[]],galleryAttachmentFiles:[void 0],portofolioAttachmentFiles:[void 0],photosAttachmentIdFiles:[void 0],coachCategories:[void 0,[]]})}submitForm(){if(this.form.invalid)return;""===this.form.controls.countryId.value&&this.form.controls.countryId.setValue(null),""===this.form.controls.cityId.value&&this.form.controls.cityId.setValue(null);const t=this.service.updateMyPorfile(this.form.value);this.isModalBusy=!0,t.pipe((0,j.x)(()=>{this.isModalBusy=!1})).subscribe(t=>{this._router.navigate(["/dashboard"])})}attachmentUpdated(t){try{this.form.get("galleryAttachmentFiles").setValue(t.files.toString())}catch(e){}}attachmentPortofolioUpdated(t){try{this.form.get("portofolioAttachmentFiles").setValue(t.files.toString())}catch(e){}}attachmentImageUpdated(t){try{this.form.get("photosAttachmentIdFiles").setValue(t.files.toString())}catch(e){}}copy(){this.clipboardService.copy(this.form.get("generalInvitationUrl").value),this.toaster.success("::CopyLinkDone")}}return t.\u0275fac=function(e){return new(e||t)(Z.Y36(a.vR3),Z.Y36(A.u),Z.Y36(R.W),Z.Y36(x.R),Z.Y36(V.C),Z.Y36(S.qu),Z.Y36(W.Yv),Z.Y36(n.MJ),Z.Y36(f.F0),Z.Y36(a.L$R),Z.Y36(K.k4),Z.Y36(y.L),Z.Y36(b.v),Z.Y36(q.G))},t.\u0275cmp=Z.Xpm({type:t,selectors:[["edit-coach-profile"]],inputs:{isVip:"isVip"},outputs:{CoachChanged:"CoachChanged"},decls:102,vars:77,consts:[[1,"row"],[1,"col-xl-8","col-lg-10","mx-auto"],[1,"page-con","shadow","rounded","px-4","py-3","my-5"],[1,"mb-5","text-center"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"col-md-3","col-6","mx-auto"],["class","img-fluid rounded","onerror","this.src='../../../../../assets/avatar.jpg';",3,"src",4,"ngIf"],[1,"w-100","my-3"],[1,"col-md-3"],[1,"form-group"],["for","coach-name"],["autofocus","","formControlName","name","id","coach-name","maxlength","60",1,"form-control"],["for","coach-phoneNumber"],["formControlName","phoneNumber","id","coach-phoneNumber",1,"form-control",3,"readOnly"],["for","coach-email"],["formControlName","email","id","coach-email","maxlength","256",1,"form-control",3,"readOnly"],["for","city-city-id"],["formControlName","countryId",3,"disabled","getFn"],["formControlName","cityId",3,"country","disabled","lookupNameProp"],["for","general-lookup-target-gender-general-lookup-id"],[4,"ngIf"],["formControlName","targetGenderGeneralLookupId",3,"disabled","getFn",4,"ngIf"],["name","storeCategoryLinks","id","storeCategoryLinks","itemSize","30","formControlName","coachCategories","optionLabel","nameAr","dataKey","id",1,"sw-tags","form-control",3,"options","virtualScroll","showHeader","showTransitionOptions","hideTransitionOptions","maxSelectedLabels"],["selectedActivity",""],["pTemplate","selectedItems"],["for","coach-birthdate"],["formControlName","birthdate","id","coach-birthdate","name","coach-birthdate",3,"isEnabled","StartYear"],["for","general-lookup-gender-general-lookup-id"],["formControlName","genderGeneralLookupId",3,"disabled","getFn"],[1,"col-md-6"],["for","coach-photos-attachment-id"],["class","optional-input badge badge-info",4,"ngIf"],[1,"attachment-con"],["Entity","coachphoto","acceptTypes",".png,.jpg,.jpeg","formControlName","photosAttachmentId","id","coachphoto-image-attachment-id","name","photosAttachmentId",3,"isThumbnail","maxFilesCount","readonly","attachmentUpdated"],["for","coach-portofolio-attachment-id"],["Entity","coachportofoliophoto","acceptTypes",".png,.jpg,.jpeg","formControlName","portofolioAttachmentId","id","coachportofoliophoto-image-attachment-id","name","portofolioAttachmentId",3,"isThumbnail","maxFilesCount","readonly","attachmentUpdated"],[1,"col-md-12"],["for","coach-gallery-attachment-id"],["Entity","coachphotogallery","acceptTypes",".png,.jpg,.jpeg","formControlName","galleryAttachmentId","id","coachphotogallery-image-attachment-id","name","galleryAttachmentId",3,"isThumbnail","maxFilesCount","readonly","attachmentUpdated"],["class","col-md-12",4,"ngIf"],["for","coach-bio"],["aria-multiline","true","formControlName","bio","id","coach-bio","maxlength","1000","multiple","true",1,"form-control",3,"readOnly"],[1,"col-sm-12","modal-footer"],["class"," btn btn-success btn-save","type","submit",4,"ngIf"],["onerror","this.src='../../../../../assets/avatar.jpg';",1,"img-fluid","rounded",3,"src"],["formControlName","targetGenderGeneralLookupId",3,"disabled","getFn"],["class","ui-multiselected-item-token ui-corner-all sw-tag",4,"ngFor","ngForOf"],["class","ui-multiselected-empty-token ui-corner-all sw-tag",4,"ngIf"],[1,"ui-multiselected-item-token","ui-corner-all","sw-tag"],[1,"view-rtl"],[1,"view-ltr"],[1,"remove-item",3,"click"],[1,"ui-multiselected-empty-token","ui-corner-all","sw-tag"],[1,"optional-input","badge","badge-info"],["for","coach-generalInvitationUrl"],[1,"input-group"],["formControlName","generalInvitationUrl","id","coach-generalInvitationUrl",1,"form-control",3,"readOnly"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text","bg-brand","border"],[1,"fa","fa-copy","text-white",3,"click"],["type","submit",1,"btn","btn-success","btn-save"]],template:function(t,e){1&t&&(Z.TgZ(0,"div",0),Z.TgZ(1,"div",1),Z.TgZ(2,"div",2),Z.TgZ(3,"div",3),Z.TgZ(4,"h3"),Z._uU(5),Z.ALo(6,"abpLocalization"),Z.qZA(),Z.qZA(),Z.TgZ(7,"form",4),Z.NdJ("ngSubmit",function(){return e.submitForm()}),Z.TgZ(8,"div",0),Z.TgZ(9,"div",5),Z.YNc(10,at,1,1,"img",6),Z.qZA(),Z._UZ(11,"div",7),Z.TgZ(12,"div",8),Z.TgZ(13,"div",9),Z.TgZ(14,"label",10),Z._uU(15),Z.ALo(16,"abpLocalization"),Z.qZA(),Z._UZ(17,"input",11),Z.qZA(),Z.qZA(),Z.TgZ(18,"div",8),Z.TgZ(19,"div",9),Z.TgZ(20,"label",12),Z._uU(21),Z.ALo(22,"abpLocalization"),Z.qZA(),Z._UZ(23,"input",13),Z.qZA(),Z.qZA(),Z.TgZ(24,"div",8),Z.TgZ(25,"div",9),Z.TgZ(26,"label",14),Z._uU(27),Z.ALo(28,"abpLocalization"),Z.qZA(),Z._UZ(29,"input",15),Z.qZA(),Z.qZA(),Z.TgZ(30,"div",8),Z.TgZ(31,"div",9),Z.TgZ(32,"label",16),Z._uU(33),Z.ALo(34,"abpLocalization"),Z.qZA(),Z._UZ(35,"sw-lookup-select",17),Z.qZA(),Z.qZA(),Z.TgZ(36,"div",8),Z.TgZ(37,"div",9),Z.TgZ(38,"label",16),Z._uU(39),Z.ALo(40,"abpLocalization"),Z.qZA(),Z._UZ(41,"abp-city-lookup-select",18),Z.qZA(),Z.qZA(),Z.TgZ(42,"div",8),Z.TgZ(43,"div",9),Z.TgZ(44,"label",19),Z._uU(45),Z.ALo(46,"abpLocalization"),Z.YNc(47,nt,2,0,"span",20),Z.qZA(),Z.YNc(48,rt,1,2,"sw-lookup-select",21),Z.YNc(49,st,1,2,"sw-lookup-select",21),Z.qZA(),Z.qZA(),Z.TgZ(50,"div",8),Z.TgZ(51,"div",9),Z.TgZ(52,"div"),Z.TgZ(53,"label",14),Z._uU(54),Z.ALo(55,"abpLocalization"),Z.qZA(),Z.TgZ(56,"p-multiSelect",22,23),Z.YNc(58,ut,2,2,"ng-template",24),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(59,"div",8),Z.TgZ(60,"div",9),Z.TgZ(61,"label",25),Z._uU(62),Z.ALo(63,"abpLocalization"),Z.qZA(),Z._UZ(64,"sw-date-picker",26),Z.qZA(),Z.qZA(),Z.TgZ(65,"div",8),Z.TgZ(66,"div",9),Z.TgZ(67,"label",27),Z._uU(68),Z.ALo(69,"abpLocalization"),Z.qZA(),Z._UZ(70,"sw-lookup-select",28),Z.qZA(),Z.qZA(),Z.TgZ(71,"div",29),Z.TgZ(72,"div",9),Z.TgZ(73,"label",30),Z._uU(74),Z.ALo(75,"abpLocalization"),Z.qZA(),Z.YNc(76,dt,3,3,"span",31),Z.TgZ(77,"div",32),Z.TgZ(78,"sw-attachment",33),Z.NdJ("attachmentUpdated",function(t){return e.attachmentImageUpdated(t)}),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(79,"div",29),Z.TgZ(80,"div",9),Z.TgZ(81,"label",34),Z._uU(82),Z.ALo(83,"abpLocalization"),Z.qZA(),Z.TgZ(84,"div",32),Z.TgZ(85,"sw-attachment",35),Z.NdJ("attachmentUpdated",function(t){return e.attachmentPortofolioUpdated(t)}),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(86,"div",36),Z.TgZ(87,"div",9),Z.TgZ(88,"label",37),Z._uU(89),Z.ALo(90,"abpLocalization"),Z.qZA(),Z.TgZ(91,"div",32),Z.TgZ(92,"sw-attachment",38),Z.NdJ("attachmentUpdated",function(t){return e.attachmentUpdated(t)}),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.YNc(93,pt,10,4,"div",39),Z.TgZ(94,"div",36),Z.TgZ(95,"div",9),Z.TgZ(96,"label",40),Z._uU(97),Z.ALo(98,"abpLocalization"),Z.qZA(),Z._UZ(99,"textarea",41),Z.qZA(),Z.qZA(),Z.TgZ(100,"div",42),Z.YNc(101,gt,3,3,"button",43),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&t&&(Z.xp6(5),Z.Oqu(Z.lcZ(6,49,"::MyProfile")),Z.xp6(2),Z.Q6J("formGroup",e.form),Z.xp6(3),Z.Q6J("ngIf",e.image),Z.xp6(5),Z.Oqu(Z.lcZ(16,51,"::CoachName")),Z.xp6(6),Z.Oqu(Z.lcZ(22,53,"::PhoneNumber")),Z.xp6(2),Z.Q6J("readOnly",!0),Z.xp6(4),Z.Oqu(Z.lcZ(28,55,"::Email")),Z.xp6(2),Z.Q6J("readOnly",!0),Z.xp6(4),Z.Oqu(Z.lcZ(34,57,"::Country")),Z.xp6(2),Z.Q6J("disabled",e.isReadOnly)("getFn",e.service.getCountryLookup),Z.xp6(4),Z.Oqu(Z.lcZ(40,59,"::City")),Z.xp6(2),Z.Q6J("country",e.countryId.value)("disabled",e.isReadOnly)("lookupNameProp",e.langService.getLookupNameProp()),Z.xp6(4),Z.hij("",Z.lcZ(46,61,"::TargetGenderGeneralLookup")," "),Z.xp6(2),Z.Q6J("ngIf",!e.isReadOnly),Z.xp6(1),Z.Q6J("ngIf",e.langService.isRtl),Z.xp6(1),Z.Q6J("ngIf",!e.langService.isRtl),Z.xp6(5),Z.hij(" ",Z.lcZ(55,63,"::coachCategories")," "),Z.xp6(2),Z.Q6J("options",e.linksList)("virtualScroll",!0)("showHeader",!e.isMobile)("showTransitionOptions","0ms")("hideTransitionOptions","0ms")("maxSelectedLabels",4),Z.xp6(6),Z.Oqu(Z.lcZ(63,65,"::Birthdate")),Z.xp6(2),Z.Q6J("isEnabled",!e.isReadOnly)("StartYear",42),Z.xp6(4),Z.Oqu(Z.lcZ(69,67,"::GenderGeneralLookup")),Z.xp6(2),Z.Q6J("disabled",e.isReadOnly)("getFn",e.lookupService.getGenderTypeLookup),Z.xp6(4),Z.Oqu(Z.lcZ(75,69,"::PhotosAttachmentId")),Z.xp6(2),Z.Q6J("ngIf",!e.isReadOnly),Z.xp6(2),Z.Q6J("isThumbnail",!0)("maxFilesCount",1)("readonly",e.isReadOnly),Z.xp6(4),Z.Oqu(Z.lcZ(83,71,"::PortofolioAttachmentId")),Z.xp6(3),Z.Q6J("isThumbnail",!0)("maxFilesCount",30)("readonly",e.isReadOnly),Z.xp6(4),Z.Oqu(Z.lcZ(90,73,"::GalleryAttachmentId")),Z.xp6(3),Z.Q6J("isThumbnail",!0)("maxFilesCount",30)("readonly",e.isReadOnly),Z.xp6(1),Z.Q6J("ngIf",e.isVipCoach||e.isMySubscriptionCanInviteTrainee),Z.xp6(4),Z.Oqu(Z.lcZ(98,75,"::Bio")),Z.xp6(2),Z.Q6J("readOnly",e.isReadOnly),Z.xp6(2),Z.Q6J("ngIf",!e.isReadOnly))},directives:[S._Y,S.JL,a.YzZ,S.sg,o.hL,C.O5,S.Fj,a.Uqp,S.JJ,S.u,o.J5,$.m,S.nD,B.X,X.b,tt.NU,et.jx,it.L,ot.Y,C.sg],pipes:[a.fuE],styles:[".page-con[_ngcontent-%COMP%]{background:#fff}textarea[_ngcontent-%COMP%]{height:130px!important;padding:5px 10px;border-radius:6px;resize:none}  .attachment-con .input-group{align-items:flex-end!important}"]}),t})();var ht=i(67067);function Zt(t,e){if(1&t&&Z._UZ(0,"img",31),2&t){const t=Z.oxw();Z.Q6J("src",t.image,Z.LSH)}}function ft(t,e){1&t&&(Z.TgZ(0,"span"),Z._uU(1," *"),Z.qZA())}function bt(t,e){1&t&&(Z.TgZ(0,"span"),Z._uU(1," *"),Z.qZA())}function At(t,e){1&t&&(Z.TgZ(0,"span",32),Z._uU(1),Z.ALo(2,"abpLocalization"),Z.qZA()),2&t&&(Z.xp6(1),Z.Oqu(Z.lcZ(2,1,"::Optional")))}function vt(t,e){1&t&&(Z.TgZ(0,"span"),Z._uU(1," *"),Z.qZA())}function xt(t,e){1&t&&(Z.TgZ(0,"span"),Z._uU(1," *"),Z.qZA())}function St(t,e){1&t&&(Z.TgZ(0,"button",33),Z._uU(1),Z.ALo(2,"abpLocalization"),Z.qZA()),2&t&&(Z.xp6(1),Z.hij(" ",Z.lcZ(2,1,"AbpUi::Save")," "))}let Tt=(()=>{class t{constructor(t,e,i,o,a,n,r,s){this.track=t,this.service=e,this.lookupService=i,this.fb=o,this.langService=a,this.environment=n,this._attachmentService=r,this._router=s,this.isModalBusy=!1,this.isReadOnly=!1,this.isModalOpen=!1,this.image="",this.CoordinatorChanged=new Z.vpe,this.SelectedCoachId=0}ngOnInit(){const t=this;this.buildForm(),this.service.getMyProfile().subscribe(e=>{this.form.get("name").setValue(e.name),this.form.get("bio").setValue(e.bio),this.form.get("email").setValue(e.email),this.form.get("phoneNumber").setValue(e.phoneNumber),this.form.get("genderGeneralLookupId").setValue(e.genderGeneralLookupId),this.form.get("photoAttachmentId").setValue(e.photoAttachmentId),this.form.get("portofolioAttachmentId").setValue(e.portofolioAttachmentId),this.form.get("cityId").setValue(e.cityId),e.photoAttachmentId&&this._attachmentService.getImageLink(e.photoAttachmentId,"coordinatorsphoto").then(e=>{t.image=e})})}get countryId(){return this.form.get("countryId")}buildForm(){var t,e;const{photoAttachmentId:i,portofolioAttachmentId:o,bio:a,cityId:n,countryId:r,genderGeneralLookupId:s,coachAppUserId:c}=(null===(t=this.selected)||void 0===t?void 0:t.coordinator)||{},{name:l,phoneNumber:u,email:d}=(null===(e=this.selected)||void 0===e?void 0:e.appUser)||{};this.form=this.fb.group({name:[null!=l?l:null,[S.kI.required,S.kI.minLength(2),S.kI.maxLength(256),G.d.InvalidCharacterValidator()]],email:[null!=d?d:null],phoneNumber:[null!=u?u:null],bio:[null!=a?a:null,[S.kI.required,S.kI.minLength(2),S.kI.maxLength(1e3),G.d.InvalidCharacterValidator()]],photoAttachmentId:[null!=i?i:null,[S.kI.required]],portofolioAttachmentId:[null!=o?o:null,[]],cityId:[null!=n?n:null,[S.kI.required]],countryId:[null!=r?r:null,[S.kI.required]],genderGeneralLookupId:[null!=s?s:null,[S.kI.required]],coachAppUserId:[null!=c?c:null,[]],portofolioAttachmentFiles:[void 0],photoAttachmentFiles:[void 0]})}submitForm(){if(this.form.invalid)return;const t=this.service.updateMyProfile(this.form.value);this.isModalBusy=!0,t.pipe((0,j.x)(()=>{this.isModalBusy=!1,this.CoordinatorChanged.next()})).subscribe(t=>{this._router.navigate(["/dashboard"])})}attachmentUpdated(t){try{this.form.get("photoAttachmentFiles").setValue(t.files.toString())}catch(e){}}attachmentPortofolioUpdated(t){try{this.form.get("portofolioAttachmentFiles").setValue(t.files.toString())}catch(e){}}}return t.\u0275fac=function(e){return new(e||t)(Z.Y36(a.vR3),Z.Y36(ht.q),Z.Y36(R.W),Z.Y36(S.qu),Z.Y36(V.C),Z.Y36(a.L$R),Z.Y36(y.L),Z.Y36(f.F0))},t.\u0275cmp=Z.Xpm({type:t,selectors:[["edit-coordinator-profile"]],outputs:{CoordinatorChanged:"CoordinatorChanged"},decls:66,vars:55,consts:[[1,"row"],[1,"col-xl-8","col-lg-10","mx-auto"],[1,"page-con","shadow","rounded","px-4","py-3","my-5"],[1,"row","entry-row","align-items-center"],[1,"col-lg-auto","pl-lg-0"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"form-group","col-md-12"],[1,"status-icon"],["class","s-icon-lg","onerror","this.src='../../../../../assets/avatar.jpg';",3,"src",4,"ngIf"],[1,"form-group","col-md-4"],["for","coordinator-name"],["id","coordinator-name","formControlName","name","maxlength","256","autofocus","",1,"form-control"],["for","coordinator-phoneNumber"],[4,"ngIf"],["id","coordinator-phoneNumber","formControlName","phoneNumber",1,"form-control",3,"readOnly"],["for","coordinator-email"],["id","coordinator-email","formControlName","email","maxlength","256",1,"form-control",3,"readOnly"],[1,"mt-2","fade-in-top","row"],["for","coach-portofolio-attachment-id"],["class","optional-input badge badge-info",4,"ngIf"],["id","coordinatorportofolio-image-attachment-id","formControlName","portofolioAttachmentId","acceptTypes",".png,.jpg,.jpeg","Entity","coordinatorportofolio","name","portofolioAttachmentId",3,"isThumbnail","maxFilesCount","readonly","attachmentUpdated"],["id","photoAttachmentId-image-attachment-id","formControlName","photoAttachmentId","acceptTypes",".png,.jpg,.jpeg","Entity","coordinatorsphoto","name","photoAttachmentId",3,"isThumbnail","maxFilesCount","readonly","attachmentUpdated"],["for","city-city-id"],["formControlName","countryId",3,"getFn","lookupNameProp","disabled"],["formControlName","cityId",3,"country","disabled","lookupNameProp"],["for","general-lookup-gender-general-lookup-id"],["formControlName","genderGeneralLookupId",3,"getFn","disabled"],["for","coordinator-bio"],["id","coordinator-bio","formControlName","bio","maxlength","1000","aria-multiline","true","multiple","true",1,"form-control",3,"readOnly"],[1,"col-sm-12","modal-footer"],["type","submit","class","btn btn-success btn-save",4,"ngIf"],["onerror","this.src='../../../../../assets/avatar.jpg';",1,"s-icon-lg",3,"src"],[1,"optional-input","badge","badge-info"],["type","submit",1,"btn","btn-success","btn-save"]],template:function(t,e){1&t&&(Z.TgZ(0,"div",0),Z.TgZ(1,"div",1),Z.TgZ(2,"div",2),Z.TgZ(3,"div",3),Z._UZ(4,"div",4),Z.qZA(),Z.TgZ(5,"h3"),Z._uU(6),Z.ALo(7,"abpLocalization"),Z.qZA(),Z.TgZ(8,"form",5),Z.NdJ("ngSubmit",function(){return e.submitForm()}),Z.TgZ(9,"div",0),Z.TgZ(10,"div",6),Z.TgZ(11,"div",7),Z.YNc(12,Zt,1,1,"img",8),Z.qZA(),Z.qZA(),Z.TgZ(13,"div",9),Z.TgZ(14,"label",10),Z._uU(15),Z.ALo(16,"abpLocalization"),Z.qZA(),Z._UZ(17,"input",11),Z.qZA(),Z.TgZ(18,"div",9),Z.TgZ(19,"label",12),Z._uU(20),Z.ALo(21,"abpLocalization"),Z.YNc(22,ft,2,0,"span",13),Z.qZA(),Z._UZ(23,"input",14),Z.qZA(),Z.TgZ(24,"div",9),Z.TgZ(25,"label",15),Z._uU(26),Z.ALo(27,"abpLocalization"),Z.YNc(28,bt,2,0,"span",13),Z.qZA(),Z._UZ(29,"input",16),Z.qZA(),Z.qZA(),Z.TgZ(30,"div",17),Z.TgZ(31,"div",9),Z.TgZ(32,"label",18),Z._uU(33),Z.ALo(34,"abpLocalization"),Z.qZA(),Z.YNc(35,At,3,3,"span",19),Z.TgZ(36,"sw-attachment",20),Z.NdJ("attachmentUpdated",function(t){return e.attachmentPortofolioUpdated(t)}),Z.qZA(),Z.qZA(),Z.TgZ(37,"div",9),Z.TgZ(38,"label",18),Z._uU(39),Z.ALo(40,"abpLocalization"),Z.qZA(),Z.TgZ(41,"sw-attachment",21),Z.NdJ("attachmentUpdated",function(t){return e.attachmentUpdated(t)}),Z.qZA(),Z.qZA(),Z.TgZ(42,"div",9),Z.TgZ(43,"label",22),Z._uU(44),Z.ALo(45,"abpLocalization"),Z.qZA(),Z._UZ(46,"sw-lookup-select",23),Z.qZA(),Z.TgZ(47,"div",9),Z.TgZ(48,"label",22),Z._uU(49),Z.ALo(50,"abpLocalization"),Z.YNc(51,vt,2,0,"span",13),Z.qZA(),Z._UZ(52,"abp-city-lookup-select",24),Z.qZA(),Z.TgZ(53,"div",9),Z.TgZ(54,"label",25),Z._uU(55),Z.ALo(56,"abpLocalization"),Z.YNc(57,xt,2,0,"span",13),Z.qZA(),Z._UZ(58,"sw-lookup-select",26),Z.qZA(),Z.TgZ(59,"div",6),Z.TgZ(60,"label",27),Z._uU(61),Z.ALo(62,"abpLocalization"),Z.qZA(),Z._UZ(63,"textarea",28),Z.qZA(),Z.qZA(),Z.TgZ(64,"div",29),Z.YNc(65,St,3,3,"button",30),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&t&&(Z.xp6(6),Z.hij(" ",Z.lcZ(7,35,"::MyProfile")," "),Z.xp6(2),Z.Q6J("formGroup",e.form),Z.xp6(4),Z.Q6J("ngIf",e.image),Z.xp6(3),Z.hij(" ",Z.lcZ(16,37,"::CoordinatorName")," "),Z.xp6(5),Z.hij(" ",Z.lcZ(21,39,"::PhoneNumber")," "),Z.xp6(2),Z.Q6J("ngIf",!e.isReadOnly),Z.xp6(1),Z.Q6J("readOnly",!0),Z.xp6(3),Z.hij(" ",Z.lcZ(27,41,"::Email")," "),Z.xp6(2),Z.Q6J("ngIf",!e.isReadOnly),Z.xp6(1),Z.Q6J("readOnly",!0),Z.xp6(4),Z.hij(" ",Z.lcZ(34,43,"::PortofolioAttachmentId")," "),Z.xp6(2),Z.Q6J("ngIf",!e.isReadOnly),Z.xp6(1),Z.Q6J("isThumbnail",!0)("maxFilesCount",30)("readonly",e.isReadOnly),Z.xp6(3),Z.hij(" ",Z.lcZ(40,45,"::PhotoAttachmentId")," "),Z.xp6(2),Z.Q6J("isThumbnail",!0)("maxFilesCount",1)("readonly",e.isReadOnly),Z.xp6(3),Z.hij(" ",Z.lcZ(45,47,"::Country")," * "),Z.xp6(2),Z.Q6J("getFn",e.service.getCountryLookup)("lookupNameProp",e.langService.getLookupNameProp())("disabled",e.isReadOnly),Z.xp6(3),Z.hij(" ",Z.lcZ(50,49,"::City")," "),Z.xp6(2),Z.Q6J("ngIf",!e.isReadOnly),Z.xp6(1),Z.Q6J("country",e.countryId.value)("disabled",e.isReadOnly)("lookupNameProp",e.langService.getLookupNameProp()),Z.xp6(3),Z.hij(" ",Z.lcZ(56,51,"::GenderGeneralLookup")," "),Z.xp6(2),Z.Q6J("ngIf",!e.isReadOnly),Z.xp6(1),Z.Q6J("getFn",e.langService.isRtl?e.lookupService.getGenderTypeLookup:e.lookupService.getGenderTypeLookupValues)("disabled",e.isReadOnly),Z.xp6(3),Z.hij(" ",Z.lcZ(62,53,"::Bio")," "),Z.xp6(2),Z.Q6J("readOnly",e.isReadOnly),Z.xp6(2),Z.Q6J("ngIf",!e.isReadOnly))},directives:[S._Y,S.JL,a.YzZ,S.sg,o.hL,C.O5,S.Fj,S.JJ,S.u,o.J5,$.m,S.nD,a.Uqp,ot.Y,B.X,X.b],pipes:[a.fuE],styles:[".s-icon-lg[_ngcontent-%COMP%]{height:200px;border-radius:25px;-o-object-fit:cover;object-fit:cover}"]}),t})();function yt(t,e){1&t&&Z._UZ(0,"edit-coach-profile")}function qt(t,e){1&t&&Z._UZ(0,"edit-coordinator-profile")}let Ct=(()=>{class t{constructor(t,e){this.coachService=t,this.sessionExtraInfoService=e,this.UserTypesEnum=z.bZ}ngOnInit(){this.sessionExtraInfoService.whoAmI2().subscribe(t=>{this.UserTypes=t.userType})}}return t.\u0275fac=function(e){return new(e||t)(Z.Y36(A.u),Z.Y36(q.G))},t.\u0275cmp=Z.Xpm({type:t,selectors:[["app-edit-profile"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(Z.YNc(0,yt,1,0,"edit-coach-profile",0),Z.YNc(1,qt,1,0,"edit-coordinator-profile",0)),2&t&&(Z.Q6J("ngIf",e.UserTypes==e.UserTypesEnum.Coach),Z.xp6(1),Z.Q6J("ngIf",e.UserTypes==e.UserTypesEnum.Coordinator))},directives:[C.O5,mt,Tt],styles:[""]}),t})();var It=function(t){return t[t.All=0]="All",t[t.Paid=1]="Paid",t[t.Free=2]="Free",t}({});(0,a.Uoq)(It);var Lt=i(47701),wt=i(28450),Ut=i(17434),Nt=i(65122),_t=i(37718),kt=i(94773),Jt=i(62194),Ot=i(43117),Mt=i(50547),Yt=i(55794),Pt=i(42163),Dt=i(76075);function Ft(t,e){if(1&t&&(Z.TgZ(0,"div",19),Z.TgZ(1,"span",20),Z._uU(2),Z.ALo(3,"abpLocalization"),Z.qZA(),Z.qZA()),2&t){const t=Z.oxw();Z.xp6(2),Z.Oqu(Z.xi3(3,1,"::LastSubscriptionEndDateRemaining",t.lastSubscriptionEndDateRemaining.toString()))}}function Qt(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"button",21),Z.NdJ("click",function(){return Z.CHM(t),Z.oxw(),Z.MAs(28).open()}),Z._UZ(1,"i",22),Z.qZA()}}function zt(t,e){if(1&t&&(Z.TgZ(0,"span",63),Z._uU(1),Z.qZA()),2&t){const t=Z.oxw(2);Z.xp6(1),Z.Oqu(null==t.summary?null:t.summary.allCount)}}function jt(t,e){if(1&t&&(Z.TgZ(0,"span",63),Z._uU(1),Z.qZA()),2&t){const t=Z.oxw(2);Z.xp6(1),Z.Oqu(null==t.summary?null:t.summary.readyCount)}}function Et(t,e){if(1&t&&(Z.TgZ(0,"span",63),Z._uU(1),Z.qZA()),2&t){const t=Z.oxw(2);Z.xp6(1),Z.Oqu(null==t.summary?null:t.summary.waitingAllCount)}}function Gt(t,e){if(1&t&&(Z.TgZ(0,"span",63),Z._uU(1),Z.qZA()),2&t){const t=Z.oxw(2);Z.xp6(1),Z.Oqu(null==t.summary?null:t.summary.waitingExerciseCount)}}function Ht(t,e){if(1&t&&(Z.TgZ(0,"span",63),Z._uU(1),Z.qZA()),2&t){const t=Z.oxw(2);Z.xp6(1),Z.Oqu(null==t.summary?null:t.summary.waitingNutritionCount)}}function Rt(t,e){if(1&t&&(Z.TgZ(0,"span",63),Z._uU(1),Z.qZA()),2&t){const t=Z.oxw(2);Z.xp6(1),Z.Oqu(null==t.summary?null:t.summary.suggestedCount)}}function Vt(t,e){if(1&t&&(Z.TgZ(0,"span",63),Z._uU(1),Z.qZA()),2&t){const t=Z.oxw(2);Z.xp6(1),Z.Oqu(null==t.summary?null:t.summary.notSuggestedCount)}}function Wt(t,e){if(1&t&&(Z.TgZ(0,"span",63),Z._uU(1),Z.qZA()),2&t){const t=Z.oxw(2);Z.xp6(1),Z.Oqu(null==t.summary?null:t.summary.scheduledCount)}}function Kt(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"div",40),Z.TgZ(1,"div",28),Z.TgZ(2,"label",64),Z._uU(3),Z.ALo(4,"abpLocalization"),Z.qZA(),Z.TgZ(5,"p-autoComplete",65),Z.NdJ("onClear",function(){return Z.CHM(t),Z.oxw(2).onClear()})("completeMethod",function(e){return Z.CHM(t),Z.oxw(2).startSearchUser(e)})("search",function(e){return Z.CHM(t),Z.oxw(2).startSearchUser(e)}),Z.ALo(6,"abpLocalization"),Z.qZA(),Z.qZA(),Z.qZA()}if(2&t){const t=Z.oxw(2);Z.xp6(3),Z.hij(" ",Z.lcZ(4,5,"::CoachName")," "),Z.xp6(2),Z.s9C("placeholder",Z.lcZ(6,7,"::CoachName")),Z.Q6J("suggestions",t.AllUsers)("type",t.searchType())("dropdown",!0)}}function $t(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"div",40),Z.TgZ(1,"div",28),Z.TgZ(2,"label",66),Z._uU(3),Z.ALo(4,"abpLocalization"),Z.qZA(),Z.TgZ(5,"p-autoComplete",67),Z.NdJ("onClear",function(){return Z.CHM(t),Z.oxw(2).onClearCoordinator()})("completeMethod",function(e){return Z.CHM(t),Z.oxw(2).startSearchCoordinators(e)})("search",function(e){return Z.CHM(t),Z.oxw(2).startSearchCoordinators(e)})("onSelect",function(e){return Z.CHM(t),Z.oxw(2).onSelectCoordinator(e)}),Z.qZA(),Z.qZA(),Z.qZA()}if(2&t){const t=Z.oxw(2);Z.xp6(3),Z.hij(" ",Z.lcZ(4,4,"::CoordinatorName")," "),Z.xp6(2),Z.Q6J("suggestions",t.AllCoordinators)("type",t.searchType())("dropdown",!0)}}function Bt(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"form",23),Z.NdJ("ngSubmit",function(){return Z.CHM(t),Z.oxw().get()}),Z.TgZ(1,"div",24),Z.TgZ(2,"div",25),Z.TgZ(3,"div",26),Z.TgZ(4,"div",27),Z.TgZ(5,"div",28),Z.TgZ(6,"label",29),Z._uU(7),Z.ALo(8,"abpLocalization"),Z.qZA(),Z._UZ(9,"input",30,31),Z.ALo(11,"abpLocalization"),Z.qZA(),Z.qZA(),Z.TgZ(12,"div",32),Z.TgZ(13,"div",33),Z.TgZ(14,"div",34),Z.NdJ("click",function(){Z.CHM(t);const e=Z.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.All}),Z._uU(15),Z.ALo(16,"abpLocalization"),Z.YNc(17,zt,2,1,"span",35),Z.qZA(),Z.TgZ(18,"div",34),Z.NdJ("click",function(){Z.CHM(t);const e=Z.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.Ready}),Z._uU(19),Z.ALo(20,"abpLocalization"),Z.YNc(21,jt,2,1,"span",35),Z.qZA(),Z.TgZ(22,"div",34),Z.NdJ("click",function(){Z.CHM(t);const e=Z.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.WaitingAll}),Z._uU(23),Z.ALo(24,"abpLocalization"),Z.YNc(25,Et,2,1,"span",35),Z.qZA(),Z.TgZ(26,"div",34),Z.NdJ("click",function(){Z.CHM(t);const e=Z.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.WaitingExercise}),Z._uU(27),Z.ALo(28,"abpLocalization"),Z.YNc(29,Gt,2,1,"span",35),Z.qZA(),Z.TgZ(30,"div",34),Z.NdJ("click",function(){Z.CHM(t);const e=Z.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.WaitingNutrition}),Z._uU(31),Z.ALo(32,"abpLocalization"),Z.YNc(33,Ht,2,1,"span",35),Z.qZA(),Z.TgZ(34,"div",34),Z.NdJ("click",function(){Z.CHM(t);const e=Z.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.Suggested}),Z._uU(35),Z.ALo(36,"abpLocalization"),Z.YNc(37,Rt,2,1,"span",35),Z.qZA(),Z.TgZ(38,"div",34),Z.NdJ("click",function(){Z.CHM(t);const e=Z.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.NotSuggested}),Z._uU(39),Z.ALo(40,"abpLocalization"),Z.YNc(41,Vt,2,1,"span",35),Z.qZA(),Z.TgZ(42,"div",34),Z.NdJ("click",function(){Z.CHM(t);const e=Z.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.Scheduled}),Z._uU(43),Z.ALo(44,"abpLocalization"),Z.YNc(45,Wt,2,1,"span",35),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(46,"div",36),Z.TgZ(47,"div",37),Z.TgZ(48,"div",38),Z.TgZ(49,"div",26),Z.YNc(50,Kt,7,9,"div",39),Z.YNc(51,$t,6,6,"div",39),Z.TgZ(52,"div",40),Z.TgZ(53,"div",28),Z.TgZ(54,"label",41),Z._uU(55),Z.ALo(56,"abpLocalization"),Z.qZA(),Z._UZ(57,"sw-lookup-select",42),Z.qZA(),Z.qZA(),Z.TgZ(58,"div",40),Z.TgZ(59,"div",28),Z.TgZ(60,"label",43),Z._uU(61),Z.ALo(62,"abpLocalization"),Z.qZA(),Z._UZ(63,"sw-lookup-select",44),Z.qZA(),Z.qZA(),Z.TgZ(64,"div",40),Z.TgZ(65,"div",28),Z.TgZ(66,"label",45),Z._uU(67),Z.ALo(68,"abpLocalization"),Z.qZA(),Z._UZ(69,"sw-lookup-select",46),Z.qZA(),Z.qZA(),Z.TgZ(70,"div",40),Z.TgZ(71,"div",28),Z.TgZ(72,"label",47),Z._uU(73),Z.ALo(74,"abpLocalization"),Z.qZA(),Z._UZ(75,"sw-lookup-select",48),Z.qZA(),Z.qZA(),Z.TgZ(76,"div",40),Z.TgZ(77,"div",28),Z.TgZ(78,"label",49),Z._uU(79),Z.ALo(80,"abpLocalization"),Z.qZA(),Z._UZ(81,"sw-lookup-select",50),Z.qZA(),Z.qZA(),Z.TgZ(82,"div",40),Z.TgZ(83,"div",28),Z.TgZ(84,"label",51),Z._uU(85),Z.ALo(86,"abpLocalization"),Z.qZA(),Z._UZ(87,"sw-lookup-select",52),Z.qZA(),Z.qZA(),Z.TgZ(88,"div",40),Z.TgZ(89,"label",53),Z._uU(90),Z.ALo(91,"abpLocalization"),Z.qZA(),Z.TgZ(92,"span",54),Z._uU(93),Z.ALo(94,"abpLocalization"),Z.qZA(),Z._UZ(95,"input",55),Z.qZA(),Z.TgZ(96,"div",40),Z.TgZ(97,"label",56),Z._uU(98),Z.ALo(99,"abpLocalization"),Z.qZA(),Z.TgZ(100,"span",54),Z._uU(101),Z.qZA(),Z._UZ(102,"input",57),Z.qZA(),Z.TgZ(103,"div",40),Z.TgZ(104,"label",58),Z._uU(105),Z.ALo(106,"abpLocalization"),Z.qZA(),Z.TgZ(107,"span",54),Z._uU(108),Z.qZA(),Z._UZ(109,"input",59),Z.qZA(),Z._UZ(110,"div",40),Z.TgZ(111,"div",40),Z._UZ(112,"br"),Z.qZA(),Z.TgZ(113,"div",60),Z.TgZ(114,"div",26),Z._UZ(115,"div",27),Z.TgZ(116,"div",32),Z.TgZ(117,"button",61),Z.NdJ("click",function(){return Z.CHM(t),Z.oxw().clearFilters()}),Z.TgZ(118,"span"),Z._uU(119),Z.ALo(120,"abpLocalization"),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(121,"div",32),Z.TgZ(122,"button",62),Z.NdJ("click",function(){return Z.CHM(t),Z.oxw().get()}),Z.TgZ(123,"span"),Z._uU(124),Z.ALo(125,"abpLocalization"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()}if(2&t){const t=Z.oxw();Z.Q6J("formGroup",t.form),Z.xp6(7),Z.hij(" ",Z.lcZ(8,61,"::SearchFor")," "),Z.xp6(2),Z.s9C("placeholder",Z.lcZ(11,63,"::Search")),Z.xp6(5),Z.ekj("active",t.simpleStatus===t.SimpleTraineeSubscriptionStatus.All),Z.xp6(1),Z.hij(" ",Z.lcZ(16,65,"::All")," "),Z.xp6(2),Z.Q6J("ngIf",null==t.summary?null:t.summary.allCount),Z.xp6(1),Z.ekj("active",t.simpleStatus===t.SimpleTraineeSubscriptionStatus.Ready),Z.xp6(1),Z.hij(" ",Z.lcZ(20,67,"::AssignedTrainees")," "),Z.xp6(2),Z.Q6J("ngIf",null==t.summary?null:t.summary.readyCount),Z.xp6(1),Z.ekj("active",t.simpleStatus===t.SimpleTraineeSubscriptionStatus.WaitingAll),Z.xp6(1),Z.hij(" ",Z.lcZ(24,69,"::NewTrainees")," "),Z.xp6(2),Z.Q6J("ngIf",null==t.summary?null:t.summary.waitingAllCount),Z.xp6(1),Z.ekj("active",t.simpleStatus===t.SimpleTraineeSubscriptionStatus.WaitingExercise),Z.xp6(1),Z.hij(" ",Z.lcZ(28,71,"::WaitingExercise")," "),Z.xp6(2),Z.Q6J("ngIf",null==t.summary?null:t.summary.waitingExerciseCount),Z.xp6(1),Z.ekj("active",t.simpleStatus===t.SimpleTraineeSubscriptionStatus.WaitingNutrition),Z.xp6(1),Z.hij(" ",Z.lcZ(32,73,"::WaitingNutrition")," "),Z.xp6(2),Z.Q6J("ngIf",null==t.summary?null:t.summary.waitingNutritionCount),Z.xp6(1),Z.ekj("active",t.simpleStatus===t.SimpleTraineeSubscriptionStatus.Suggested),Z.xp6(1),Z.hij(" ",Z.lcZ(36,75,"::Suggested")," "),Z.xp6(2),Z.Q6J("ngIf",null==t.summary?null:t.summary.suggestedCount),Z.xp6(1),Z.ekj("active",t.simpleStatus===t.SimpleTraineeSubscriptionStatus.NotSuggested),Z.xp6(1),Z.hij(" ",Z.lcZ(40,77,"::NotSuggested")," "),Z.xp6(2),Z.Q6J("ngIf",null==t.summary?null:t.summary.notSuggestedCount),Z.xp6(1),Z.ekj("active",t.simpleStatus===t.SimpleTraineeSubscriptionStatus.Scheduled),Z.xp6(1),Z.hij(" ",Z.lcZ(44,79,"::Scheduled")," "),Z.xp6(2),Z.Q6J("ngIf",null==t.summary?null:t.summary.scheduledCount),Z.xp6(1),Z.Q6J("ngbCollapse",t.isFiltersHidden),Z.xp6(4),Z.Q6J("ngIf",t.isCurrentUserAdmin),Z.xp6(1),Z.Q6J("ngIf",t.isCanSelectCoordinators),Z.xp6(4),Z.hij(" ",Z.lcZ(56,81,"::MuscleId")," "),Z.xp6(2),Z.Q6J("datas",t.musclesList),Z.xp6(4),Z.hij(" ",Z.lcZ(62,83,"::InjuryId")," "),Z.xp6(2),Z.Q6J("datas",t.injuriesList),Z.xp6(4),Z.hij(" ",Z.lcZ(68,85,"::ExerciseGenre")," "),Z.xp6(2),Z.Q6J("datas",t.genresList),Z.xp6(4),Z.hij(" ",Z.lcZ(74,87,"::Goal")," "),Z.xp6(2),Z.Q6J("datas",t.goalsList),Z.xp6(4),Z.hij(" ",Z.lcZ(80,89,"::DisliedNutritionCategory")," "),Z.xp6(2),Z.Q6J("datas",t.categoriesList),Z.xp6(4),Z.hij(" ",Z.lcZ(86,91,"::TraineePaid")," "),Z.xp6(2),Z.Q6J("datas",t.traineePaidList),Z.xp6(3),Z.hij(" ",Z.lcZ(91,93,"::IntensityLevel")," "),Z.xp6(3),Z.hij(" ",Z.lcZ(94,95,"::IntensityLevel"+t.getIntensityLevel)," "),Z.xp6(2),Z.Q6J("step",1),Z.xp6(3),Z.hij(" ",Z.lcZ(99,97,"::PreferedNumberOfMeals")," "),Z.xp6(3),Z.hij(" ",t.getpreferedNumberOfMeals," "),Z.xp6(1),Z.Q6J("step",1),Z.xp6(3),Z.hij(" ",Z.lcZ(106,99,"::NumberOfDays")," "),Z.xp6(3),Z.hij(" ",t.getnumberOfDays," "),Z.xp6(1),Z.Q6J("step",1),Z.xp6(10),Z.Oqu(Z.lcZ(120,101,"::Clear")),Z.xp6(5),Z.Oqu(Z.lcZ(125,103,"::Search"))}}function Xt(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"trainees-simple-list",68),Z.NdJ("traineeCountChanged",function(){return Z.CHM(t),Z.oxw().updateSummary()}),Z.qZA()}}const te=function(){return["/dashboard/old"]},ee=function(){return["/dashboard"]},ie=function(){return{standalone:!0}},oe=new Date;new Date(oe.getFullYear(),oe.getMonth()-1,oe.getDate());let ae=(()=>{class t{constructor(t,e,i,o,a,n,r,s,c,l,u,d,p,g,m,h){this.service=t,this.exService=e,this.coordinatorService=i,this.dateService=o,this.permissionService=a,this.servicePkag=n,this.statusService=r,this.localCacheService=s,this.coachService=c,this.nutritionService=l,this.exerciseService=u,this.sessionExtraInfoService=d,this.analyticsService=p,this.l=g,this.fb=m,this.mobileHelperService=h,this.TraineeSubscriptionStatus=z.Nd,this.date="",this.traineeCount=0,this.showSearch=!0,this.filterText="",this.lastSubscriptionEndDateRemaining=0,this.isFiltersHidden=!0,this.isMobile=!1,this.disablePayment=!1,this.SimpleTraineeSuggested=z.Dc,this.categoriesList=[],this.suggestedList=[{id:z.Dc.All,name:this.l.instant("::All")},{id:z.Dc.WithSuggested,name:this.l.instant("::WithSuggested")},{id:z.Dc.WithoutSuggested,name:this.l.instant("::WithoutSuggested")},{id:3,name:this.l.instant("::Assigned")}],this.traineePaidList=[{id:It.All,name:this.l.instant("::All")},{id:It.Paid,name:this.l.instant("::Paid")},{id:It.Free,name:this.l.instant("::Free")}],this.goalsList=[],this.genresList=[],this.injuriesList=[],this.musclesList=[],this.isCanSelectCoordinators=!1,this.isCoach=!1,this.filters={},this.rangeValues=[1,20],this.SimpleTraineeSubscriptionStatus=z.yP,this.isSearched=!1,this.isShowActive=!1,this.AllUsers=[]}get getIntensityLevel(){return this.form&&this.form.get("intensityLevel").value||0}get getpreferedNumberOfMeals(){return this.form&&this.form.get("preferedNumberOfMeals").value||""}get getnumberOfDays(){return this.form&&this.form.get("numberOfDays").value||""}startSearch(t){let e=[...this.musclesList];this.musclesList=[],setTimeout(()=>{this.musclesList=e},1e3)}ngOnInit(){this.analyticsService.log(Nt.O.View_HomePage);const t=this;this.disablePayment=h.N.disablePayment,this.sessionExtraInfoService.whoAmI2().subscribe(e=>{e.coachType==z.Tz.Normal&&(this.isCanSelectCoordinators=!1),e.userType===z.bZ.Coordinator?this.isCanSelectCoordinators=!1:e.userType===z.bZ.Coach?(this.isCanSelectCoordinators=!0,this.isCoach=!0):e.userType===z.bZ.Admin&&(this.isCanSelectCoordinators=!0),e.userType!==z.bZ.None&&t.initiate()}),this.isMobile=this.mobileHelperService.GetMobile(),this.isSearched=!0}initiate(){const t=this;setTimeout(()=>{t.exerciseService.getGenraLookup().pipe((0,wt.z)(t.localCacheService,"Genra",300)).subscribe(e=>{t.genresList=e.items.map(t=>new Ut.Cf(t))}),t.exerciseService.getInjuryLookup().pipe((0,wt.z)(t.localCacheService,"Injury",300)).subscribe(e=>{t.injuriesList=e.items.map(t=>new Ut.a5(t))}),t.exerciseService.getMuscleLookup().pipe((0,wt.z)(t.localCacheService,"Muscle",300)).subscribe(e=>{t.musclesList=e.items.map(t=>new Ut.a5(t))}),t.nutritionService.getNutritionCategoriesLookup().pipe((0,wt.z)(t.localCacheService,"NutritionCategories",300)).subscribe(e=>t.categoriesList=e.items.map(t=>new Ut.Cf(t))),t.nutritionService.getGoalsLookup().pipe((0,wt.z)(t.localCacheService,"Goals",300)).subscribe(e=>t.goalsList=e.items.map(t=>new Ut.Cf(t)))},5e3),t.form=t.fb.group({filterText:null,coachAppUserId:null,coordinatorAppUserId:null,hasExerciseDay:null,hasNutritionDay:null,muscleId:null,injuryId:null,exerciseGenreId:null,goalId:null,nutritionCategoryId:null,exerciseSuggested:null,nutritionSuggested:null,traineePaid:It.All,intensityLevel:0,preferedNumberOfMeals:0,numberOfDays:0,simpleStatus:z.yP.All}),t.form.get("filterText").valueChanges.pipe((0,Lt.b)(1200)).subscribe(e=>t.get()),setTimeout(()=>{t.statusService.lastSearch?(t.form.patchValue(t.statusService.lastSearch),t.showFilter=t.statusService.showSearch,t.currentDateFromStatus=t.statusService.currentDate,setTimeout(()=>{t.search()},100)):(t.currentDateFromStatus=new Date,t.search())},100),t.form.get("coachAppUserId").valueChanges.subscribe(e=>{t.form.get("coordinatorAppUserId").setValue(void 0)})}getField(t){let e=this.form.get(t).value;if(this.form&&e){if(0==e[0]&&0==e[1])return;return e}}get showFilter(){return this._showFilter}set showFilter(t){this._showFilter=t,this.isFiltersHidden=!t}get isCurrentUserAdmin(){return this.permissionService.getGrantedPolicy("PhysicAdmin")}clearFilters(){this.form.reset(),this.form.get("hasNote").setValue(!1),this.form.get("intensityLevel").setValue(0),this.form.get("preferedNumberOfMeals").setValue(0),this.form.get("numberOfDays").setValue(0),this.form.get("simpleStatus").setValue(z.yP.All),this.form.get("traineePaid").setValue(It.All),setTimeout(()=>{this.get(),this.statusService.lastSearch=void 0,this.statusService.showSearch=!1,this.statusService.currentDate=this.currentDateFromStatus},10)}ngAfterViewInit(){this.getdate(new Date),this.getSubscriptionRemaining()}ngOnDestroy(){}getdate(t){if(t){this.currentDateFromStatus=new Date(t),this.currentDateFromStatus.setHours(0,0,0,0);let e=H(this.currentDateFromStatus),i=this.dateService.parseMomentToString(e);this.dateString=i,this.service.currentDate.next({date:i,traineeId:0}),this.date=H(e).locale("ar-SA").format("dddd")+" - "+e.format("YYYY-MM-DD")}}getSubscriptionRemaining(){this.servicePkag.getSubscriptionRemaining().subscribe(t=>{this.lastSubscriptionEndDateRemaining=t})}traineeCountChanged(t){this.traineeCount=t}getSearchForm(){var t;let e=Object.assign({},null===(t=this.form)||void 0===t?void 0:t.value);return e.hasNutritionDay=1==e.hasNutritionDay?2:void 0,e.hasExerciseDay=1==e.hasExerciseDay?2:void 0,e.coachAppUserId=e.coachAppUserId&&e.coachAppUserId.id?e.coachAppUserId.id:void 0,e.coordinatorAppUserId&&(e.coordinatorAppUserId=this.SelectedCoordinatorId),e.muscleId||(e.muscleId=void 0),e.injuryId||(e.injuryId=void 0),e.intensityLevel&&0!==e.intensityLevel||(e.intensityLevel=void 0),e.preferedNumberOfMeals&&0!==e.preferedNumberOfMeals||(e.preferedNumberOfMeals=void 0),e.numberOfDays&&0!==e.numberOfDays||(e.numberOfDays=void 0),e.exerciseGenreId||(e.exerciseGenreId=void 0),e.goalId||(e.goalId=void 0),e.nutritionCategoryId||(e.nutritionCategoryId=void 0),e.exerciseSuggested||(e.exerciseSuggested=void 0),e.nutritionSuggested||(e.nutritionSuggested=void 0),e.traineePaid||(e.traineePaid=It.All),e.simpleStatus||(e.simpleStatus=z.yP.All),e.hasExerciseDay=void 0,e.hasNutritionDay=void 0,e}get simpleStatus(){return this.form.get("simpleStatus").value||z.yP.All}set simpleStatus(t){this.form.get("simpleStatus").setValue(t),setTimeout(()=>{this.get()},10)}search(){const t=this.getSearchForm();this.service.ChangeFilter2(t),this.statusService.lastSearch=this.form.value,this.statusService.showSearch=this.showFilter,this.statusService.currentDate=this.currentDateFromStatus,this.analyticsService.log(Nt.O.View_HomePage_Trainee_List,{simpleStatus:t.simpleStatus}),this.updateSummary(),setTimeout(()=>{this.isSearched=!0},10)}updateSummary(){}startSearchUser(t){let e={};e.filter=t.query,this.exService.getAppUserLookup(e).subscribe(t=>{this.AllUsers=t.items})}onSelect(t){}onClear(){this.form.reset(),this.form.get("hasNote").setValue(!1)}searchType(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)?"text":"search"}get(){this.search()}startSearchCoordinators(t){let e=Object.assign({},this.form.value);e.coachAppUserId&&e.coachAppUserId.id&&(e.coachAppUserId=e.coachAppUserId.id),this.coordinatorService.getCoordinatorsGeneralLookup({filterText:t.query,coachAppUserId:e.coachAppUserId,maxResultCount:void 0,skipCount:void 0}).subscribe(t=>{this.AllCoordinators=t.items})}onSelectCoordinator(t){this.SelectedCoordinatorId=t.appUserId}onClearCoordinator(){this.SelectedCoordinatorId=void 0,this.form.controls.balance.setValue(void 0)}}return t.\u0275fac=function(e){return new(e||t)(Z.Y36(_t.J),Z.Y36(kt.JL),Z.Y36(ht.q),Z.Y36(x.R),Z.Y36(a.$AH),Z.Y36(b.v),Z.Y36(Jt.$),Z.Y36(Ot.F),Z.Y36(A.u),Z.Y36(kt.lF),Z.Y36(kt.JL),Z.Y36(q.G),Z.Y36(Nt.y),Z.Y36(a.oQ8),Z.Y36(S.qu),Z.Y36(K.k4))},t.\u0275cmp=Z.Xpm({type:t,selectors:[["app-simple-dashboard"]],decls:29,vars:23,consts:[["class","alert alert-primary text-center",4,"ngIf"],[1,"card","bg-transparent","no-shadow"],[1,"card-header","px-0"],[1,"row","align-items-center"],[1,"col-lg-auto","col-md-12"],[1,"mb-lg-0"],[1,"col-xl-7","col-md-6"],[1,"btn-group","d-block"],["routerLinkActive","router-link-active",1,"btn","btn-success","btn-sm",3,"routerLink"],["class","btn btn-secondary  btn-sm",3,"click",4,"ngIf"],[1,"col-lg","col-md-6"],[1,"text-lg-right","pt-2"],[1,"custom-control","custom-switch"],["type","checkbox","id","customSwitch5",1,"custom-control-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","customSwitch5",1,"custom-control-label"],[1,""],["validateOnSubmit","",3,"formGroup","ngSubmit",4,"ngIf"],[3,"traineeCountChanged",4,"ngIf"],["userSettings",""],[1,"alert","alert-primary","text-center"],[1,"text-truncate"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-cogs"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"card","mb-4","card","mb-4","px-4","py-2"],[1,"card-body-old"],[1,"row"],[1,"col"],[1,"form-group"],["for","filterTextFilter"],["id","filterTextFilter","formControlName","filterText","maxlength","100",1,"form-control",3,"placeholder"],["filterTextControl",""],[1,"col-auto"],[1,"btn-group","mt-4"],[1,"btn","btn-secondary",3,"click"],["class","badge badge-light",4,"ngIf"],["id","advanced-content-filters",3,"ngbCollapse"],[1,"card","mb-4"],[1,"card-body"],["class","col-12 col-md-4",4,"ngIf"],[1,"col-12","col-md-4"],["for","MuscleId"],["lookupNameProp","nameAr","formControlName","muscleId","id","MuscleId","name","MuscleId","cid","MuscleId",3,"datas"],["for","injuryId"],["lookupNameProp","nameAr","formControlName","injuryId","id","injuryId","name","injuryId","cid","injuryId",3,"datas"],["for","exerciseGenreId"],["lookupNameProp","name","formControlName","exerciseGenreId","id","exerciseGenreId","name","exerciseGenreId","cid","exerciseGenreId",3,"datas"],["for","goalId"],["lookupNameProp","name","formControlName","goalId","id","goalId","name","goalId","cid","goalId",3,"datas"],["for","nutritionCategoryId"],["lookupNameProp","name","formControlName","nutritionCategoryId","id","nutritionCategoryId","name","nutritionCategoryId","cid","nutritionCategoryId",3,"datas"],["for","traineePaid"],["lookupNameProp","name","formControlName","traineePaid","id","traineePaid","name","traineePaid","cid","traineePaid",3,"datas"],["for","exercise-program-intensityLevel"],[1,"float-right"],["type","range","min","0","max","5","id","exercise-program-intensityLevel","formControlName","intensityLevel",1,"form-control-range",3,"step"],["for","exercise-program-preferedNumberOfMeals"],["type","range","min","0","max","10","id","exercise-program-preferedNumberOfMeals","formControlName","preferedNumberOfMeals",1,"form-control-range",3,"step"],["for","exercise-program-numberOfDays"],["type","range","min","0","max","7","id","exercise-program-numberOfDays","formControlName","numberOfDays",1,"form-control-range",3,"step"],[1,"col-md-12","align-self-end","mb-3"],["type","button",1,"btn","btn-outline-primary","btn-block",3,"click"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],[1,"badge","badge-light"],[2,"display","block"],["id","coachAppUserId","name","coachAppUserId","formControlName","coachAppUserId","dataKey","id","field","displayName","forceSelection","true",1,"",3,"suggestions","type","dropdown","placeholder","onClear","completeMethod","search"],["for","app-user-coach-app-user-id"],["id","coordinatorAppUserId","name","coordinatorAppUserId","formControlName","coordinatorAppUserId","dataKey","appUserId","field","name","forceSelection","true",3,"suggestions","type","dropdown","onClear","completeMethod","search","onSelect"],[3,"traineeCountChanged"]],template:function(t,e){1&t&&(Z.YNc(0,Ft,4,4,"div",0),Z.TgZ(1,"div",1),Z.TgZ(2,"div",2),Z.TgZ(3,"div",3),Z.TgZ(4,"div",4),Z.TgZ(5,"h3",5),Z._uU(6),Z.ALo(7,"abpLocalization"),Z.qZA(),Z.qZA(),Z.TgZ(8,"div",6),Z.TgZ(9,"div",7),Z.TgZ(10,"a",8),Z._uU(11),Z.ALo(12,"abpLocalization"),Z.qZA(),Z.TgZ(13,"a",8),Z._uU(14),Z.ALo(15,"abpLocalization"),Z.qZA(),Z.YNc(16,Qt,2,0,"button",9),Z.qZA(),Z.qZA(),Z.TgZ(17,"div",10),Z.TgZ(18,"div",11),Z.TgZ(19,"div",12),Z.TgZ(20,"input",13),Z.NdJ("ngModelChange",function(t){return e.showFilter=t}),Z.qZA(),Z.TgZ(21,"label",14),Z._uU(22),Z.ALo(23,"abpLocalization"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(24,"div",15),Z.YNc(25,Bt,126,105,"form",16),Z.YNc(26,Xt,1,0,"trainees-simple-list",17),Z.qZA(),Z.qZA(),Z._UZ(27,"app-user-setting",null,18)),2&t&&(Z.Q6J("ngIf",e.lastSubscriptionEndDateRemaining>0&&!e.disablePayment),Z.xp6(6),Z.Oqu(Z.lcZ(7,12,"::Dashboard")),Z.xp6(4),Z.Q6J("routerLink",Z.DdM(20,te)),Z.xp6(1),Z.hij(" ",Z.lcZ(12,14,"::ProgressReport")," "),Z.xp6(2),Z.Q6J("routerLink",Z.DdM(21,ee)),Z.xp6(1),Z.hij(" ",Z.lcZ(15,16,"::ProgressReport")," 1 "),Z.xp6(2),Z.Q6J("ngIf",e.isCoach),Z.xp6(4),Z.Q6J("ngModel",e.showFilter)("ngModelOptions",Z.DdM(22,ie)),Z.xp6(2),Z.Oqu(Z.lcZ(23,18,"::SeeAdvancedFilters")),Z.xp6(3),Z.Q6J("ngIf",e.form),Z.xp6(1),Z.Q6J("ngIf",e.isSearched))},directives:[C.O5,f.yS,f.Od,S.Wl,S.JJ,S.On,$.m,Mt.m,S._Y,S.JL,a.YzZ,S.sg,o.hL,S.Fj,S.u,o.J5,S.nD,r._D,B.X,S.eT,Yt.a,Pt.Qc,Dt.r],pipes:[a.fuE],encapsulation:2}),t})();var ne=i(17288),re=i(34723);function se(t,e){if(1&t&&(Z.TgZ(0,"div",17),Z.TgZ(1,"span",18),Z._uU(2),Z.ALo(3,"abpLocalization"),Z.qZA(),Z.qZA()),2&t){const t=Z.oxw();Z.xp6(2),Z.Oqu(Z.xi3(3,1,"::LastSubscriptionEndDateRemaining",t.lastSubscriptionEndDateRemaining.toString()))}}const ce=function(){return["/dashboard/simple"]};function le(t,e){1&t&&(Z.TgZ(0,"div"),Z.TgZ(1,"a",19),Z._uU(2),Z.ALo(3,"abpLocalization"),Z.qZA(),Z.qZA()),2&t&&(Z.xp6(1),Z.Q6J("routerLink",Z.DdM(4,ce)),Z.xp6(1),Z.hij(" ",Z.lcZ(3,2,"::Dashboard")," "))}function ue(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"div",24),Z.TgZ(1,"div",25),Z.TgZ(2,"label",40),Z._uU(3),Z.ALo(4,"abpLocalization"),Z.qZA(),Z.TgZ(5,"p-autoComplete",41),Z.NdJ("onClear",function(){return Z.CHM(t),Z.oxw(2).onClear()})("completeMethod",function(e){return Z.CHM(t),Z.oxw(2).startSearchUser(e)})("search",function(e){return Z.CHM(t),Z.oxw(2).startSearchUser(e)}),Z.ALo(6,"abpLocalization"),Z.qZA(),Z.qZA(),Z.qZA()}if(2&t){const t=Z.oxw(2);Z.xp6(3),Z.hij(" ",Z.lcZ(4,5,"::CoachName")," "),Z.xp6(2),Z.s9C("placeholder",Z.lcZ(6,7,"::CoachName")),Z.Q6J("suggestions",t.AllUsers)("type",t.searchType())("dropdown",!0)}}function de(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"div",24),Z.TgZ(1,"div",25),Z.TgZ(2,"label",42),Z._uU(3),Z.ALo(4,"abpLocalization"),Z.qZA(),Z.TgZ(5,"p-autoComplete",43),Z.NdJ("onClear",function(){return Z.CHM(t),Z.oxw(2).onClearCoordinator()})("completeMethod",function(e){return Z.CHM(t),Z.oxw(2).startSearchCoordinators(e)})("search",function(e){return Z.CHM(t),Z.oxw(2).startSearchCoordinators(e)})("onSelect",function(e){return Z.CHM(t),Z.oxw(2).onSelectCoordinator(e)}),Z.qZA(),Z.qZA(),Z.qZA()}if(2&t){const t=Z.oxw(2);Z.xp6(3),Z.hij(" ",Z.lcZ(4,4,"::CoordinatorName")," "),Z.xp6(2),Z.Q6J("suggestions",t.AllCoordinators)("type",t.searchType())("dropdown",!0)}}function pe(t,e){1&t&&(Z.TgZ(0,"div",44),Z.TgZ(1,"div",25),Z.TgZ(2,"div",10),Z._UZ(3,"input",45),Z.TgZ(4,"label",46),Z._uU(5),Z.ALo(6,"abpLocalization"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&t&&(Z.xp6(5),Z.Oqu(Z.lcZ(6,1,"::HasNote")))}function ge(t,e){if(1&t&&(Z.TgZ(0,"div",24),Z.TgZ(1,"div",25),Z.TgZ(2,"label",42),Z._uU(3),Z.ALo(4,"abpLocalization"),Z.qZA(),Z._UZ(5,"p-slider",47),Z.qZA(),Z.qZA()),2&t){const t=Z.oxw(2);Z.xp6(3),Z.AsE(" ",Z.lcZ(4,5,"::GeneralCommitment")," ",t.getcommitmentGeneral()," "),Z.xp6(2),Z.Q6J("range",!0)("min",0)("max",150)}}function me(t,e){if(1&t&&(Z.TgZ(0,"div",24),Z.TgZ(1,"div",25),Z.TgZ(2,"label",42),Z._uU(3),Z.ALo(4,"abpLocalization"),Z.qZA(),Z._UZ(5,"p-slider",48),Z.qZA(),Z.qZA()),2&t){const t=Z.oxw(2);Z.xp6(3),Z.AsE(" ",Z.lcZ(4,5,"::ExerciseCommitment")," ",t.getcommitmentExercise()," "),Z.xp6(2),Z.Q6J("range",!0)("min",0)("max",150)}}function he(t,e){if(1&t&&(Z.TgZ(0,"div",24),Z.TgZ(1,"div",25),Z.TgZ(2,"label",42),Z._uU(3),Z.ALo(4,"abpLocalization"),Z.qZA(),Z._UZ(5,"p-slider",49),Z.qZA(),Z.qZA()),2&t){const t=Z.oxw(2);Z.xp6(3),Z.AsE(" ",Z.lcZ(4,5,"::NutirtionCommitment")," ",t.getcommitmentNutrition()," "),Z.xp6(2),Z.Q6J("range",!0)("min",0)("max",150)}}function Ze(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"form",20),Z.NdJ("ngSubmit",function(){return Z.CHM(t),Z.oxw().search()}),Z.TgZ(1,"div",21),Z.TgZ(2,"div",22),Z.TgZ(3,"div",23),Z.TgZ(4,"div",24),Z.TgZ(5,"div",25),Z.TgZ(6,"label",26),Z._uU(7),Z.ALo(8,"abpLocalization"),Z.qZA(),Z._UZ(9,"input",27,28),Z.ALo(11,"abpLocalization"),Z.qZA(),Z.qZA(),Z.YNc(12,ue,7,9,"div",29),Z.YNc(13,de,6,6,"div",29),Z.TgZ(14,"div",24),Z.TgZ(15,"div",25),Z.TgZ(16,"div",10),Z._UZ(17,"input",30),Z.TgZ(18,"label",31),Z._uU(19),Z.ALo(20,"abpLocalization"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(21,"div",24),Z.TgZ(22,"div",25),Z.TgZ(23,"div",10),Z._UZ(24,"input",32),Z.TgZ(25,"label",33),Z._uU(26),Z.ALo(27,"abpLocalization"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.YNc(28,pe,7,3,"div",34),Z.YNc(29,ge,6,7,"div",29),Z.YNc(30,me,6,7,"div",29),Z.YNc(31,he,6,7,"div",29),Z.TgZ(32,"div",35),Z.TgZ(33,"div",23),Z._UZ(34,"div",36),Z.TgZ(35,"div",37),Z.TgZ(36,"button",38),Z.NdJ("click",function(){return Z.CHM(t),Z.oxw().clearFilters()}),Z.TgZ(37,"span"),Z._uU(38),Z.ALo(39,"abpLocalization"),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(40,"div",37),Z.TgZ(41,"button",39),Z.NdJ("click",function(){return Z.CHM(t),Z.oxw().get()}),Z.TgZ(42,"span"),Z._uU(43),Z.ALo(44,"abpLocalization"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()}if(2&t){const t=Z.oxw();Z.Q6J("formGroup",t.form),Z.xp6(7),Z.hij(" ",Z.lcZ(8,13,"::SearchFor")," "),Z.xp6(2),Z.s9C("placeholder",Z.lcZ(11,15,"::Search")),Z.xp6(3),Z.Q6J("ngIf",t.isCurrentUserAdmin),Z.xp6(1),Z.Q6J("ngIf",t.isCanSelectCoordinators),Z.xp6(6),Z.hij(" ",Z.lcZ(20,17,"::IsThereIsNoExerciseProgramToday")," "),Z.xp6(7),Z.hij(" ",Z.lcZ(27,19,"::IsThereIsNoNutritionProgramToday")," "),Z.xp6(2),Z.Q6J("ngIf",!t.isSimple),Z.xp6(1),Z.Q6J("ngIf",!t.isSimple),Z.xp6(1),Z.Q6J("ngIf",!t.isSimple),Z.xp6(1),Z.Q6J("ngIf",!t.isSimple),Z.xp6(7),Z.Oqu(Z.lcZ(39,21,"::Clear")),Z.xp6(5),Z.Oqu(Z.lcZ(44,23,"::Search"))}}function fe(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"trainees-table",50),Z.NdJ("traineeCountChanged",function(e){return Z.CHM(t),Z.oxw().traineeCountChanged(e)}),Z.qZA()}2&t&&Z.Q6J("traineeType",0)}function be(t,e){1&t&&Z._UZ(0,"trainees-simple-list")}const Ae=function(){return{standalone:!0}},ve=new Date;new Date(ve.getFullYear(),ve.getMonth()-1,ve.getDate());let xe=(()=>{class t{constructor(t,e,i,o,a,n,r,s,c,l,u,d,p){this.service=t,this.exService=e,this.coordinatorService=i,this.dateService=o,this.permissionService=a,this.servicePkag=n,this.statusService=r,this.coachService=s,this.localCacheService=c,this.sessionExtraInfoService=l,this.l=u,this.fb=d,this.mobileHelperService=p,this.TraineeSubscriptionStatus=z.Nd,this.date="",this.traineeCount=0,this.showSearch=!0,this.filterText="",this.lastSubscriptionEndDateRemaining=0,this.isFiltersHidden=!0,this.isMobile=!1,this._isSimple=!1,this.disablePayment=!1,this.isCanSelectCoordinators=!1,this.filters={},this.rangeValues=[1,20],this.isShowActive=!1,this.AllUsers=[]}get isSimple(){return this._isSimple}set isSimple(t){this._isSimple=t}ngOnInit(){this.disablePayment=h.N.disablePayment,this.form=this.fb.group({filterText:null,coachAppUserId:null,coordinatorAppUserId:null,hasNote:!1,hasExerciseProgram:null,hasNutritionProgram:null,hasExerciseDay:null,hasNutritionDay:null,commitmentGeneral:null,commitmentExercise:null,commitmentNutrition:null}),setTimeout(()=>{this.statusService.lastSearch?(this.form.patchValue(this.statusService.lastSearch),this.showFilter=this.statusService.showSearch,this.currentDateFromStatus=this.statusService.currentDate,setTimeout(()=>{this.search()},100)):this.currentDateFromStatus=new Date},100),this.form.get("coachAppUserId").valueChanges.subscribe(t=>{this.form.get("coordinatorAppUserId").setValue(void 0)}),this.sessionExtraInfoService.whoAmI2().subscribe(t=>{t.coachType==z.Tz.Normal&&(this.isCanSelectCoordinators=!1),t.userType===z.bZ.Coordinator?this.isCanSelectCoordinators=!1:(t.userType===z.bZ.Coach||t.userType===z.bZ.Admin)&&(this.isCanSelectCoordinators=!0)}),this.isMobile=this.mobileHelperService.GetMobile()}getField(t){let e=this.form.get(t).value;if(this.form&&e){if(0==e[0]&&0==e[1])return;return e}}getcommitmentNutrition(){let t=this.getField("commitmentNutrition");return t?this.l.instant("::FromDateGrid")+" "+t[0]+"% "+this.l.instant("::ToDateGrid")+" "+t[1]+"%":""}getcommitmentExercise(){let t=this.getField("commitmentExercise");return t?this.l.instant("::FromDateGrid")+" "+t[0]+"% "+this.l.instant("::ToDateGrid")+" "+t[1]+"%":""}getcommitmentGeneral(){let t=this.getField("commitmentGeneral");return t?this.l.instant("::FromDateGrid")+" "+t[0]+"% "+this.l.instant("::ToDateGrid")+" "+t[1]+"%":""}get showFilter(){return this._showFilter}set showFilter(t){this._showFilter=t,this.isFiltersHidden=!t}get isCurrentUserAdmin(){return this.permissionService.getGrantedPolicy("PhysicAdmin")}clearFilters(){this.form.reset(),this.form.get("hasNote").setValue(!1),this.get(),this.statusService.lastSearch=void 0,this.statusService.showSearch=!1,this.statusService.currentDate=this.currentDateFromStatus}ngAfterViewInit(){this.getdate(new Date),this.getSubscriptionRemaining()}ngOnDestroy(){}getdate(t){if(t){this.currentDateFromStatus=new Date(t),this.currentDateFromStatus.setHours(0,0,0,0);let e=H(this.currentDateFromStatus),i=this.dateService.parseMomentToString(e);this.dateString=i,this.service.currentDate.next({date:i,traineeId:0}),this.date=H(e).locale("ar-SA").format("dddd")+" - "+e.format("YYYY-MM-DD")}}getSubscriptionRemaining(){this.servicePkag.getSubscriptionRemaining().pipe((0,wt.z)(this.localCacheService,"SubscriptionRemaining",1800)).subscribe(t=>{this.lastSubscriptionEndDateRemaining=t})}traineeCountChanged(t){this.traineeCount=t}clearSearch(){this.form.reset(),this.form.get("hasNote").setValue(!1),this.service.ChangeFilter(void 0)}getSearchForm(){let t=Object.assign({},this.form.value),e=this.getField("commitmentGeneral"),i=this.getField("commitmentExercise"),o=this.getField("commitmentNutrition");return e&&(t.commitmentGeneralMin=e[0],t.commitmentGeneralMax=e[1]),i&&(t.commitmentExerciseMin=i[0],t.commitmentExerciseMax=i[1]),o&&(t.commitmentNutritionMin=o[0],t.commitmentNutritionMax=o[1]),t.hasNutritionDay=1==t.hasNutritionDay?2:void 0,t.hasExerciseDay=1==t.hasExerciseDay?2:void 0,t.hasNutritionProgram=1==t.hasNutritionProgram?2:void 0,t.hasExerciseProgram=1==t.hasExerciseProgram?2:void 0,t.coachAppUserId=t.coachAppUserId&&t.coachAppUserId.id?t.coachAppUserId.id:void 0,t.coordinatorAppUserId&&(t.coordinatorAppUserId=this.SelectedCoordinatorId),t}search(){const t=this.getSearchForm();this.service.ChangeFilter(t),this.statusService.lastSearch=this.form.value,this.statusService.showSearch=!0,this.statusService.currentDate=this.currentDateFromStatus}clear(){this.form.reset(),this.form.get("hasNote").setValue(!1),this.showSearch=!0,this.filterText=void 0,this.service.ChangeFilter(void 0)}startSearchUser(t){let e={};e.filter=t.query,this.exService.getAppUserLookup(e).subscribe(t=>{this.AllUsers=t.items})}onSelect(t){}onClear(){this.form.reset(),this.form.get("hasNote").setValue(!1)}searchType(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)?"text":"search"}get(){this.search()}startSearchCoordinators(t){let e=Object.assign({},this.form.value);e.coachAppUserId&&e.coachAppUserId.id&&(e.coachAppUserId=e.coachAppUserId.id),this.coordinatorService.getCoordinatorsGeneralLookup({filterText:t.query,coachAppUserId:e.coachAppUserId,maxResultCount:void 0,skipCount:void 0}).subscribe(t=>{this.AllCoordinators=t.items})}onSelectCoordinator(t){this.SelectedCoordinatorId=t.appUserId}onClearCoordinator(){this.SelectedCoordinatorId=void 0,this.form.controls.balance.setValue(void 0)}}return t.\u0275fac=function(e){return new(e||t)(Z.Y36(_t.J),Z.Y36(kt.JL),Z.Y36(ht.q),Z.Y36(x.R),Z.Y36(a.$AH),Z.Y36(b.v),Z.Y36(Jt.$),Z.Y36(A.u),Z.Y36(Ot.F),Z.Y36(q.G),Z.Y36(a.oQ8),Z.Y36(S.qu),Z.Y36(K.k4))},t.\u0275cmp=Z.Xpm({type:t,selectors:[["app-host-dashboard"]],decls:22,vars:15,consts:[["class","alert alert-primary text-center",4,"ngIf"],[1,"card","bg-transparent","no-shadow"],[1,"card-header","px-0"],[1,"row","align-items-center"],[1,"col-lg-auto","col-md-12"],[1,"mb-lg-0"],[1,"col-xl-7","col-md-6"],[4,"ngIf"],[1,"col-lg","col-md-6"],[1,"text-lg-right","pt-2"],[1,"custom-control","custom-switch"],["type","checkbox","id","customSwitch5",1,"custom-control-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","customSwitch5",1,"custom-control-label"],[1,""],["id","advanced-content-filters",3,"ngbCollapse"],["validateOnSubmit","",3,"formGroup","ngSubmit",4,"ngIf"],[3,"traineeType","traineeCountChanged",4,"ngIf"],[1,"alert","alert-primary","text-center"],[1,"text-truncate"],["routerLinkActive","router-link-active",1,"btn","btn-success","btn-sm",3,"routerLink"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"card","mb-4"],[1,"card-body"],[1,"row"],[1,"col-12","col-md-4"],[1,"form-group"],["for","filterTextFilter"],["id","filterTextFilter","formControlName","filterText","maxlength","100",1,"form-control",3,"placeholder"],["filterTextControl",""],["class","col-12 col-md-4",4,"ngIf"],["formControlName","hasExerciseDay","id","HasExerciseDay","type","checkbox",1,"custom-control-input"],["for","HasExerciseDay",1,"custom-control-label"],["formControlName","hasNutritionDay","id","HasNutritionDay","type","checkbox",1,"custom-control-input"],["for","HasNutritionDay",1,"custom-control-label"],["class","div col-12 col-md-4",4,"ngIf"],[1,"col-md-12","align-self-end","mb-3"],[1,"col"],[1,"col-auto"],["type","button",1,"btn","btn-outline-primary","btn-block",3,"click"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],[2,"display","block"],["id","coachAppUserId","name","coachAppUserId","formControlName","coachAppUserId","dataKey","id","field","displayName","forceSelection","true",1,"",3,"suggestions","type","dropdown","placeholder","onClear","completeMethod","search"],["for","app-user-coach-app-user-id"],["id","coordinatorAppUserId","name","coordinatorAppUserId","formControlName","coordinatorAppUserId","dataKey","appUserId","field","name","forceSelection","true",3,"suggestions","type","dropdown","onClear","completeMethod","search","onSelect"],[1,"div","col-12","col-md-4"],["formControlName","hasNote","id","customstatusSwitch1","type","checkbox",1,"custom-control-input"],["for","customstatusSwitch1",1,"custom-control-label"],["formControlName","commitmentGeneral",3,"range","min","max"],["formControlName","commitmentExercise",3,"range","min","max"],["formControlName","commitmentNutrition",3,"range","min","max"],[3,"traineeType","traineeCountChanged"]],template:function(t,e){1&t&&(Z.YNc(0,se,4,4,"div",0),Z.TgZ(1,"div",1),Z.TgZ(2,"div",2),Z.TgZ(3,"div",3),Z.TgZ(4,"div",4),Z.TgZ(5,"h3",5),Z._uU(6),Z.ALo(7,"abpLocalization"),Z.qZA(),Z.qZA(),Z.TgZ(8,"div",6),Z.YNc(9,le,4,5,"div",7),Z.qZA(),Z.TgZ(10,"div",8),Z.TgZ(11,"div",9),Z.TgZ(12,"div",10),Z.TgZ(13,"input",11),Z.NdJ("ngModelChange",function(t){return e.showFilter=t}),Z.qZA(),Z.TgZ(14,"label",12),Z._uU(15),Z.ALo(16,"abpLocalization"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(17,"div",13),Z.TgZ(18,"div",14),Z.YNc(19,Ze,45,25,"form",15),Z.qZA(),Z.YNc(20,fe,1,1,"trainees-table",16),Z.YNc(21,be,1,0,"trainees-simple-list",7),Z.qZA(),Z.qZA()),2&t&&(Z.Q6J("ngIf",e.lastSubscriptionEndDateRemaining>0&&!e.disablePayment),Z.xp6(6),Z.Oqu(Z.lcZ(7,10,"::ProgressReport")),Z.xp6(3),Z.Q6J("ngIf",!e.isSimple),Z.xp6(4),Z.Q6J("ngModel",e.showFilter)("ngModelOptions",Z.DdM(14,Ae)),Z.xp6(2),Z.Oqu(Z.lcZ(16,12,"::SeeAdvancedFilters")),Z.xp6(3),Z.Q6J("ngbCollapse",e.isFiltersHidden),Z.xp6(1),Z.Q6J("ngIf",e.form),Z.xp6(1),Z.Q6J("ngIf",!e.isSimple),Z.xp6(1),Z.Q6J("ngIf",e.isSimple))},directives:[C.O5,S.Wl,S.JJ,S.On,$.m,r._D,f.yS,f.Od,S._Y,S.JL,a.YzZ,S.sg,o.hL,S.Fj,S.u,o.J5,S.nD,Pt.Qc,ne.iR,Yt.a,re.F,Dt.r],pipes:[a.fuE],styles:[".input-group-text.border[_ngcontent-%COMP%]{border-top-width:2px!important;border-bottom-width:2px!important;border-left-width:1px!important}"]}),t})();var Se=i(40878),Te=i(71149),ye=i(89486),qe=i(28157),Ce=i(17647),Ie=i(38749),Le=i(6194),we=i(2343),Ue=i(80652);function Ne(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"button",34),Z.NdJ("click",function(){Z.CHM(t);const e=Z.oxw().row;return Z.oxw().goToChat(e)}),Z._UZ(1,"i",35),Z.qZA()}}function _e(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"button",24),Z.NdJ("click",function(){Z.CHM(t);const e=Z.oxw().row;return Z.oxw().goToChat(e)}),Z._UZ(1,"i",35),Z._uU(2),Z.ALo(3,"abpLocalization"),Z.qZA()}2&t&&(Z.xp6(2),Z.hij(" ",Z.lcZ(3,1,"::StartSend")," "))}const ke=function(t){return{attachmentId:t,entity:"TraineeProfile"}};function Je(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"span",12),Z._uU(1),Z.qZA(),Z.TgZ(2,"div",13),Z.TgZ(3,"div",14),Z.NdJ("click",function(){const e=Z.CHM(t).row;return Z.oxw().view(e,1)}),Z._UZ(4,"img",15),Z.ALo(5,"async"),Z.ALo(6,"imgdownload"),Z.qZA(),Z.TgZ(7,"div",16),Z.TgZ(8,"div",17),Z.TgZ(9,"div",18),Z.NdJ("click",function(){const e=Z.CHM(t).row;return Z.oxw().view(e,1)}),Z._uU(10),Z.qZA(),Z.TgZ(11,"div",19),Z.YNc(12,Ne,2,0,"button",20),Z.TgZ(13,"div",21),Z._UZ(14,"button",22),Z.TgZ(15,"div",23),Z.TgZ(16,"button",24),Z.NdJ("click",function(){const e=Z.CHM(t).row;return Z.oxw().openModal1(e)}),Z._UZ(17,"i",25),Z._uU(18),Z.ALo(19,"abpLocalization"),Z.qZA(),Z.TgZ(20,"button",24),Z.NdJ("click",function(){const e=Z.CHM(t).row;return Z.oxw().view(e,1)}),Z._UZ(21,"i",26),Z._uU(22),Z.ALo(23,"abpLocalization"),Z.qZA(),Z.TgZ(24,"button",24),Z.NdJ("click",function(){const e=Z.CHM(t).row;return Z.oxw().view(e,2)}),Z._UZ(25,"i",27),Z._uU(26),Z.ALo(27,"abpLocalization"),Z.qZA(),Z.TgZ(28,"button",24),Z.NdJ("click",function(){const e=Z.CHM(t).row;return Z.oxw().view(e,3)}),Z._UZ(29,"i",28),Z._uU(30),Z.ALo(31,"abpLocalization"),Z.qZA(),Z.TgZ(32,"button",24),Z.NdJ("click",function(){const e=Z.CHM(t).row;return Z.oxw().view(e,4)}),Z._UZ(33,"i",29),Z._uU(34),Z.ALo(35,"abpLocalization"),Z.qZA(),Z.TgZ(36,"button",24),Z.NdJ("click",function(){const e=Z.CHM(t).row;return Z.oxw().view(e,5)}),Z._UZ(37,"i",30),Z._uU(38),Z.ALo(39,"abpLocalization"),Z.qZA(),Z.TgZ(40,"button",24),Z.NdJ("click",function(){const e=Z.CHM(t).row;return Z.oxw().view(e,6)}),Z._UZ(41,"i",31),Z._uU(42),Z.ALo(43,"abpLocalization"),Z.qZA(),Z.TgZ(44,"button",24),Z.NdJ("click",function(){const e=Z.CHM(t).row;return Z.oxw().view(e,7)}),Z._UZ(45,"i",32),Z._uU(46),Z.ALo(47,"abpLocalization"),Z.qZA(),Z.YNc(48,_e,4,3,"button",33),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()}if(2&t){const t=e.row,i=Z.oxw();Z.xp6(1),Z.hij(" ",t.id," "),Z.xp6(3),Z.Q6J("src",Z.lcZ(5,13,Z.lcZ(6,15,Z.VKq(33,ke,t.photoAttachmentId))),Z.LSH),Z.xp6(6),Z.hij(" ",t.name," "),Z.xp6(2),Z.Q6J("ngIf",!i.isAdmin),Z.xp6(6),Z.hij(" ",Z.lcZ(19,17,"::OverView")," "),Z.xp6(4),Z.hij(" ",Z.lcZ(23,19,"::View")," "),Z.xp6(4),Z.hij(" ",Z.lcZ(27,21,"::DailyFollowup")," "),Z.xp6(4),Z.hij(" ",Z.lcZ(31,23,"::TrainingProgram")," "),Z.xp6(4),Z.hij(" ",Z.lcZ(35,25,"::NutritionalProgram")," "),Z.xp6(4),Z.hij(" ",Z.lcZ(39,27,"::Progress")," "),Z.xp6(4),Z.hij(" ",Z.lcZ(43,29,"::TraineeSubscriptions")," "),Z.xp6(4),Z.hij(" ",Z.lcZ(47,31,"::AssingHistory")," "),Z.xp6(2),Z.Q6J("ngIf",!i.isAdmin)}}function Oe(t,e){1&t&&(Z.TgZ(0,"span"),Z._uU(1),Z.ALo(2,"abpLocalization"),Z.qZA()),2&t&&(Z.xp6(1),Z.hij(" ",Z.lcZ(2,1,"::Updated")," "))}const Me=function(t){return[t]};function Ye(t,e){if(1&t&&(Z.TgZ(0,"span"),Z.TgZ(1,"span",38),Z._uU(2),Z.YNc(3,Oe,3,3,"span",36),Z.qZA(),Z.TgZ(4,"div",39),Z._uU(5),Z.ALo(6,"abpLocalization"),Z.qZA(),Z._UZ(7,"br"),Z.qZA()),2&t){const t=Z.oxw(2).row;Z.xp6(1),Z.Q6J("routerLink",Z.VKq(7,Me,"/exercise-programs/"+t.exerciseProgramId)),Z.xp6(1),Z.hij(" ",t.exerciseProgramName," "),Z.xp6(1),Z.Q6J("ngIf",t.exerciseTags),Z.xp6(2),Z.AsE(" ",t.exerciseProgramRemaining," ",Z.lcZ(6,5,"::ADay")," ")}}function Pe(t,e){if(1&t&&(Z.TgZ(0,"span"),Z.TgZ(1,"span"),Z.TgZ(2,"span",38),Z._uU(3),Z.qZA(),Z.qZA(),Z.TgZ(4,"div",40),Z._uU(5),Z.ALo(6,"abpLocalization"),Z.qZA(),Z._UZ(7,"br"),Z.qZA()),2&t){const t=Z.oxw(3).row;Z.xp6(2),Z.Q6J("routerLink",Z.VKq(5,Me,"/exercise-programs/"+t.exerciseProgramId)),Z.xp6(1),Z.hij(" ",t.exerciseProgramName," "),Z.xp6(2),Z.hij(" ",Z.lcZ(6,3,"::Suggested")," ")}}function De(t,e){1&t&&(Z.TgZ(0,"span"),Z.TgZ(1,"span",41),Z._uU(2),Z.ALo(3,"abpLocalization"),Z.qZA(),Z._UZ(4,"br"),Z.qZA()),2&t&&(Z.xp6(2),Z.Oqu(Z.lcZ(3,1,"::NotFound")))}function Fe(t,e){if(1&t&&(Z.TgZ(0,"span"),Z.TgZ(1,"span",38),Z._uU(2),Z.qZA(),Z.TgZ(3,"div",42),Z._uU(4),Z.ALo(5,"abpLocalization"),Z.qZA(),Z._UZ(6,"br"),Z.qZA()),2&t){const t=Z.oxw(3).row;Z.xp6(1),Z.Q6J("routerLink",Z.VKq(5,Me,"/exercise-programs/"+t.exerciseProgramId)),Z.xp6(1),Z.hij(" ",t.exerciseProgramName," "),Z.xp6(2),Z.hij(" ",Z.lcZ(5,3,"::Scheduled")," ")}}function Qe(t,e){if(1&t&&(Z.TgZ(0,"span"),Z.YNc(1,Pe,8,7,"span",36),Z.YNc(2,De,5,3,"span",36),Z.YNc(3,Fe,7,7,"span",36),Z.qZA()),2&t){const t=Z.oxw(2).row,e=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",t.exerciseProgramStatus==e.DashboardProgramStatus.Suggested),Z.xp6(1),Z.Q6J("ngIf",t.exerciseProgramStatus===e.DashboardProgramStatus.Required),Z.xp6(1),Z.Q6J("ngIf",t.exerciseProgramStatus===e.DashboardProgramStatus.Scheduled)}}function ze(t,e){if(1&t&&(Z.TgZ(0,"span"),Z.TgZ(1,"span"),Z._UZ(2,"i",37),Z.qZA(),Z.YNc(3,Ye,8,9,"span",36),Z.YNc(4,Qe,4,3,"span",36),Z.qZA()),2&t){const t=Z.oxw().row,e=Z.oxw();Z.xp6(3),Z.Q6J("ngIf",t.exerciseProgramStatus==e.DashboardProgramStatus.Assigned),Z.xp6(1),Z.Q6J("ngIf",t.exerciseProgramStatus!==e.DashboardProgramStatus.Assigned)}}function je(t,e){if(1&t&&(Z.TgZ(0,"div"),Z.YNc(1,ze,5,2,"span",36),Z.qZA()),2&t){const t=e.row,i=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",i.isExerciseType(t))}}function Ee(t,e){1&t&&(Z.TgZ(0,"span"),Z._uU(1),Z.ALo(2,"abpLocalization"),Z.qZA()),2&t&&(Z.xp6(1),Z.hij(" ",Z.lcZ(2,1,"::Updated")," "))}function Ge(t,e){if(1&t&&(Z.TgZ(0,"span"),Z.TgZ(1,"span",38),Z._uU(2),Z.YNc(3,Ee,3,3,"span",36),Z.qZA(),Z.TgZ(4,"div",39),Z._uU(5),Z.ALo(6,"abpLocalization"),Z.qZA(),Z._UZ(7,"br"),Z.qZA()),2&t){const t=Z.oxw(2).row;Z.xp6(1),Z.Q6J("routerLink",Z.VKq(7,Me,"/nutrition-programs/"+t.nutritionProgramId)),Z.xp6(1),Z.hij(" ",t.nutritionProgramName," "),Z.xp6(1),Z.Q6J("ngIf",t.nutritionTags),Z.xp6(2),Z.AsE(" ",t.nutritionProgramRemaining," ",Z.lcZ(6,5,"::ADay")," ")}}function He(t,e){if(1&t&&(Z.TgZ(0,"span"),Z.TgZ(1,"span",38),Z._uU(2),Z.qZA(),Z.TgZ(3,"div",40),Z._uU(4),Z.ALo(5,"abpLocalization"),Z.qZA(),Z._UZ(6,"br"),Z.qZA()),2&t){const t=Z.oxw(3).row;Z.xp6(1),Z.Q6J("routerLink",Z.VKq(5,Me,"/nutrition-programs/"+t.nutritionProgramId)),Z.xp6(1),Z.hij(" ",t.nutritionProgramName," "),Z.xp6(2),Z.hij(" ",Z.lcZ(5,3,"::Suggested")," ")}}function Re(t,e){1&t&&(Z.TgZ(0,"span"),Z.TgZ(1,"span",41),Z._uU(2),Z.ALo(3,"abpLocalization"),Z.qZA(),Z._UZ(4,"br"),Z.qZA()),2&t&&(Z.xp6(2),Z.Oqu(Z.lcZ(3,1,"::NotFound")))}function Ve(t,e){if(1&t&&(Z.TgZ(0,"span"),Z.TgZ(1,"span",38),Z._uU(2),Z.qZA(),Z.TgZ(3,"div",42),Z._uU(4),Z.ALo(5,"abpLocalization"),Z.qZA(),Z._UZ(6,"br"),Z.qZA()),2&t){const t=Z.oxw(3).row;Z.xp6(1),Z.Q6J("routerLink",Z.VKq(5,Me,"/nutrition-programs/"+t.nutritionProgramId)),Z.xp6(1),Z.hij(" ",t.nutritionProgramName," "),Z.xp6(2),Z.hij(" ",Z.lcZ(5,3,"::Scheduled")," ")}}function We(t,e){if(1&t&&(Z.TgZ(0,"span"),Z.YNc(1,He,7,7,"span",36),Z.YNc(2,Re,5,3,"span",36),Z.YNc(3,Ve,7,7,"span",36),Z.qZA()),2&t){const t=Z.oxw(2).row,e=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",t.nutritionProgramStatus==e.DashboardProgramStatus.Suggested),Z.xp6(1),Z.Q6J("ngIf",t.nutritionProgramStatus===e.DashboardProgramStatus.Required),Z.xp6(1),Z.Q6J("ngIf",t.nutritionProgramStatus==e.DashboardProgramStatus.Scheduled)}}function Ke(t,e){if(1&t&&(Z.TgZ(0,"span"),Z.TgZ(1,"span"),Z._UZ(2,"i",43),Z.qZA(),Z.YNc(3,Ge,8,9,"span",36),Z.YNc(4,We,4,3,"span",36),Z.qZA()),2&t){const t=Z.oxw().row,e=Z.oxw();Z.xp6(3),Z.Q6J("ngIf",t.nutritionProgramStatus==e.DashboardProgramStatus.Assigned),Z.xp6(1),Z.Q6J("ngIf",t.nutritionProgramStatus!==e.DashboardProgramStatus.Assigned)}}function $e(t,e){if(1&t&&(Z.TgZ(0,"div"),Z.YNc(1,Ke,5,2,"span",36),Z.qZA()),2&t){const t=e.row,i=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",i.isNutritionType(t))}}function Be(t,e){1&t&&(Z.TgZ(0,"h3"),Z._uU(1),Z.ALo(2,"abpLocalization"),Z.qZA()),2&t&&(Z.xp6(1),Z.hij(" ",Z.lcZ(2,1,"::OverView")," "))}function Xe(t,e){if(1&t&&(Z._UZ(0,"trainee-profile-info",44),Z._UZ(1,"agent-statistics",44)),2&t){const t=Z.oxw();Z.Q6J("traineeId",t.traineeId)("readonly",!0),Z.xp6(1),Z.Q6J("traineeId",t.traineeId)("readonly",!0)}}function ti(t,e){1&t&&(Z.TgZ(0,"div",45),Z._UZ(1,"div",16),Z._UZ(2,"div",16),Z.qZA())}const ei=function(t){return{emptyMessage:t}};let ii=(()=>{class t{constructor(t,e,i,o,a,n,r,s,c,l,u,d,p,g,m,h,f){this.list=t,this.coordinatorService=e,this.traineeService=i,this.service=o,this.statusService=a,this.dateService=n,this.localCacheService=r,this.permissionService=s,this.environment=c,this._attachmentService=l,this.sessionExtraInfoService=u,this.assignNutritionProgramService=d,this.assignExerciseProgramService=p,this.assignedExerciseProgramService=g,this.fb=m,this.toaster=h,this.router=f,this.data={items:[{}],totalCount:1},this.Gender=z.Y0,this.traineeSubscriptionStatus=z.Nd,this.traineeCountChanged=new Z.vpe,this.PackageTypes=z.ij,this.pageKey="simple",this.isLoading=!0,this.isCoordinator=!0,this.isAdmin=!0,this.DashboardProgramStatus=z.LI,this.isModal1Open=!1,this.isModal2Open=!1,this.checkedItems=[]}ngOnDestroy(){this.statusService.saveQuery(this.pageKey,this.lastQuery),this.statusService.savePage(this.pageKey,this.list.page)}ngOnInit(){const t=this;this.assignExerciseProgramService.onGetAssignDate.subscribe(e=>t.getExerciseAssignDate(e)),this.assignNutritionProgramService.onGetAssignDate.subscribe(e=>t.getNutritionAssignDate(e)),this.assignExerciseProgramService.onAssigned.subscribe(e=>t.autoAssigneDone()),this.assignNutritionProgramService.onAssigned.subscribe(e=>t.autoAssigneDone()),this.lastQueryToGet=t.statusService.getQuery(t.pageKey),this.sessionExtraInfoService.whoAmI(e=>{t.isCoordinator=e.userType===z.bZ.Coordinator,t.isAdmin=e.userType===z.bZ.Admin}),this.input={},this.service.traineeFilter2.subscribe(e=>{t.input=Object.assign(Object.assign(Object.assign({},e),t.input),e),t.list.get()}),this.getList()}getList(){const t=this;this.list.hookToQuery(e=>{this.lastQueryToGet&&(e.skipCount=t.lastQueryToGet.skipCount,t.lastQueryToGet=void 0,t.list.page=t.statusService.getPage(t.pageKey)),t.lastQuery=e;const i=Object.assign(Object.assign({},e),t.input);if(void 0===i.traineePaid)return(0,Se.of)(t.data);const o=`traineelist_${JSON.stringify(i)}`;return t.traineeService.getSimpleList2(i).pipe((0,wt.z)(t.localCacheService,o,60)).pipe((0,j.x)(()=>{this.isLoading=!1,this.checkedItems=[]}))}).subscribe(e=>{t.data=e,t.data.items.forEach(e=>{t.service.enqueCachedItem(e.id)}),this.traineeCountChanged.next(t.data.totalCount)})}view(t,e){let i=new Date;this.router.navigate(["trainees/details",t.id,i.getDate(),i.getMonth(),i.getFullYear()],{queryParams:{tab:e}})}get isCurrentUserAdmin(){return this.permissionService.getGrantedPolicy("PhysicAdmin")}getDays(t){if(!t)return"";let e=new Date(t).getTime()-(new Date).getTime();return e<0?"":Math.ceil(e/864e5)+""}isWaitingAutomation(t){return t.subscriptionProcessStatus===z.VI.New}isExerciseType(t){return 22!=t.packageType}isNutritionType(t){return 21!=t.packageType}autoAssignExercise(t){}autoAssignNutrition(t){}autoAssigneDone(){const t=this;this.clearStorage(),this.localCacheService.tempDisable(60),setTimeout(()=>{t.list.get()},100)}clearStorage(){for(var t in console.log("clearing storage"),this.localCacheService.clearAll(),localStorage)t.startsWith("assinged_")&&localStorage.removeItem(t)}openModal1(t){this.traineeId=t.id,this.isModal1Open=!0}openModal2(t){this.traineeId=t.id,this.isModal2Open=!0}goToChat(t){this.traineeId=t.id,this.traineeService.getTraineeProfileSummaryById(this.traineeId).subscribe(t=>{this.router.navigate(["/chat-rooms"],{queryParams:{"rooms-id":t.chatRoomId}})})}startSearchProgram(t,e){let i={};i.filter=t.query,i.intensityLevel=e.intensityLevel,i.maxResultCount=50,i.traineeId=e.id,this.assignedExerciseProgramService.getExerciseProgramLookup(i).subscribe(t=>{this.AllPrograms=t.items})}onSelect(t){}onClear(){}searchType(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)?"text":"search"}isChecked(t){return this.checkedItems.filter(t=>t.isSelected).some(e=>e.id===t)}CheckChange(t,e,i,o){e!==this.isChecked(t.id)&&(e?(this.checkedItems.push({id:t.id,startSateTraining:null,startSateNutrition:null,row:t,isSelected:!0}),i.getAssignDate(t.id,t.exerciseProgramRemaining),o.getAssignDate(t.id,t.nutritionProgramRemaining)):this.checkedItems.forEach(e=>{e.id===t.id&&(e.isSelected=!1)}))}getExerciseAssignDate(t){this.isChecked(t.id)&&this.checkedItems.forEach(e=>{e.id===t.id&&(e.startSateTraining=t.dateString)})}getNutritionAssignDate(t){this.isChecked(t.id)&&this.checkedItems.forEach(e=>{e.id===t.id&&(e.startSateNutrition=t.dateString)})}isThereSomeSelectedItems(){return this.checkedItems.some(t=>t.isSelected)}isNotReadyToAssign(t){return this.checkedItems.some(t?t=>t.isSelected&&!t.startSateTraining:t=>t.isSelected&&!t.startSateNutrition)}}return t.\u0275fac=function(e){return new(e||t)(Z.Y36(a.XNV),Z.Y36(ht.q),Z.Y36(qe.s),Z.Y36(_t.J),Z.Y36(Jt.$),Z.Y36(x.R),Z.Y36(Ot.F),Z.Y36(a.$AH),Z.Y36(a.L$R),Z.Y36(y.L),Z.Y36(q.G),Z.Y36(Te.v),Z.Y36(ye.I),Z.Y36(kt.RT),Z.Y36(S.qu),Z.Y36(n.MJ),Z.Y36(f.F0))},t.\u0275cmp=Z.Xpm({type:t,selectors:[["trainees-simple-list-2"]],outputs:{traineeCountChanged:"traineeCountChanged"},features:[Z._Bn([a.XNV,x.R,Te.v,ye.I])],decls:21,vars:20,consts:[[1,"trainee-simple-list","fade-in-animation"],["default","",1,"app-dataview",3,"count","headerHeight","list","messages","rows"],["prop","traineeSubscription.paidPrice","minWidth","50","width","50",3,"name"],["ngx-datatable-cell-template",""],["cellClass","action-items","minWidth","50","width","50",3,"name","sortable"],[3,"onAssigned"],["assignE",""],["assignN",""],["size","xl",3,"visible","visibleChange"],["abpHeader",""],["abpBody",""],["class","d-flex alert alert-primary footer-primary",4,"ngIf"],[1,"id-icon","bg-primary"],[1,"row","no-gutters","align-items-center","cursor-pointer"],[1,"col-auto",3,"click"],["alt","","onerror","this.src='../../../../../assets/avatar.jpg'",1,"s-icon-lg",3,"src"],[1,"col"],[1,"row"],[1,"col","px-4",3,"click"],[1,"col-12"],["class","btn btn-link p-0 primary-b",3,"click",4,"ngIf"],["ngbDropdown","","container","body",1,"d-inline-block",2,"margin-left","0px","margin-right","auto","border","none"],["data-toggle","dropdown","aria-haspopup","true","ngbDropdownToggle","",1,"btn","btn-sm","btn-link",2,"color","#fdb915"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],[1,"fas","fa-eye","m-2"],[1,"fas","fa-info","m-2"],[1,"fas","fa-redo","m-2"],[1,"fas","fa-dumbbell","m-2"],[1,"fas","fa-apple-alt","m-2"],[1,"fas","fa-flag","m-2"],[1,"fa","fa-money-check-alt","m-2"],[1,"fas","fa-clock","m-2"],["ngbDropdownItem","",3,"click",4,"ngIf"],[1,"btn","btn-link","p-0","primary-b",3,"click"],[1,"fas","fa-comments","m-2"],[4,"ngIf"],[1,"fa","fa-dumbbell","text-muted"],[1,"btn","btn-link","btn-sm",3,"routerLink"],[1,"badge","badge-info"],[1,"badge","badge-warning"],[1,"m-2"],[1,"badge","badge-warning","m-2"],[1,"fa","fa-apple-alt","text-muted"],[3,"traineeId","readonly"],[1,"d-flex","alert","alert-primary","footer-primary"]],template:function(t,e){1&t&&(Z.TgZ(0,"div",0),Z.TgZ(1,"ngx-datatable",1),Z.TgZ(2,"ngx-datatable-column",2),Z.ALo(3,"abpLocalization"),Z.YNc(4,Je,49,35,"ng-template",3),Z.qZA(),Z.TgZ(5,"ngx-datatable-column",4),Z.ALo(6,"abpLocalization"),Z.YNc(7,je,2,1,"ng-template",3),Z.qZA(),Z.TgZ(8,"ngx-datatable-column",4),Z.ALo(9,"abpLocalization"),Z.YNc(10,$e,2,1,"ng-template",3),Z.qZA(),Z.qZA(),Z.TgZ(11,"app-assign-exercise-program-to-user",5,6),Z.NdJ("onAssigned",function(){return e.autoAssigneDone()}),Z.qZA(),Z.TgZ(13,"app-assign-nutrition-program",5,7),Z.NdJ("onAssigned",function(){return e.autoAssigneDone()}),Z.qZA(),Z.TgZ(15,"abp-modal",8),Z.NdJ("visibleChange",function(t){return e.isModal1Open=t}),Z.YNc(16,Be,3,3,"ng-template",null,9,Z.W1O),Z.YNc(18,Xe,2,4,"ng-template",null,10,Z.W1O),Z.qZA(),Z.YNc(20,ti,3,0,"div",11),Z.qZA()),2&t&&(Z.xp6(1),Z.Q6J("count",e.data.totalCount)("headerHeight",0)("list",e.list)("messages",Z.VKq(18,ei,e.isLoading?'<div class="loader"><div></div></div>':'<div class="data-empty"></div>'))("rows",e.data.items),Z.xp6(1),Z.s9C("name",Z.lcZ(3,12,"::Name")),Z.xp6(3),Z.Q6J("name",Z.lcZ(6,14,"::Actions"))("sortable",!1),Z.xp6(3),Z.Q6J("name",Z.lcZ(9,16,"::Actions"))("sortable",!1),Z.xp6(7),Z.Q6J("visible",e.isModal1Open),Z.xp6(5),Z.Q6J("ngIf",e.isThereSomeSelectedItems()))},directives:[Ce.nE,n.x7,n.j3,Ce.UC,Ce.vq,Ie.K,Le.v,n.zS,C.O5,r.jt,r.iD,r.Vi,r.TH,f.rH,we.a,Ue.Q],pipes:[a.fuE,C.Ov,I.H],styles:[".s-icon-lg[_ngcontent-%COMP%]{width:58px;height:58px;border-radius:50%;-o-object-fit:cover;object-fit:cover;padding:2px}@media (max-width:992px){.s-icon-lg[_ngcontent-%COMP%]{width:45px;height:45px}}.badge-warning[_ngcontent-%COMP%]{color:#fff}@media screen and (min-width:769px){.dv-details[_ngcontent-%COMP%]{font-size:.85rem!important}}  .trainee-simple-list .datatable-body-row{padding:4px 0!important}  .trainee-simple-list .datatable-row-center .datatable-body-cell-label:first-child{display:flex;width:100%}.btn-info[_ngcontent-%COMP%]{color:#fff}.primary-b[_ngcontent-%COMP%]{color:#868282}  .trainee-simple-list .datatable-body-cell-label .id-icon{top:-19px}  .trainee-simple-list .datatable-body-cell-label .dropdown-toggle:empty:after{font-size:large;margin-top:8px}.footer-primary[_ngcontent-%COMP%]{position:fixed;bottom:0;z-index:100;right:25vw;width:auto;width:50vw;margin-bottom:10px}@media (max-width:991px){.footer-primary[_ngcontent-%COMP%]{right:5vw;width:90vw}}"]}),t})();function oi(t,e){if(1&t&&(Z.TgZ(0,"div",19),Z.TgZ(1,"span",20),Z._uU(2),Z.ALo(3,"abpLocalization"),Z.qZA(),Z.TgZ(4,"a",21),Z._uU(5),Z.ALo(6,"abpLocalization"),Z.qZA(),Z.qZA()),2&t){const t=Z.oxw();Z.xp6(2),Z.Oqu(Z.xi3(3,2,"::LastSubscriptionEndDateRemaining",t.lastSubscriptionEndDateRemaining.toString())),Z.xp6(3),Z.Oqu(Z.lcZ(6,5,"::ClickHere"))}}function ai(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"button",22),Z.NdJ("click",function(){return Z.CHM(t),Z.oxw(),Z.MAs(28).open()}),Z._UZ(1,"i",23),Z.qZA()}}function ni(t,e){if(1&t&&(Z.TgZ(0,"span",44),Z._uU(1),Z.qZA()),2&t){const t=Z.oxw(2);Z.xp6(1),Z.Oqu(null==t.summary?null:t.summary.allCount)}}function ri(t,e){if(1&t&&(Z.TgZ(0,"span",44),Z._uU(1),Z.qZA()),2&t){const t=Z.oxw(2);Z.xp6(1),Z.Oqu(null==t.summary?null:t.summary.waitingAllCount)}}function si(t,e){if(1&t&&(Z.TgZ(0,"span",44),Z._uU(1),Z.qZA()),2&t){const t=Z.oxw(2);Z.xp6(1),Z.Oqu(null==t.summary?null:t.summary.waitingExerciseCount)}}function ci(t,e){if(1&t&&(Z.TgZ(0,"span",44),Z._uU(1),Z.qZA()),2&t){const t=Z.oxw(2);Z.xp6(1),Z.Oqu(null==t.summary?null:t.summary.waitingNutritionCount)}}function li(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"div",45),Z.TgZ(1,"div",29),Z.TgZ(2,"label",46),Z._uU(3),Z.ALo(4,"abpLocalization"),Z.qZA(),Z.TgZ(5,"p-autoComplete",47),Z.NdJ("onClear",function(){return Z.CHM(t),Z.oxw(2).onClear()})("completeMethod",function(e){return Z.CHM(t),Z.oxw(2).startSearchUser(e)})("search",function(e){return Z.CHM(t),Z.oxw(2).startSearchUser(e)}),Z.qZA(),Z.qZA(),Z.qZA()}if(2&t){const t=Z.oxw(2);Z.xp6(3),Z.hij(" ",Z.lcZ(4,4,"::CoachName")," "),Z.xp6(2),Z.Q6J("suggestions",t.AllCoaches)("type",t.searchType())("dropdown",!0)}}function ui(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"div",45),Z.TgZ(1,"div",29),Z.TgZ(2,"label",48),Z._uU(3),Z.ALo(4,"abpLocalization"),Z.qZA(),Z.TgZ(5,"p-autoComplete",49),Z.NdJ("onClear",function(){return Z.CHM(t),Z.oxw(2).onClearCoordinator()})("completeMethod",function(e){return Z.CHM(t),Z.oxw(2).startSearchCoordinators(e)})("search",function(e){return Z.CHM(t),Z.oxw(2).startSearchCoordinators(e)})("onSelect",function(e){return Z.CHM(t),Z.oxw(2).onSelectCoordinator(e)}),Z.qZA(),Z.qZA(),Z.qZA()}if(2&t){const t=Z.oxw(2);Z.xp6(3),Z.hij(" ",Z.lcZ(4,4,"::CoordinatorName")," "),Z.xp6(2),Z.Q6J("suggestions",t.AllCoordinators)("type",t.searchType())("dropdown",!0)}}function di(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"form",24),Z.NdJ("ngSubmit",function(){return Z.CHM(t),Z.oxw().get()}),Z.TgZ(1,"div",25),Z.TgZ(2,"div",26),Z.TgZ(3,"div",27),Z.TgZ(4,"div",28),Z.TgZ(5,"div",29),Z.TgZ(6,"label",30),Z._uU(7),Z.ALo(8,"abpLocalization"),Z.qZA(),Z._UZ(9,"input",31,32),Z.ALo(11,"abpLocalization"),Z.qZA(),Z.qZA(),Z.TgZ(12,"div",33),Z.TgZ(13,"div",34),Z.TgZ(14,"div",35),Z.NdJ("click",function(){Z.CHM(t);const e=Z.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.All}),Z._uU(15),Z.ALo(16,"abpLocalization"),Z.YNc(17,ni,2,1,"span",36),Z.qZA(),Z.TgZ(18,"div",35),Z.NdJ("click",function(){Z.CHM(t);const e=Z.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.WaitingAll}),Z._uU(19),Z.ALo(20,"abpLocalization"),Z.YNc(21,ri,2,1,"span",36),Z.qZA(),Z.TgZ(22,"div",35),Z.NdJ("click",function(){Z.CHM(t);const e=Z.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.WaitingExercise}),Z._uU(23),Z.ALo(24,"abpLocalization"),Z.YNc(25,si,2,1,"span",36),Z.qZA(),Z.TgZ(26,"div",35),Z.NdJ("click",function(){Z.CHM(t);const e=Z.oxw();return e.simpleStatus=e.SimpleTraineeSubscriptionStatus.WaitingNutrition}),Z._uU(27),Z.ALo(28,"abpLocalization"),Z.YNc(29,ci,2,1,"span",36),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(30,"div",37),Z.TgZ(31,"div",38),Z.TgZ(32,"div",39),Z.TgZ(33,"div",27),Z.YNc(34,li,6,6,"div",40),Z.YNc(35,ui,6,6,"div",40),Z.TgZ(36,"div",41),Z.TgZ(37,"div",27),Z._UZ(38,"div",28),Z.TgZ(39,"div",33),Z.TgZ(40,"button",42),Z.NdJ("click",function(){return Z.CHM(t),Z.oxw().clearFilters()}),Z.TgZ(41,"span"),Z._uU(42),Z.ALo(43,"abpLocalization"),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(44,"div",33),Z.TgZ(45,"button",43),Z.NdJ("click",function(){return Z.CHM(t),Z.oxw().get()}),Z.TgZ(46,"span"),Z._uU(47),Z.ALo(48,"abpLocalization"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()}if(2&t){const t=Z.oxw();Z.Q6J("formGroup",t.form),Z.xp6(7),Z.hij(" ",Z.lcZ(8,24,"::SearchFor")," "),Z.xp6(2),Z.s9C("placeholder",Z.lcZ(11,26,"::Search")),Z.xp6(5),Z.ekj("active",t.simpleStatus===t.SimpleTraineeSubscriptionStatus.All),Z.xp6(1),Z.hij(" ",Z.lcZ(16,28,"::All")," "),Z.xp6(2),Z.Q6J("ngIf",null==t.summary?null:t.summary.allCount),Z.xp6(1),Z.ekj("active",t.simpleStatus===t.SimpleTraineeSubscriptionStatus.WaitingAll),Z.xp6(1),Z.hij(" ",Z.lcZ(20,30,"::NewTrainees")," "),Z.xp6(2),Z.Q6J("ngIf",null==t.summary?null:t.summary.waitingAllCount),Z.xp6(1),Z.ekj("active",t.simpleStatus===t.SimpleTraineeSubscriptionStatus.WaitingExercise),Z.xp6(1),Z.hij(" ",Z.lcZ(24,32,"::WaitingExercise")," "),Z.xp6(2),Z.Q6J("ngIf",null==t.summary?null:t.summary.waitingExerciseCount),Z.xp6(1),Z.ekj("active",t.simpleStatus===t.SimpleTraineeSubscriptionStatus.WaitingNutrition),Z.xp6(1),Z.hij(" ",Z.lcZ(28,34,"::WaitingNutrition")," "),Z.xp6(2),Z.Q6J("ngIf",null==t.summary?null:t.summary.waitingNutritionCount),Z.xp6(1),Z.Q6J("ngbCollapse",t.isFiltersHidden),Z.xp6(4),Z.Q6J("ngIf",t.isCurrentUserAdmin),Z.xp6(1),Z.Q6J("ngIf",t.isCanSelectCoordinators),Z.xp6(7),Z.Oqu(Z.lcZ(43,36,"::Clear")),Z.xp6(5),Z.Oqu(Z.lcZ(48,38,"::Search"))}}function pi(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"trainees-simple-list-2",50),Z.NdJ("traineeCountChanged",function(){return Z.CHM(t),Z.oxw().updateSummary()}),Z.qZA()}}const gi=function(){return["/dashboard/old"]},mi=function(){return["/dashboard/simple"]},hi=function(){return{standalone:!0}},Zi=new Date;new Date(Zi.getFullYear(),Zi.getMonth()-1,Zi.getDate());const fi=[{path:"",component:(()=>{class t{constructor(t,e,i,o,a,n,r,s,c,l,u,d,p,g,m,h){this.service=t,this.exService=e,this.coordinatorService=i,this.dateService=o,this.permissionService=a,this.servicePkag=n,this.statusService=r,this.localCacheService=s,this.coachService=c,this.nutritionService=l,this.exerciseService=u,this.sessionExtraInfoService=d,this.analyticsService=p,this.l=g,this.fb=m,this.mobileHelperService=h,this.TraineeSubscriptionStatus=z.Nd,this.date="",this.traineeCount=0,this.showSearch=!0,this.filterText="",this.lastSubscriptionEndDateRemaining=0,this.isFiltersHidden=!0,this.isMobile=!1,this.disablePayment=!1,this.SimpleTraineeSuggested=z.Dc,this.categoriesList=[],this.suggestedList=[{id:z.Dc.All,name:this.l.instant("::All")},{id:z.Dc.WithSuggested,name:this.l.instant("::WithSuggested")},{id:z.Dc.WithoutSuggested,name:this.l.instant("::WithoutSuggested")},{id:3,name:this.l.instant("::Assigned")}],this.traineePaidList=[{id:It.All,name:this.l.instant("::All")},{id:It.Paid,name:this.l.instant("::Paid")},{id:It.Free,name:this.l.instant("::Free")}],this.goalsList=[],this.genresList=[],this.injuriesList=[],this.musclesList=[],this.isCanSelectCoordinators=!1,this.isCoach=!1,this.filters={},this.rangeValues=[1,20],this.SimpleTraineeSubscriptionStatus=z.yP,this.isSearched=!1,this.isShowActive=!1,this.AllUsers=[],this.AllCoaches=[]}get getIntensityLevel(){return this.form&&this.form.get("intensityLevel").value||0}get getpreferedNumberOfMeals(){return this.form&&this.form.get("preferedNumberOfMeals").value||""}get getnumberOfDays(){return this.form&&this.form.get("numberOfDays").value||""}startSearch(t){let e=[...this.musclesList];this.musclesList=[],setTimeout(()=>{this.musclesList=e},1e3)}ngOnInit(){this.analyticsService.log(Nt.O.View_HomePage);const t=this;this.disablePayment=h.N.disablePayment,this.sessionExtraInfoService.whoAmI2().subscribe(e=>{e.coachType==z.Tz.Normal&&(this.isCanSelectCoordinators=!1),e.userType===z.bZ.Coordinator?this.isCanSelectCoordinators=!1:e.userType===z.bZ.Coach?(this.isCanSelectCoordinators=!0,this.isCoach=!0):e.userType===z.bZ.Admin&&(this.isCanSelectCoordinators=!0),e.userType!==z.bZ.None&&t.initiate()}),this.isMobile=this.mobileHelperService.GetMobile(),this.isSearched=!0}initiate(){const t=this;t.form=t.fb.group({filterText:null,coachAppUserId:null,coordinatorAppUserId:null,hasExerciseDay:null,hasNutritionDay:null,muscleId:null,injuryId:null,exerciseGenreId:null,goalId:null,nutritionCategoryId:null,exerciseSuggested:null,nutritionSuggested:null,traineePaid:It.All,intensityLevel:0,preferedNumberOfMeals:0,numberOfDays:0,simpleStatus:z.yP.All}),t.form.get("filterText").valueChanges.pipe((0,Lt.b)(1200)).subscribe(e=>t.get()),setTimeout(()=>{t.statusService.lastSearch?(t.form.patchValue(t.statusService.lastSearch),t.showFilter=t.statusService.showSearch,t.currentDateFromStatus=t.statusService.currentDate,setTimeout(()=>{t.search()},100)):(t.currentDateFromStatus=new Date,t.search())},100),t.form.get("coachAppUserId").valueChanges.subscribe(e=>{t.form.get("coordinatorAppUserId").setValue(void 0)})}getField(t){let e=this.form.get(t).value;if(this.form&&e){if(0==e[0]&&0==e[1])return;return e}}get showFilter(){return this._showFilter}set showFilter(t){this._showFilter=t,this.isFiltersHidden=!t}get isCurrentUserAdmin(){return this.permissionService.getGrantedPolicy("PhysicAdmin")}clearFilters(){this.form.reset(),this.form.get("hasNote").setValue(!1),this.form.get("intensityLevel").setValue(0),this.form.get("preferedNumberOfMeals").setValue(0),this.form.get("numberOfDays").setValue(0),this.form.get("simpleStatus").setValue(z.yP.All),this.form.get("traineePaid").setValue(It.All),setTimeout(()=>{this.get(),this.statusService.lastSearch=void 0,this.statusService.showSearch=!1,this.statusService.currentDate=this.currentDateFromStatus},10)}ngAfterViewInit(){this.getdate(new Date),this.getSubscriptionRemaining()}ngOnDestroy(){}getdate(t){if(t){this.currentDateFromStatus=new Date(t),this.currentDateFromStatus.setHours(0,0,0,0);let e=H(this.currentDateFromStatus),i=this.dateService.parseMomentToString(e);this.dateString=i,this.service.currentDate.next({date:i,traineeId:0}),this.date=H(e).locale("ar-SA").format("dddd")+" - "+e.format("YYYY-MM-DD")}}getSubscriptionRemaining(){this.servicePkag.getSubscriptionRemaining().subscribe(t=>{this.lastSubscriptionEndDateRemaining=t})}traineeCountChanged(t){this.traineeCount=t}getSearchForm(){var t;let e=Object.assign({},null===(t=this.form)||void 0===t?void 0:t.value);return e.hasNutritionDay=1==e.hasNutritionDay?2:void 0,e.hasExerciseDay=1==e.hasExerciseDay?2:void 0,e.coachAppUserId=e.coachAppUserId&&e.coachAppUserId.appUserId?e.coachAppUserId.appUserId:void 0,e.coordinatorAppUserId&&(e.coordinatorAppUserId=this.SelectedCoordinatorId),e.muscleId||(e.muscleId=void 0),e.injuryId||(e.injuryId=void 0),e.intensityLevel&&0!==e.intensityLevel||(e.intensityLevel=void 0),e.preferedNumberOfMeals&&0!==e.preferedNumberOfMeals||(e.preferedNumberOfMeals=void 0),e.numberOfDays&&0!==e.numberOfDays||(e.numberOfDays=void 0),e.exerciseGenreId||(e.exerciseGenreId=void 0),e.goalId||(e.goalId=void 0),e.nutritionCategoryId||(e.nutritionCategoryId=void 0),e.exerciseSuggested||(e.exerciseSuggested=void 0),e.nutritionSuggested||(e.nutritionSuggested=void 0),e.traineePaid||(e.traineePaid=It.All),e.simpleStatus||(e.simpleStatus=z.yP.All),e.hasExerciseDay=void 0,e.hasNutritionDay=void 0,e}get simpleStatus(){return this.form.get("simpleStatus").value||z.yP.All}set simpleStatus(t){this.form.get("simpleStatus").setValue(t),setTimeout(()=>{this.get()},10)}search(){const t=this.getSearchForm();this.service.ChangeFilter2(t),this.statusService.lastSearch=this.form.value,this.statusService.showSearch=this.showFilter,this.statusService.currentDate=this.currentDateFromStatus,this.analyticsService.log(Nt.O.View_HomePage_Trainee_List,{simpleStatus:t.simpleStatus}),this.updateSummary(),setTimeout(()=>{this.isSearched=!0},10)}updateSummary(){}startSearchUser(t){const e=this;let i={};i.filterText=t.query,i.coachType=z.Tz.Vip,this.coachService.getCoachLookup(i).subscribe(t=>{e.AllCoaches=t.items})}onSelect(t){}onClear(){this.form.reset(),this.form.get("hasNote").setValue(!1)}searchType(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)?"text":"search"}get(){this.search()}startSearchCoordinators(t){let e=Object.assign({},this.form.value);e.coachAppUserId&&e.coachAppUserId.appUserId&&(e.coachAppUserId=e.coachAppUserId.appUserId),this.coordinatorService.getCoordinatorsGeneralLookup({filterText:t.query,coachAppUserId:e.coachAppUserId,maxResultCount:void 0,skipCount:void 0}).subscribe(t=>{this.AllCoordinators=t.items})}onSelectCoordinator(t){this.SelectedCoordinatorId=t.appUserId}onClearCoordinator(){this.SelectedCoordinatorId=void 0,this.form.controls.balance.setValue(void 0)}}return t.\u0275fac=function(e){return new(e||t)(Z.Y36(_t.J),Z.Y36(kt.JL),Z.Y36(ht.q),Z.Y36(x.R),Z.Y36(a.$AH),Z.Y36(b.v),Z.Y36(Jt.$),Z.Y36(Ot.F),Z.Y36(A.u),Z.Y36(kt.lF),Z.Y36(kt.JL),Z.Y36(q.G),Z.Y36(Nt.y),Z.Y36(a.oQ8),Z.Y36(S.qu),Z.Y36(K.k4))},t.\u0275cmp=Z.Xpm({type:t,selectors:[["app-simple-dashboard-2"]],decls:29,vars:23,consts:[["class","alert alert-primary text-center",4,"ngIf"],[1,"card","bg-transparent","no-shadow"],[1,"card-header","px-0"],[1,"row","align-items-center"],[1,"col-lg-auto","col-md-12"],[1,"mb-lg-0"],[1,"col-xl-7","col-md-6"],[1,"btn-group","d-block"],["routerLinkActive","router-link-active",1,"btn","btn-success","btn-sm",3,"routerLink"],["class","btn btn-secondary  btn-sm",3,"click",4,"ngIf"],[1,"col-lg","col-md-6"],[1,"text-lg-right","pt-2"],[1,"custom-control","custom-switch"],["type","checkbox","id","customSwitch5",1,"custom-control-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","customSwitch5",1,"custom-control-label"],[1,""],["validateOnSubmit","",3,"formGroup","ngSubmit",4,"ngIf"],[3,"traineeCountChanged",4,"ngIf"],["userSettings",""],[1,"alert","alert-primary","text-center"],[1,"text-truncate"],["routerLink","/onboarding/subscription",1,"font-weight-bolder"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-cogs"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"card","mb-4","card","mb-4","px-4","py-2"],[1,"card-body-old"],[1,"row"],[1,"col"],[1,"form-group"],["for","filterTextFilter"],["id","filterTextFilter","formControlName","filterText","maxlength","100",1,"form-control",3,"placeholder"],["filterTextControl",""],[1,"col-auto"],[1,"btn-group","mt-4"],[1,"btn","btn-secondary",3,"click"],["class","badge badge-light",4,"ngIf"],["id","advanced-content-filters",3,"ngbCollapse"],[1,"card","mb-4"],[1,"card-body"],["class","col-12 col-md-4",4,"ngIf"],[1,"col-md-12","align-self-end","mb-3"],["type","button",1,"btn","btn-outline-primary","btn-block",3,"click"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],[1,"badge","badge-light"],[1,"col-12","col-md-4"],[2,"display","block"],["id","coachAppUserId","name","coachAppUserId","formControlName","coachAppUserId","dataKey","appUserId","field","name","forceSelection","true",3,"suggestions","type","dropdown","onClear","completeMethod","search"],["for","app-user-coach-app-user-id"],["id","coordinatorAppUserId","name","coordinatorAppUserId","formControlName","coordinatorAppUserId","dataKey","appUserId","field","name","forceSelection","true",3,"suggestions","type","dropdown","onClear","completeMethod","search","onSelect"],[3,"traineeCountChanged"]],template:function(t,e){1&t&&(Z.YNc(0,oi,7,7,"div",0),Z.TgZ(1,"div",1),Z.TgZ(2,"div",2),Z.TgZ(3,"div",3),Z.TgZ(4,"div",4),Z.TgZ(5,"h3",5),Z._uU(6),Z.ALo(7,"abpLocalization"),Z.qZA(),Z.qZA(),Z.TgZ(8,"div",6),Z.TgZ(9,"div",7),Z.TgZ(10,"a",8),Z._uU(11),Z.ALo(12,"abpLocalization"),Z.qZA(),Z.TgZ(13,"a",8),Z._uU(14),Z.ALo(15,"abpLocalization"),Z.qZA(),Z.YNc(16,ai,2,0,"button",9),Z.qZA(),Z.qZA(),Z.TgZ(17,"div",10),Z.TgZ(18,"div",11),Z.TgZ(19,"div",12),Z.TgZ(20,"input",13),Z.NdJ("ngModelChange",function(t){return e.showFilter=t}),Z.qZA(),Z.TgZ(21,"label",14),Z._uU(22),Z.ALo(23,"abpLocalization"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(24,"div",15),Z.YNc(25,di,49,40,"form",16),Z.YNc(26,pi,1,0,"trainees-simple-list-2",17),Z.qZA(),Z.qZA(),Z._UZ(27,"app-user-setting",null,18)),2&t&&(Z.Q6J("ngIf",e.lastSubscriptionEndDateRemaining>0&&!e.disablePayment),Z.xp6(6),Z.Oqu(Z.lcZ(7,12,"::Dashboard")),Z.xp6(4),Z.Q6J("routerLink",Z.DdM(20,gi)),Z.xp6(1),Z.hij(" ",Z.lcZ(12,14,"::ProgressReport")," "),Z.xp6(2),Z.Q6J("routerLink",Z.DdM(21,mi)),Z.xp6(1),Z.hij(" ",Z.lcZ(15,16,"::ProgressReport")," 2 "),Z.xp6(2),Z.Q6J("ngIf",e.isCoach),Z.xp6(4),Z.Q6J("ngModel",e.showFilter)("ngModelOptions",Z.DdM(22,hi)),Z.xp6(2),Z.Oqu(Z.lcZ(23,18,"::SeeAdvancedFilters")),Z.xp6(3),Z.Q6J("ngIf",e.form),Z.xp6(1),Z.Q6J("ngIf",e.isSearched))},directives:[C.O5,f.yS,f.Od,S.Wl,S.JJ,S.On,$.m,Mt.m,S._Y,S.JL,a.YzZ,S.sg,o.hL,S.Fj,S.u,o.J5,S.nD,r._D,Pt.Qc,ii],pipes:[a.fuE],encapsulation:2}),t})()},{path:"old",component:xe},{path:"simple",component:ae},{path:"myprofile",component:Ct},{path:"mysubscription",component:Q}];let bi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Z.oAB({type:t}),t.\u0275inj=Z.cJS({imports:[[f.Bz.forChild(fi)],f.Bz]}),t})();var Ai=i(83845),vi=i(87161);let xi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Z.oAB({type:t}),t.\u0275inj=Z.cJS({imports:[[m.m,bi,vi.UserSettingModule,r.M,s.AuditLoggingModule,c.SaasModule,p.TraineeModule,g.r,u.CoachModule,r.lQ,d.CoordinatorModule,a.IR2,n.e2,l.Ck,Ai.vv,o.h2,r.XC,ne.JH]]}),t})()}}]);