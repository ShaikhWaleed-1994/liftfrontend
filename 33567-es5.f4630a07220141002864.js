!function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkPhysic=self.webpackChunkPhysic||[]).push([[33567,55e3],{33567:function(t,n,a){"use strict";a.r(n),a.d(n,{InjuryModule:function(){return P}});var o=a(46700),r=a(55679),l=a(10135),s=a(99046),c=a(83845),u=a(73756),p=a(56410),d=a(31041),m=a(2996),f=a(11520),g=a(44019),Z=a(43835),h=a(44689),b=a(35366),v=function(){var t=function t(e){var n=this;i(this,t),this.restService=e,this.apiName="Default",this.create=function(t){return n.restService.request({method:"POST",url:"/api/app/injuries",body:t},{apiName:n.apiName})},this.delete=function(t){return n.restService.request({method:"DELETE",url:"/api/app/injuries/".concat(t)},{apiName:n.apiName})},this.get=function(t){return n.restService.request({method:"GET",url:"/api/app/injuries/".concat(t)},{apiName:n.apiName})},this.getList=function(t){return n.restService.request({method:"GET",url:"/api/app/injuries",params:{filterText:t.filterText,nameAr:t.nameAr,nameEn:t.nameEn,attachmentIdMin:t.attachmentIdMin,attachmentIdMax:t.attachmentIdMax,isDisabled:t.isDisabled,sorting:t.sorting,skipCount:t.skipCount,maxResultCount:t.maxResultCount}},{apiName:n.apiName})},this.update=function(t,e){return n.restService.request({method:"PUT",url:"/api/app/injuries/".concat(t),body:e},{apiName:n.apiName})}};return t.\u0275fac=function(e){return new(e||t)(b.LFG(o.vgb))},t.\u0275prov=b.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),A=a(23733),q=a(17647),x=a(55e3),T=a(61116),y=a(1663);function N(t,e){if(1&t){var i=b.EpF();b.TgZ(0,"button",40),b.NdJ("click",function(){return b.CHM(i),b.oxw().create()}),b._UZ(1,"i",41),b._uU(2),b.ALo(3,"abpLocalization"),b.qZA()}2&t&&(b.xp6(2),b.hij(" ",b.lcZ(3,1,"::NewInjury")," "))}function L(t,e){if(1&t&&(b.TgZ(0,"div",42),b._uU(1),b.ALo(2,"abpLocalization"),b.qZA(),b.TgZ(3,"span",43),b._UZ(4,"is-empty",44),b.qZA()),2&t){var i=e.row;b.xp6(1),b.Oqu(b.lcZ(2,2,"::NameAr")),b.xp6(3),b.Q6J("value",i.nameAr)}}function w(t,e){if(1&t&&(b.TgZ(0,"div",42),b._uU(1),b.ALo(2,"abpLocalization"),b.qZA(),b.TgZ(3,"span",43),b._UZ(4,"is-empty",44),b.qZA()),2&t){var i=e.row;b.xp6(1),b.Oqu(b.lcZ(2,2,"::NameEn")),b.xp6(3),b.Q6J("value",i.nameEn)}}function U(t,e){}function k(t,e){1&t&&(b.TgZ(0,"div",48),b.TgZ(1,"span",49),b.ALo(2,"abpLocalization"),b._UZ(3,"i",50),b.qZA(),b.qZA()),2&t&&(b.xp6(1),b.Q6J("title",b.lcZ(2,1,"AbpUi::Yes")))}function M(t,e){1&t&&(b.TgZ(0,"div",51),b.TgZ(1,"span",49),b.ALo(2,"abpLocalization"),b._UZ(3,"i",52),b.qZA(),b.qZA()),2&t&&(b.xp6(1),b.Q6J("title",b.lcZ(2,1,"AbpUi::No")))}function C(t,e){if(1&t&&(b.YNc(0,U,0,0,"ng-template",45),b.YNc(1,k,4,3,"ng-template",null,46,b.W1O),b.YNc(3,M,4,3,"ng-template",null,47,b.W1O)),2&t){var i=e.row,n=b.MAs(2),a=b.MAs(4);b.Q6J("ngIf",i.isDisabled)("ngIfThen",n)("ngIfElse",a)}}function j(t,e){if(1&t){var i=b.EpF();b.TgZ(0,"div",54),b.NdJ("click",function(){b.CHM(i);var t=b.oxw().row;return b.oxw().update(t)}),b._UZ(1,"i",55),b.TgZ(2,"div"),b._uU(3),b.ALo(4,"abpLocalization"),b.qZA(),b.qZA()}2&t&&(b.xp6(3),b.hij(" ",b.lcZ(4,1,"AbpUi::Edit")," "))}function F(t,e){if(1&t){var i=b.EpF();b.TgZ(0,"div",54),b.NdJ("click",function(){b.CHM(i);var t=b.oxw().row;return b.oxw().delete(t)}),b._UZ(1,"i",56),b.TgZ(2,"div"),b._uU(3),b.ALo(4,"abpLocalization"),b.qZA(),b.qZA()}2&t&&(b.xp6(3),b.hij(" ",b.lcZ(4,1,"AbpUi::Delete")," "))}function _(t,e){1&t&&(b.YNc(0,j,5,3,"div",53),b.YNc(1,F,5,3,"div",53)),2&t&&(b.Q6J("abpPermission","Physic.Injuries.Edit"),b.xp6(1),b.Q6J("abpPermission","Physic.Injuries.Delete"))}function J(t,e){if(1&t&&(b.TgZ(0,"h3"),b._uU(1),b.ALo(2,"abpLocalization"),b.qZA()),2&t){var i=b.oxw();b.xp6(1),b.hij(" ",b.lcZ(2,1,i.selected?"AbpUi::Edit":"::NewInjury")," ")}}function z(t,e){if(1&t){var i=b.EpF();b.TgZ(0,"form",57),b.NdJ("ngSubmit",function(){return b.CHM(i),b.oxw().submitForm()}),b.TgZ(1,"div",58),b.TgZ(2,"div",59),b.TgZ(3,"label",60),b._uU(4),b.ALo(5,"abpLocalization"),b.qZA(),b._UZ(6,"input",61),b.qZA(),b.TgZ(7,"div",59),b.TgZ(8,"label",62),b._uU(9),b.ALo(10,"abpLocalization"),b.qZA(),b._UZ(11,"input",63),b.qZA(),b.TgZ(12,"div",59),b.TgZ(13,"label",64),b._uU(14),b.ALo(15,"abpLocalization"),b.qZA(),b.TgZ(16,"sw-attachment",65,66),b.NdJ("attachmentUpdated",function(t){return b.CHM(i),b.oxw().attachmentUpdated(t)}),b.qZA(),b.qZA(),b.TgZ(18,"div",67),b._UZ(19,"input",68),b.TgZ(20,"label",69),b._uU(21),b.ALo(22,"abpLocalization"),b.qZA(),b.qZA(),b.qZA(),b.qZA()}if(2&t){var n=b.oxw();b.Q6J("formGroup",n.form),b.xp6(4),b.hij(" ",b.lcZ(5,7,"::NameAr")," * "),b.xp6(5),b.hij(" ",b.lcZ(10,9,"::NameEn")," * "),b.xp6(5),b.hij(" ",b.lcZ(15,11,"::AttachmentId")," "),b.xp6(2),b.Q6J("maxFilesCount",1)("maxFileSize",2e8),b.xp6(5),b.hij(" ",b.lcZ(22,13,"::IsDisabled")," ")}}function E(t,e){if(1&t){var i=b.EpF();b.TgZ(0,"button",70,71),b._uU(2),b.ALo(3,"abpLocalization"),b.qZA(),b.TgZ(4,"abp-button",72),b.NdJ("click",function(){return b.CHM(i),b.oxw().submitForm()}),b._uU(5),b.ALo(6,"abpLocalization"),b.qZA()}if(2&t){var n=b.oxw();b.xp6(2),b.hij(" ",b.lcZ(3,3,"AbpUi::Cancel")," "),b.xp6(2),b.Q6J("disabled",null==n.form?null:n.form.invalid),b.xp6(1),b.hij(" ",b.lcZ(6,5,"AbpUi::Save")," ")}}var I,O,Y=function(){return{standalone:!0}},D=[{path:"",component:(I=function(){function t(e,n,a,o,r,l){i(this,t),this.list=e,this.track=n,this.service=a,this.confirmation=o,this.dateService=r,this.fb=l,this.data={items:[],totalCount:0},this.filters={},this.isFiltersHidden=!0,this.isModalBusy=!1,this.isModalOpen=!1}return e(t,[{key:"showFilter",get:function(){return this._showFilter},set:function(t){this._showFilter=t,this.isFiltersHidden=!t}},{key:"ngOnInit",value:function(){var t=this;this.list.hookToQuery(function(e){var i=Object.assign({},t.filters);return t.service.getList(Object.assign(Object.assign(Object.assign({},e),i),{filterText:e.filter}))}).subscribe(function(e){return t.data=e})}},{key:"clearFilters",value:function(){this.filters={}}},{key:"buildForm",value:function(){var t=this.selected||{},e=t.nameAr,i=t.nameEn,n=t.attachmentId,a=t.isDisabled;this.form=this.fb.group({nameAr:[null!=e?e:null,[d.kI.required]],nameEn:[null!=i?i:null,[d.kI.required]],attachmentId:[null!=n?n:null,[]],isDisabled:[null!=a?a:null,[]],attachmentFiles:[null,[]]})}},{key:"hideForm",value:function(){this.isModalOpen=!1,this.form.reset()}},{key:"showForm",value:function(){this.buildForm(),this.isModalOpen=!0}},{key:"submitForm",value:function(){var t=this;if(!this.form.invalid){var e=this.selected?this.service.update(this.selected.id,this.form.value):this.service.create(this.form.value);this.isModalBusy=!0,e.pipe((0,f.x)(function(){return t.isModalBusy=!1}),(0,g.b)(function(){return t.hideForm()})).subscribe(this.list.get)}}},{key:"create",value:function(){this.selected=void 0,this.showForm()}},{key:"update",value:function(t){this.selected=t,this.showForm()}},{key:"delete",value:function(t){var e=this;this.confirmation.warn("::DeleteConfirmationMessage","::AreYouSure",{messageLocalizationParams:[]}).pipe((0,Z.h)(function(t){return t===r.Tv.Status.confirm}),(0,h.w)(function(){return e.service.delete(t.id)})).subscribe(this.list.get)}},{key:"attachmentUpdated",value:function(t){this.form.get("attachmentFiles").setValue(t.files.toString())}}]),t}(),I.\u0275fac=function(t){return new(t||I)(b.Y36(o.XNV),b.Y36(o.vR3),b.Y36(v),b.Y36(r.YP),b.Y36(m.R),b.Y36(d.qu))},I.\u0275cmp=b.Xpm({type:I,selectors:[["app-injury"]],features:[b._Bn([o.XNV,m.R])],decls:81,vars:61,consts:[[1,"row","entry-row"],[1,"col-12","col-sm-auto","content-header-container"],[1,"content-header-title","custom-green"],[1,"col-lg-auto","pl-lg-0"],[1,"col-lg"],[1,"text-lg-right","pt-2"],[1,"custom-control","custom-switch"],["type","checkbox","id","customSwitch1",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","customSwitch1",1,"custom-control-label"],[1,"col-auto"],["class","btn btn-primary btn-sm","type","button",3,"click",4,"abpPermission"],["id","advanced-content-filters",3,"ngbCollapse"],[1,"card","mb-4"],[1,"card-body"],[3,"keyup.enter"],["filterForm",""],[1,"row"],[1,"col-md-4","col-sm-auto"],[1,"form-group"],["for","nameArFilter"],["id","nameArFilter",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","nameEnFilter"],["id","nameEnFilter",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","isDisabledFilter"],["name","isDisabled","id","isDisabledFilter",1,"custom-select","form-control",3,"ngModel","ngModelOptions","ngModelChange","change"],[3,"ngValue"],[1,"col-md-12","align-self-end","mb-3"],[1,"col"],["type","button",1,"btn","btn-outline-primary","btn-block",3,"click"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],["default","",3,"rows","count","list"],["prop","nameAr",3,"name"],["ngx-datatable-cell-template",""],["prop","nameEn",3,"name"],["prop","isDisabled",3,"name"],[3,"name","maxWidth","width","sortable"],["size","lg",3,"busy","visible","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-plus","mr-1"],[1,"custom-gray","custom-600"],[1,"custom-black","custom-600"],[3,"value"],[3,"ngIf","ngIfThen","ngIfElse"],["yes",""],["no",""],[1,"text-center","text-success"],[3,"title"],["aria-hidden","true",1,"fa","fa-check"],[1,"text-center","text-danger"],["aria-hidden","true",1,"fa","fa-times"],["class","action-item",3,"click",4,"abpPermission"],[1,"action-item",3,"click"],[1,"fa","fa-pen","custom-green"],[1,"fa","fa-times","custom-green","action-boarder"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"mt-2","fade-in-top","row"],[1,"form-group","col-md-4"],["for","injury-name-ar"],["id","injury-name-ar","formControlName","nameAr","autofocus","",1,"form-control"],["for","injury-name-en"],["id","injury-name-en","formControlName","nameEn",1,"form-control"],["for","injury-attachment-id"],["Entity","Settings","formControlName","attachmentId","acceptTypes",".png,.jpg,.jpeg","id","attachment-id","name","AttachmentId",1,"attached-files",3,"maxFilesCount","maxFileSize","attachmentUpdated"],["chatAttachmentId",""],[1,"form-group","form-check","custom-checkbox","custom-control"],["type","checkbox","id","injury-is-disabled","formControlName","isDisabled",1,"form-check-input","custom-control-input"],["for","injury-is-disabled",1,"custom-control-label"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["iconClass","fa fa-check",3,"disabled","click"]],template:function(t,e){1&t&&(b.TgZ(0,"div",0),b.TgZ(1,"div",1),b.TgZ(2,"h1",2),b._uU(3),b.ALo(4,"abpLocalization"),b.qZA(),b._UZ(5,"abp-breadcrumb"),b.qZA(),b._UZ(6,"div",3),b.TgZ(7,"div",4),b.TgZ(8,"div",5),b.TgZ(9,"div",6),b.TgZ(10,"input",7),b.NdJ("ngModelChange",function(t){return e.showFilter=t}),b.qZA(),b.TgZ(11,"label",8),b._uU(12),b.ALo(13,"abpLocalization"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(14,"div",9),b.TgZ(15,"div",5),b.YNc(16,N,4,3,"button",10),b.qZA(),b.qZA(),b.qZA(),b.TgZ(17,"div",11),b.TgZ(18,"div",12),b.TgZ(19,"div",13),b.TgZ(20,"form",14,15),b.NdJ("keyup.enter",function(){return e.list.get()}),b.TgZ(22,"div",16),b.TgZ(23,"div",17),b.TgZ(24,"div",18),b.TgZ(25,"label",19),b._uU(26),b.ALo(27,"abpLocalization"),b.qZA(),b.TgZ(28,"input",20),b.NdJ("ngModelChange",function(t){return e.filters.nameAr=t}),b.qZA(),b.qZA(),b.qZA(),b.TgZ(29,"div",17),b.TgZ(30,"div",18),b.TgZ(31,"label",21),b._uU(32),b.ALo(33,"abpLocalization"),b.qZA(),b.TgZ(34,"input",22),b.NdJ("ngModelChange",function(t){return e.filters.nameEn=t}),b.qZA(),b.qZA(),b.qZA(),b.TgZ(35,"div",17),b.TgZ(36,"div",18),b.TgZ(37,"label",23),b._uU(38),b.ALo(39,"abpLocalization"),b.qZA(),b.TgZ(40,"select",24),b.NdJ("ngModelChange",function(t){return e.filters.isDisabled=t})("change",function(){return e.list.get()}),b._UZ(41,"option",25),b.TgZ(42,"option",25),b._uU(43),b.ALo(44,"abpLocalization"),b.qZA(),b.TgZ(45,"option",25),b._uU(46),b.ALo(47,"abpLocalization"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(48,"div",26),b.TgZ(49,"div",16),b._UZ(50,"div",27),b.TgZ(51,"div",9),b.TgZ(52,"button",28),b.NdJ("click",function(){return e.clearFilters()}),b.TgZ(53,"span"),b._uU(54),b.ALo(55,"abpLocalization"),b.qZA(),b.qZA(),b.qZA(),b.TgZ(56,"div",9),b.TgZ(57,"button",29),b.NdJ("click",function(){return e.list.get()}),b.TgZ(58,"span"),b._uU(59),b.ALo(60,"abpLocalization"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(61,"ngx-datatable",30),b.TgZ(62,"ngx-datatable-column",31),b.ALo(63,"abpLocalization"),b.YNc(64,L,5,4,"ng-template",32),b.qZA(),b.TgZ(65,"ngx-datatable-column",33),b.ALo(66,"abpLocalization"),b.YNc(67,w,5,4,"ng-template",32),b.qZA(),b.TgZ(68,"ngx-datatable-column",34),b.ALo(69,"abpLocalization"),b.YNc(70,C,5,3,"ng-template",32),b.qZA(),b.TgZ(71,"ngx-datatable-column",35),b.ALo(72,"abpLocalization"),b.YNc(73,_,2,2,"ng-template",32),b.qZA(),b.qZA(),b.TgZ(74,"abp-modal",36),b.NdJ("visibleChange",function(t){return e.isModalOpen=t}),b.YNc(75,J,3,3,"ng-template",null,37,b.W1O),b.YNc(77,z,23,15,"ng-template",null,38,b.W1O),b.YNc(79,E,7,7,"ng-template",null,39,b.W1O),b.qZA()),2&t&&(b.xp6(3),b.Oqu(b.lcZ(4,32,"::Injuries")),b.xp6(7),b.Q6J("ngModel",e.showFilter),b.xp6(2),b.Oqu(b.lcZ(13,34,"::SeeAdvancedFilters")),b.xp6(4),b.Q6J("abpPermission","Physic.Injuries.Create"),b.xp6(1),b.Q6J("ngbCollapse",e.isFiltersHidden),b.xp6(9),b.hij(" ",b.lcZ(27,36,"::NameAr")," "),b.xp6(2),b.Q6J("ngModel",e.filters.nameAr)("ngModelOptions",b.DdM(58,Y)),b.xp6(4),b.hij(" ",b.lcZ(33,38,"::NameEn")," "),b.xp6(2),b.Q6J("ngModel",e.filters.nameEn)("ngModelOptions",b.DdM(59,Y)),b.xp6(4),b.hij(" ",b.lcZ(39,40,"::IsDisabled")," "),b.xp6(2),b.Q6J("ngModel",e.filters.isDisabled)("ngModelOptions",b.DdM(60,Y)),b.xp6(2),b.Q6J("ngValue",!0),b.xp6(1),b.Oqu(b.lcZ(44,42,"AbpUi::Yes")),b.xp6(2),b.Q6J("ngValue",!1),b.xp6(1),b.Oqu(b.lcZ(47,44,"AbpUi::No")),b.xp6(8),b.Oqu(b.lcZ(55,46,"AbpUi::Clear")),b.xp6(5),b.Oqu(b.lcZ(60,48,"AbpUi::Refresh")),b.xp6(2),b.Q6J("rows",e.data.items)("count",e.data.totalCount)("list",e.list),b.xp6(1),b.s9C("name",b.lcZ(63,50,"::NameAr")),b.xp6(3),b.s9C("name",b.lcZ(66,52,"::NameEn")),b.xp6(3),b.s9C("name",b.lcZ(69,54,"::IsDisabled")),b.xp6(3),b.Q6J("name",b.lcZ(72,56,"AbpUi::Actions"))("maxWidth",200)("width",200)("sortable",!1),b.xp6(3),b.Q6J("busy",e.isModalBusy)("visible",e.isModalOpen))},directives:[r.LI,d.Wl,d.JJ,d.On,A.m,o.l97,l._D,d._Y,d.JL,d.F,d.Fj,d.EJ,d.YN,d.Kr,q.nE,r.x7,r.j3,q.UC,q.vq,r.zS,x.K,T.O5,o.YzZ,d.sg,s.hL,d.u,s.J5,o.Uqp,y.Y,r.r0],pipes:[o.fuE],encapsulation:2}),I),canActivate:[o.a1M,o.nG9]}],S=function(){var t=function t(){i(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.oAB({type:t}),t.\u0275inj=b.cJS({imports:[[p.Bz.forChild(D)],p.Bz]}),t}(),Q=a(56137),P=((O=function t(){i(this,t)}).\u0275fac=function(t){return new(t||O)},O.\u0275mod=b.oAB({type:O}),O.\u0275inj=b.cJS({imports:[[S,o.IR2,r.e2,u.Ck,c.vv,s.h2,l.lQ,l.M,Q.m,l.XC]]}),O)},55e3:function(t,n,a){"use strict";a.d(n,{K:function(){return d}});var o=a(46700),r=a(2996),l=a(35366),s=a(61116);function c(t,e){if(1&t&&(l.TgZ(0,"span",2),l.TgZ(1,"span"),l._uU(2),l.qZA(),l.Hsn(3),l.qZA()),2&t){var i=l.oxw();l.xp6(2),l.Oqu(i.parsedDate)}}function u(t,e){if(1&t&&(l.TgZ(0,"span",3),l._uU(1),l.qZA()),2&t){var i=l.oxw();l.xp6(1),l.hij(" ",i.l("NotFound"),"\n")}}var p=["*"],d=function(){var t=function(){function t(e,n){i(this,t),this.dateService=n,this.localization=e.get(o.oQ8)}return e(t,[{key:"value",get:function(){return this._value},set:function(t){this._value=t,this.parsedDate=this.value instanceof Date?this.dateService.parseDate(t):t}},{key:"l",value:function(t){return this.localization.instant("::"+t)}},{key:"isNotEmpty",value:function(){return!!this.value&&("string"!=typeof this.value||this.value.length>0)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.zs3),l.Y36(r.R))},t.\u0275cmp=l.Xpm({type:t,selectors:[["is-empty"]],inputs:{value:"value"},features:[l._Bn([r.R])],ngContentSelectors:p,decls:2,vars:2,consts:[["class","sw-dv-details",4,"ngIf"],["class","sw-dv-details empty-value custom-gray","style","font-size: 12px;font-style: italic;",4,"ngIf"],[1,"sw-dv-details"],[1,"sw-dv-details","empty-value","custom-gray",2,"font-size","12px","font-style","italic"]],template:function(t,e){1&t&&(l.F$t(),l.YNc(0,c,4,1,"span",0),l.YNc(1,u,2,1,"span",1)),2&t&&(l.Q6J("ngIf",e.isNotEmpty()),l.xp6(1),l.Q6J("ngIf",!e.isNotEmpty()))},directives:[s.O5],encapsulation:2}),t}()}}])}();