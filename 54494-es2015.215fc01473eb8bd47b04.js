(self.webpackChunkPhysic=self.webpackChunkPhysic||[]).push([[54494],{54494:function(t,e,i){"use strict";i.r(e),i.d(e,{ExerciseGenreModule:function(){return z}});var n=i(46700),o=i(55679),a=i(10135),s=i(99046),l=i(83845),c=i(73756),r=i(56410),u=i(2996),p=i(11520),d=i(44019),m=i(40878),g=i(35366),Z=i(41047),b=i(31041),h=i(17647),f=i(55e3),A=i(23733),v=i(99416);const q=["tagInput"];function x(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"button",28),g.NdJ("click",function(){return g.CHM(t),g.oxw().create()}),g._UZ(1,"i",29),g._uU(2),g.ALo(3,"abpLocalization"),g.qZA()}2&t&&(g.xp6(2),g.hij(" ",g.lcZ(3,1,"::NewExerciseGenre")," "))}function T(t,e){if(1&t&&(g.TgZ(0,"div",30),g._uU(1),g.ALo(2,"abpLocalization"),g.qZA(),g.TgZ(3,"span",31),g._UZ(4,"is-empty",32),g.qZA(),g.TgZ(5,"span",33),g._UZ(6,"is-empty",32),g.qZA()),2&t){const t=e.row;g.xp6(1),g.Oqu(g.lcZ(2,3,"::Name")),g.xp6(3),g.Q6J("value",t.name),g.xp6(2),g.Q6J("value",t.nameEn)}}function L(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"div",35),g.NdJ("click",function(){g.CHM(t);const e=g.oxw().row;return g.oxw().update(e)}),g._UZ(1,"i",36),g.TgZ(2,"div"),g._uU(3),g.ALo(4,"abpLocalization"),g.qZA(),g.qZA()}2&t&&(g.xp6(3),g.Oqu(g.lcZ(4,1,"AbpUi::Edit")))}function y(t,e){1&t&&g.YNc(0,L,5,3,"div",34),2&t&&g.Q6J("abpPermission","Physic.ExerciseGenres.Edit")}function w(t,e){if(1&t&&(g.TgZ(0,"h3"),g._uU(1),g.ALo(2,"abpLocalization"),g.qZA()),2&t){const t=g.oxw();g.xp6(1),g.hij(" ",g.lcZ(2,1,t.selected?"AbpUi::Edit":"::NewExerciseGenre")," ")}}const U=function(){return[32]};function _(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"form",37),g.NdJ("ngSubmit",function(){return g.CHM(t),g.oxw().submitForm()}),g.TgZ(1,"div",38),g.TgZ(2,"div",39),g.TgZ(3,"label",40),g._uU(4),g.ALo(5,"abpLocalization"),g.qZA(),g._UZ(6,"input",41),g.qZA(),g.TgZ(7,"div",39),g.TgZ(8,"label",40),g._uU(9),g.ALo(10,"abpLocalization"),g.qZA(),g._UZ(11,"input",42),g.qZA(),g.TgZ(12,"div",43),g.TgZ(13,"label",44),g._uU(14),g.ALo(15,"abpLocalization"),g.TgZ(16,"span",45),g._uU(17),g.ALo(18,"abpLocalization"),g.qZA(),g.qZA(),g._UZ(19,"tag-input",46,47),g.ALo(21,"abpLocalization"),g.ALo(22,"abpLocalization"),g.qZA(),g.TgZ(23,"div",48),g.TgZ(24,"button",49,50),g._uU(26),g.ALo(27,"abpLocalization"),g.qZA(),g.TgZ(28,"button",51),g._UZ(29,"i",52),g._uU(30),g.ALo(31,"abpLocalization"),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){const t=g.oxw();g.Q6J("formGroup",t.form),g.xp6(4),g.hij(" ",g.lcZ(5,11,"::Name")," "),g.xp6(5),g.hij(" ",g.lcZ(10,13,"::NameEn")," "),g.xp6(5),g.hij(" ",g.lcZ(15,15,"::Tags")," "),g.xp6(3),g.Oqu(g.lcZ(18,17,"::Optional")),g.xp6(2),g.s9C("secondaryPlaceholder",g.lcZ(21,19,"::Tags")),g.s9C("placeholder",g.lcZ(22,21,"::AddTag")),g.Q6J("onAdding",t.onAdding)("separatorKeyCodes",g.DdM(27,U)),g.xp6(7),g.hij(" ",g.lcZ(27,23,"AbpUi::Cancel")," "),g.xp6(4),g.hij(" ",g.lcZ(31,25,"AbpUi::Save")," ")}}const C=function(t){return{emptyMessage:t}},F=[{path:"",component:(()=>{class t{constructor(t,e,i,n,o,a){this.list=t,this.track=e,this.service=i,this.confirmation=n,this.dateService=o,this.fb=a,this.data={items:[],totalCount:0},this.filters={},this.isFiltersHidden=!0,this.isModalBusy=!1,this.isModalOpen=!1,this.isLoading=!0,this.preventSubmit=!1}get showFilter(){return this._showFilter}set showFilter(t){this._showFilter=t,this.isFiltersHidden=!t}ngOnInit(){this.list.hookToQuery(t=>{let e=Object.assign({},this.filters);return this.service.getList(Object.assign(Object.assign({},t),e)).pipe((0,p.x)(()=>this.isLoading=!1))}).subscribe(t=>this.data=t)}clearFilters(){this.filters={},this.list.get()}buildForm(){let{name:t,nameEn:e,tags:i}=this.selected||{};i=(i||"").trim();let n=[];i.length>0&&i.split(",").forEach(t=>{n.push({value:t,display:t})}),this.form=this.fb.group({name:[null!=t?t:null,[]],nameEn:[null!=e?e:null,[]],tags:[null!=i?i:null,[]],tagsList:[n,[]]})}hideForm(){this.isModalOpen=!1,this.form.reset()}showForm(){this.buildForm(),this.isModalOpen=!0}onAdding(t){return this.preventSubmit=!0,setTimeout(()=>{this.preventSubmit=!1},500),(0,m.of)(t)}submitForm(){if(this.tagInput.preventSubmit)return;if(this.form.invalid)return;let t=this.form.value,e=[...t.tagsList||[]].map(t=>t.value);t.tagsList=void 0,t.tags=e.toString();const i=this.selected?this.service.update(this.selected.id,this.form.value):this.service.create(this.form.value);this.isModalBusy=!0,i.pipe((0,p.x)(()=>this.isModalBusy=!1),(0,d.b)(()=>this.hideForm())).subscribe(this.list.get)}create(){this.selected=void 0,this.showForm()}update(t){this.selected=t,this.showForm()}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(n.XNV),g.Y36(n.vR3),g.Y36(Z.g),g.Y36(o.YP),g.Y36(u.R),g.Y36(b.qu))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-exercise-genre"]],viewQuery:function(t,e){if(1&t&&g.Gf(q,5),2&t){let t;g.iGM(t=g.CRH())&&(e.tagInput=t.first)}},features:[g._Bn([n.XNV,u.R])],decls:47,vars:31,consts:[[1,"row","entry-row","align-items-center"],[1,"col-12","col-sm-auto","content-header-container"],[1,"content-header-title","custom-green"],[1,"col-lg-auto","pl-lg-0"],[1,"col-lg"],[1,"col-auto"],[1,"text-lg-right","pt-2"],["class","btn btn-success btn-new btn-lg","type","button",3,"click",4,"abpPermission"],["id","advanced-content-filters",3,"ngbCollapse"],[1,"card","mb-4"],[1,"card-body"],[3,"keyup.enter"],["filterForm",""],[1,"row"],[1,"col-md-4","col-sm-auto"],[1,"form-group"],["for","nameFilter"],[1,"col-md-12","align-self-end","mb-3"],[1,"col"],["type","button",1,"btn","btn-outline-primary","btn-block",3,"click"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],["default","",1,"app-dataview",3,"messages","rows","count","list"],["prop","name",3,"name"],["ngx-datatable-cell-template",""],[3,"name","maxWidth","width","sortable"],["size","sm",3,"busy","visible","visibleChange"],["abpHeader",""],["abpBody",""],["type","button",1,"btn","btn-success","btn-new","btn-lg",3,"click"],["aria-hidden","true",1,"fa","fa-plus","mr-1"],[1,"custom-gray","custom-600"],[1,"custom-black","custom-600","view-rtl"],[3,"value"],[1,"custom-black","custom-600","view-ltr"],["class","action-item",3,"click",4,"abpPermission"],[1,"action-item",3,"click"],[1,"fa","fa-pen","custom-green"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"mt-2","fade-in-top","row"],[1,"form-group","col-md-12"],["for","exercise-genre-name"],["id","exercise-genre-name","formControlName","name","autofocus","",1,"form-control"],["id","exercise-genre-name","formControlName","nameEn","autofocus","",1,"form-control"],[1,"form-group","col-12"],["for","exercise-tags"],[1,"optional-input","badge","badge-info"],["id","exercise-tags","formControlName","tagsList",3,"onAdding","separatorKeyCodes","secondaryPlaceholder","placeholder"],["tagInput",""],[1,"col-sm-12","modal-footer"],["type","button",1,"btn","btn-secondary","btn-cancel"],["abpClose",""],["type","submit",1,"btn","btn-success","btn-save"],[1,"fa","fa-check"]],template:function(t,e){1&t&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"h1",2),g._uU(3),g.ALo(4,"abpLocalization"),g.qZA(),g._UZ(5,"abp-breadcrumb"),g.qZA(),g._UZ(6,"div",3),g._UZ(7,"div",4),g.TgZ(8,"div",5),g.TgZ(9,"div",6),g.YNc(10,x,4,3,"button",7),g.qZA(),g.qZA(),g.qZA(),g.TgZ(11,"div",8),g.TgZ(12,"div",9),g.TgZ(13,"div",10),g.TgZ(14,"form",11,12),g.NdJ("keyup.enter",function(){return e.list.get()}),g.TgZ(16,"div",13),g.TgZ(17,"div",14),g.TgZ(18,"div",15),g.TgZ(19,"label",16),g._uU(20),g.ALo(21,"abpLocalization"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(22,"div",17),g.TgZ(23,"div",13),g._UZ(24,"div",18),g.TgZ(25,"div",5),g.TgZ(26,"button",19),g.NdJ("click",function(){return e.clearFilters()}),g.TgZ(27,"span"),g._uU(28),g.ALo(29,"abpLocalization"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(30,"div",5),g.TgZ(31,"button",20),g.NdJ("click",function(){return e.list.get()}),g.TgZ(32,"span"),g._uU(33),g.ALo(34,"abpLocalization"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(35,"ngx-datatable",21),g.TgZ(36,"ngx-datatable-column",22),g.ALo(37,"abpLocalization"),g.YNc(38,T,7,5,"ng-template",23),g.qZA(),g.TgZ(39,"ngx-datatable-column",24),g.ALo(40,"abpLocalization"),g.YNc(41,y,1,1,"ng-template",23),g.qZA(),g.qZA(),g.TgZ(42,"abp-modal",25),g.NdJ("visibleChange",function(t){return e.isModalOpen=t}),g.YNc(43,w,3,3,"ng-template",null,26,g.W1O),g.YNc(45,_,32,28,"ng-template",null,27,g.W1O),g.qZA()),2&t&&(g.xp6(3),g.Oqu(g.lcZ(4,17,"::ExerciseGenres")),g.xp6(7),g.Q6J("abpPermission","Physic.ExerciseGenres.Create"),g.xp6(1),g.Q6J("ngbCollapse",e.isFiltersHidden),g.xp6(9),g.hij(" ",g.lcZ(21,19,"::Name")," "),g.xp6(8),g.Oqu(g.lcZ(29,21,"AbpUi::Clear")),g.xp6(5),g.Oqu(g.lcZ(34,23,"::Search")),g.xp6(2),g.Q6J("messages",g.VKq(29,C,e.isLoading?"<div class=loader><div></div></div>":"<div class=data-empty></div>"))("rows",e.data.items)("count",e.data.totalCount)("list",e.list),g.xp6(1),g.s9C("name",g.lcZ(37,25,"::Name")),g.xp6(3),g.Q6J("name",g.lcZ(40,27,"AbpUi::Actions"))("maxWidth",200)("width",200)("sortable",!1),g.xp6(3),g.Q6J("busy",e.isModalBusy)("visible",e.isModalOpen))},directives:[o.LI,n.l97,a._D,b._Y,b.JL,b.F,h.nE,o.x7,o.j3,h.UC,h.vq,o.zS,f.K,n.YzZ,b.sg,s.hL,b.Fj,b.JJ,b.u,s.J5,A.m,n.Uqp,v.m7],pipes:[n.fuE],encapsulation:2}),t})(),canActivate:[n.a1M,n.nG9]}];let N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[r.Bz.forChild(F)],r.Bz]}),t})();var k=i(56137);let z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[N,n.IR2,o.e2,c.Ck,l.vv,s.h2,a.lQ,a.M,v.vO,k.m,a.XC]]}),t})()}}]);